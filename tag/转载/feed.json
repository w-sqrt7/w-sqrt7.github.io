{
    "version": "https://jsonfeed.org/version/1",
    "title": "sqrt7 • All posts by \"转载\" tag",
    "description": "",
    "home_page_url": "https://w-sqrt7.github.io",
    "items": [
        {
            "id": "https://w-sqrt7.github.io/2024/11/23/other/basic/%E4%BA%92%E8%81%94%E7%BD%91%E6%96%87%E7%AB%A0%E4%B8%8B%E8%BD%BD/",
            "url": "https://w-sqrt7.github.io/2024/11/23/other/basic/%E4%BA%92%E8%81%94%E7%BD%91%E6%96%87%E7%AB%A0%E4%B8%8B%E8%BD%BD/",
            "title": "Windows渗透测试中常用命令",
            "date_published": "2024-11-23T03:29:39.311Z",
            "content_html": "<h1 id=\"互联网文章下载\"><a href=\"#互联网文章下载\" class=\"headerlink\" title=\"互联网文章下载\"></a>互联网文章下载</h1><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">在互联网上，总会有些技术文章等，让人看得眼前一亮，想要扒下来存着，方便以后使用，但是苦恼于一直无法获取源文件，所以最开始，在我啥都不懂的时候，dump文章基本上都是靠ctrl+c和ctrl+v来操作的，但是弄下来之后排版问题基本上可以说的上是惨不忍睹，这又要自己花费大量的时间去修改整理，总之很费劲，但到了如今，对计算机的使用也是越发的熟练，也就准备写一份这样的文章，记录一下，同时纪念一下曾经那个有些蠢笨的自己。</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"1-普通站点文章\"><a href=\"#1-普通站点文章\" class=\"headerlink\" title=\"1.普通站点文章\"></a>1.普通站点文章</h2><p>大部分网站还是比较好操作的，直接ctrl+p或浏览器右上角进行页面打印就可以，打印为pdf文件，后续在利用格式工厂或其他工具转为其他格式，看个人需求。</p>\n<p><img src=\"/2024/11/23/other/basic/%E4%BA%92%E8%81%94%E7%BD%91%E6%96%87%E7%AB%A0%E4%B8%8B%E8%BD%BD/image-20241123114111667.png\" alt=\"image-20241123114111667\"></p>\n<p><img src=\"/2024/11/23/other/basic/%E4%BA%92%E8%81%94%E7%BD%91%E6%96%87%E7%AB%A0%E4%B8%8B%E8%BD%BD/image-20241123113928907.png\" alt=\"image-20241123113928907\"></p>\n<h2 id=\"2-CSDN博客文章\"><a href=\"#2-CSDN博客文章\" class=\"headerlink\" title=\"2.CSDN博客文章\"></a>2.CSDN博客文章</h2><p>在CSDN上面下载文章相对麻烦一些，首先打开控制台，输入给出的代码并回车，然后会自动弹出打印窗口，有的时候会出现卡边的情况，这里要根据实际情况，修改一下纵横方向，纸张大小，缩放比例等。</p>\n<p>当然也有一些个人博客等比较麻烦的，根据实际情况修改代码或其他设置即可。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">(<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    $(<span class=\"string\">&quot;#side&quot;</span>).<span class=\"title function_\">remove</span>();</span><br><span class=\"line\">    $(<span class=\"string\">&quot;#comment_title, #comment_list, #comment_bar, #comment_form, .announce, #ad_cen, #ad_bot&quot;</span>).<span class=\"title function_\">remove</span>();</span><br><span class=\"line\">    $(<span class=\"string\">&quot;.nav_top_2011, #header, #navigator&quot;</span>).<span class=\"title function_\">remove</span>();</span><br><span class=\"line\">    $(<span class=\"string\">&quot;.p4course_target, .comment-box, .recommend-box, #csdn-toolbar, #tool-box&quot;</span>).<span class=\"title function_\">remove</span>();</span><br><span class=\"line\">    $(<span class=\"string\">&quot;aside&quot;</span>).<span class=\"title function_\">remove</span>();</span><br><span class=\"line\">    $(<span class=\"string\">&quot;.tool-box&quot;</span>).<span class=\"title function_\">remove</span>();</span><br><span class=\"line\">    $(<span class=\"string\">&quot;#toolBarBox&quot;</span>).<span class=\"title function_\">remove</span>();</span><br><span class=\"line\">    $(<span class=\"string\">&quot;main&quot;</span>).<span class=\"title function_\">css</span>(<span class=\"string\">&#x27;display&#x27;</span>,<span class=\"string\">&#x27;content&#x27;</span>); </span><br><span class=\"line\">    $(<span class=\"string\">&quot;main&quot;</span>).<span class=\"title function_\">css</span>(<span class=\"string\">&#x27;float&#x27;</span>,<span class=\"string\">&#x27;left&#x27;</span>);</span><br><span class=\"line\">    $(<span class=\"string\">&quot;.option-box&quot;</span>).<span class=\"title function_\">remove</span>();</span><br><span class=\"line\">    $(<span class=\"string\">&quot;body&quot;</span>).<span class=\"title function_\">css</span>(<span class=\"string\">&#x27;min-width&#x27;</span>,<span class=\"number\">0</span>);</span><br><span class=\"line\">    $(<span class=\"string\">&quot;.option-box&quot;</span>).<span class=\"title function_\">remove</span>();</span><br><span class=\"line\">    <span class=\"variable language_\">window</span>.<span class=\"title function_\">print</span>();</span><br><span class=\"line\">&#125;)();</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/2024/11/23/other/basic/%E4%BA%92%E8%81%94%E7%BD%91%E6%96%87%E7%AB%A0%E4%B8%8B%E8%BD%BD/image-20241123115204137.png\" alt=\"image-20241123115204137\"></p>\n<p><img src=\"/2024/11/23/other/basic/%E4%BA%92%E8%81%94%E7%BD%91%E6%96%87%E7%AB%A0%E4%B8%8B%E8%BD%BD/image-20241123115138233.png\" alt=\"image-20241123115138233\"></p>\n<h2 id=\"3-微信公众号文章\"><a href=\"#3-微信公众号文章\" class=\"headerlink\" title=\"3.微信公众号文章\"></a>3.微信公众号文章</h2><p>打开公众号文章，想方设法用浏览器打开，然后就是直接页面打印就行了</p>\n<p><img src=\"/2024/11/23/other/basic/%E4%BA%92%E8%81%94%E7%BD%91%E6%96%87%E7%AB%A0%E4%B8%8B%E8%BD%BD/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-11-23%20115654.png\" alt=\"屏幕截图 2024-11-23 115654\"></p>\n<p><img src=\"/2024/11/23/other/basic/%E4%BA%92%E8%81%94%E7%BD%91%E6%96%87%E7%AB%A0%E4%B8%8B%E8%BD%BD/image-20241123115920720.png\" alt=\"image-20241123115920720\"></p>\n<p><img src=\"/2024/11/23/other/basic/%E4%BA%92%E8%81%94%E7%BD%91%E6%96%87%E7%AB%A0%E4%B8%8B%E8%BD%BD/image-20241123120008767.png\" alt=\"image-20241123120008767\"></p>\n",
            "tags": [
                "转载",
                "基础"
            ]
        },
        {
            "id": "https://w-sqrt7.github.io/2024/09/21/other/basic/kali%E4%BD%BF%E7%94%A8%E5%8D%95%E7%94%A8%E6%88%B7%E6%A8%A1%E5%BC%8F/",
            "url": "https://w-sqrt7.github.io/2024/09/21/other/basic/kali%E4%BD%BF%E7%94%A8%E5%8D%95%E7%94%A8%E6%88%B7%E6%A8%A1%E5%BC%8F/",
            "title": "Windows渗透测试中常用命令",
            "date_published": "2024-09-21T11:40:45.518Z",
            "content_html": "<h3 id=\"使用单用户模式\"><a href=\"#使用单用户模式\" class=\"headerlink\" title=\"使用单用户模式\"></a>使用单用户模式</h3><p>如果你可以以单用户模式登录，可以尝试从单用户模式恢复文件。</p>\n<ol>\n<li><p><strong>重启系统</strong>： 重启你的计算机。</p>\n</li>\n<li><p><strong>进入 GRUB 菜单</strong>： 在启动过程中，当GRUB菜单出现时，选择 “Advanced options for Kali Linux”。在启动过程中，当GRUB（GRand Unified Bootloader）菜单出现时，选择你通常启动的Kali Linux内核条目，但不要按回车键进入。</p>\n</li>\n<li><p><strong>编辑启动选项</strong>： 在高亮显示的内核条目上，按<code>e</code>键编辑启动选项。</p>\n</li>\n<li><p><strong>修改内核启动行</strong>： 使用上下箭头键找到以<code>linux</code>开头的那一行。在这一行的末尾，添加以下参数：</p>\n<figure class=\"highlight text\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">init=/bin/bash</span><br></pre></td></tr></table></figure>\n\n<p>确保不要添加任何前缀空格，但要在现有的<code>ro</code>或其他参数后添加一个空格，然后再添加<code>init=/bin/bash</code>。</p>\n</li>\n<li><p><strong>进入单用户模式</strong>： 完成上述配置后按下<code>ctrl + X</code>或<code>F10</code>启动系统系统将启动到一个单用户模式的root shell。，。</p>\n</li>\n<li><p><strong>挂载文件系统为读写模式</strong>： 在单用户模式下，文件系统默认是只读的，需要重新挂载为读写模式：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mount -o remount,rw /</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong>恢复原始文件或重置密码</strong>： 使用Live CD&#x2F;USB或其他方式获取原始文件，并替换更改的文件。你可以使用 <code>cp</code> 命令从Live环境复制文件到系统中。</p>\n</li>\n<li><p><strong>重启系统</strong>： 执行 <code>reboot -f</code> 命令重启系统。</p>\n</li>\n</ol>\n<h3 id=\"检查文件系统状态\"><a href=\"#检查文件系统状态\" class=\"headerlink\" title=\"检查文件系统状态\"></a>检查文件系统状态</h3><p>首先，你需要检查文件系统的状态。运行以下命令来查看文件系统的挂载状态：</p>\n<p>bash</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mount | grep <span class=\"string\">&quot; on / &quot;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"重新挂载文件系统为读写模式\"><a href=\"#重新挂载文件系统为读写模式\" class=\"headerlink\" title=\"重新挂载文件系统为读写模式\"></a>重新挂载文件系统为读写模式</h3><p>如果文件系统被挂载为只读，你可以尝试重新挂载为读写模式。使用以下命令：</p>\n<p>bash</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo mount -o remount,rw /</span><br></pre></td></tr></table></figure>\n\n<p>这条命令会尝试重新挂载根文件系统为读写模式。如果成功，你可以再次尝试更改权限。</p>\n<h3 id=\"检查文件系统错误\"><a href=\"#检查文件系统错误\" class=\"headerlink\" title=\"检查文件系统错误\"></a>检查文件系统错误</h3><p>如果文件系统被挂载为只读，可能是因为有未处理的错误。运行文件系统检查：</p>\n<p>bash复制</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo fsck -f /</span><br></pre></td></tr></table></figure>",
            "tags": [
                "转载",
                "基础"
            ]
        },
        {
            "id": "https://w-sqrt7.github.io/2024/04/27/other/basic/Docker%E4%BD%BF%E7%94%A8%E5%9F%BA%E7%A1%80%E8%AF%A6%E8%A7%A3/",
            "url": "https://w-sqrt7.github.io/2024/04/27/other/basic/Docker%E4%BD%BF%E7%94%A8%E5%9F%BA%E7%A1%80%E8%AF%A6%E8%A7%A3/",
            "title": "Docker使用基础详解",
            "date_published": "2024-04-27T03:00:42.014Z",
            "content_html": "<h1 id=\"Docker使用基础详解\"><a href=\"#Docker使用基础详解\" class=\"headerlink\" title=\"Docker使用基础详解\"></a>Docker使用基础详解</h1><h2 id=\"一、什么是docker\"><a href=\"#一、什么是docker\" class=\"headerlink\" title=\"一、什么是docker\"></a>一、什么是docker</h2><p>Docker 是一个开源的应用容器引擎，基于Go 语言并遵从 Apache2.0 协议开源。</p>\n<p>Docker 可以让开发者打包他们的应用以及依赖包到一个轻量级、可移植的容器中，然后发布到任何流行的 Linux 机器上，也可以实现虚拟化。</p>\n<p>容器是完全使用沙箱机制，相互之间不会有任何接口，更重要的是容器性能开销极低。</p>\n<ul>\n<li>容器和镜像</li>\n</ul>\n<p>通过镜像启动一个容器，一个镜像是一个可执行的包，其中包括运行应用程序所需要的所有内容包含代码，运行时间，库、环境变量、和配置文件。容器是镜像的运行实例，当被运行时有镜像状态和用户进程，可以使用docker ps 查看。</p>\n<ul>\n<li>容器和虚拟机</li>\n</ul>\n<p>容器时在linux上本机运行，并与其他容器共享主机的内核，它运行的一个独立的进程，不占用其他任何可执行文件的内存，非常轻量。</p>\n<p>虚拟机运行的是一个完成的操作系统，通过虚拟机管理程序对主机资源进行虚拟访问，相比之下需要的资源更多。</p>\n<h2 id=\"二、docker和docker-compose\"><a href=\"#二、docker和docker-compose\" class=\"headerlink\" title=\"二、docker和docker-compose\"></a>二、docker和docker-compose</h2><p><a href=\"https://blog.csdn.net/Prince_WCS/article/details/135180728\">原文链接 ψ(｀∇´)ψ 强烈推荐看完</a></p>\n<p>Docker 是一种可以让您把 WordPress 应用和它需要的环境（比如 PHP、MySQL 等）打包成一个个小盒子的技术，这个小盒子就叫做容器。</p>\n<p>Docker Compose 是一种可以让您用一个文件来管理多个容器的工具，是 Docker 的一个子项目，可以帮助用户定义和运行多容器 Docker 应用程序，使用 Docker Compose 可以更轻松地管理多个容器的应用程序。</p>\n<p>比如，您的 WordPress 应用可能需要一个 web 容器和一个 db 容器，分别运行 WordPress 程序和 MySQL 数据库。如果您只用 Docker，您可能需要分别创建和启动这两个容器，然后还要设置它们之间的连接。如果您用 Docker Compose，您只需要在一个文件里写下这两个容器的配置，然后用一个命令就可以一起创建和启动它们，而且它们之间的连接也会自动设置好。这样，您就可以更轻松地管理和运行您的 WordPress 应用。</p>\n<h2 id=\"三、常用命令\"><a href=\"#三、常用命令\" class=\"headerlink\" title=\"三、常用命令\"></a>三、常用命令</h2><h3 id=\"docker常用命令\"><a href=\"#docker常用命令\" class=\"headerlink\" title=\"docker常用命令\"></a>docker常用命令</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">**************************************docker命令******************************************</span><br><span class=\"line\"># 启动docker</span><br><span class=\"line\">systemctl start docker</span><br><span class=\"line\"> </span><br><span class=\"line\"># 关闭docker</span><br><span class=\"line\">systemctl stop docker</span><br><span class=\"line\"> </span><br><span class=\"line\"># 重启docker</span><br><span class=\"line\">systemctl restart docker</span><br><span class=\"line\"> </span><br><span class=\"line\"># docker设置随服务启动而自启动</span><br><span class=\"line\">systemctl enable docker</span><br><span class=\"line\"></span><br><span class=\"line\">************************************docker镜像命令*****************************************</span><br><span class=\"line\"># 拉取镜像</span><br><span class=\"line\"># 不加tag(版本号) 即拉取docker仓库中 该镜像的最新版本latest 加:tag 则是拉取指定版本</span><br><span class=\"line\"># https://hub.docker.com/search?type=image （去官网镜像搜索）</span><br><span class=\"line\">docker pull 镜像名 </span><br><span class=\"line\">docker pull 镜像名:tag</span><br><span class=\"line\"></span><br><span class=\"line\"># 查看镜像列表</span><br><span class=\"line\">docker images</span><br><span class=\"line\"></span><br><span class=\"line\"># 搜索镜像</span><br><span class=\"line\">docker search 镜像名</span><br><span class=\"line\">docker search --filter=STARS=9000 mysql 搜索 STARS &gt;9000的 mysql 镜像</span><br><span class=\"line\"></span><br><span class=\"line\"># 删除镜像</span><br><span class=\"line\"># 删除一个</span><br><span class=\"line\">docker rmi -f 镜像名/镜像ID</span><br><span class=\"line\"># 删除多个 其镜像ID或镜像用用空格隔开即可 </span><br><span class=\"line\">docker rmi -f 镜像名/镜像ID 镜像名/镜像ID 镜像名/镜像ID</span><br><span class=\"line\"> </span><br><span class=\"line\"># 删除全部镜像  -a 意思为显示全部, -q 意思为只显示ID</span><br><span class=\"line\">docker rmi -f $(docker images -aq)</span><br><span class=\"line\"></span><br><span class=\"line\">************************************docker容器命令*****************************************</span><br><span class=\"line\"># 查看所有容器列表（包含 正在运行 和 已停止的）</span><br><span class=\"line\">docker ps -a</span><br><span class=\"line\"></span><br><span class=\"line\"># 启动容器</span><br><span class=\"line\">docker start 容器ID/容器名</span><br><span class=\"line\"> </span><br><span class=\"line\"># 停止容器</span><br><span class=\"line\">docker stop 容器ID/容器名</span><br><span class=\"line\"> </span><br><span class=\"line\"># 重启容器</span><br><span class=\"line\">docker restart 容器ID/容器名</span><br><span class=\"line\"></span><br><span class=\"line\"># kill 容器</span><br><span class=\"line\">docker kill 容器ID/容器名</span><br><span class=\"line\"> </span><br><span class=\"line\"># 容器文件拷贝 （无论容器是否开启 都可以进行拷贝）</span><br><span class=\"line\"># docker cp 容器ID/名称:文件路径  要拷贝到外部的路径 | 要拷贝到外部的路径  容器ID/名称:文件路径</span><br><span class=\"line\"># 示例：docker cp nginx:/etc/nginx/conf.d /data/applications/nginx/conf/conf.d</span><br><span class=\"line\"># 从容器内 拷出</span><br><span class=\"line\">docker cp 容器ID/名称: 容器内路径  容器外路径</span><br><span class=\"line\"># 从外部 拷贝文件到容器内</span><br><span class=\"line\">docker  cp 容器外路径 容器ID/名称: 容器内路径</span><br><span class=\"line\"> </span><br><span class=\"line\"># 查看容器日志</span><br><span class=\"line\">docker logs -f --tail=要查看末尾多少行，默认all 容器ID</span><br><span class=\"line\"> </span><br><span class=\"line\"># 更换容器名</span><br><span class=\"line\">docker rename 容器ID/容器名 新容器名</span><br><span class=\"line\"></span><br><span class=\"line\"># 停止运行的容器 </span><br><span class=\"line\">docker stop 容器名/容器ID</span><br><span class=\"line\"> </span><br><span class=\"line\"># 删除一个容器</span><br><span class=\"line\">docker rm -f 容器名/容器ID</span><br><span class=\"line\"> </span><br><span class=\"line\"># 删除多个容器 空格隔开要删除的容器名或容器ID</span><br><span class=\"line\">docker rm -f 容器名/容器ID 容器名/容器ID 容器名/容器ID</span><br><span class=\"line\"> </span><br><span class=\"line\"># 删除全部容器</span><br><span class=\"line\">docker rm -f $(docker ps -aq)</span><br><span class=\"line\"></span><br><span class=\"line\"># 进入容器</span><br><span class=\"line\">docker exec -it 容器名/容器ID /bin/bash</span><br><span class=\"line\"></span><br><span class=\"line\"># 直接退出 （如果没有添加-d 参数(持久化运行容器) 该容器会被关闭 ） </span><br><span class=\"line\">exit</span><br><span class=\"line\"> </span><br><span class=\"line\"># 优雅退出 （无论是否添加-d 参数 容器都不会被关闭）</span><br><span class=\"line\">Ctrl + p + q </span><br><span class=\"line\"></span><br><span class=\"line\"># 查看 Docker 容器、镜像、卷等资源的占用情况</span><br><span class=\"line\">docker system df</span><br><span class=\"line\"></span><br><span class=\"line\"># 清理所有废弃镜像与Build Cache \t\t#谨慎使用</span><br><span class=\"line\">docker system prune -a</span><br><span class=\"line\">#清理整个 Docker 系统中的未在使用资源，包括未使用的镜像、容器、网络和数据卷等。</span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"docker-compose常用命令\"><a href=\"#docker-compose常用命令\" class=\"headerlink\" title=\"docker-compose常用命令\"></a>docker-compose常用命令</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 查看帮助</span><br><span class=\"line\">docker-compose -h                           </span><br><span class=\"line\"></span><br><span class=\"line\"># 启动所有docker-compose服务</span><br><span class=\"line\">docker-compose up   </span><br><span class=\"line\"></span><br><span class=\"line\"># 启动所有docker-compose服务并后台运行</span><br><span class=\"line\">docker-compose up -d          </span><br><span class=\"line\"></span><br><span class=\"line\">#强制终止正在运行的服务容器</span><br><span class=\"line\">docker-compose kill</span><br><span class=\"line\"></span><br><span class=\"line\"># 停止并删除容器、网络、卷、镜像</span><br><span class=\"line\">docker-compose down</span><br><span class=\"line\"></span><br><span class=\"line\"># 进入容器实例内部yml文件中写的服务id /bin/bash</span><br><span class=\"line\">docker-compose exec  yml里面的服务id         </span><br><span class=\"line\"></span><br><span class=\"line\"># 展示当前docker-compose编排过的运行的所有容器</span><br><span class=\"line\">docker-compose ps</span><br><span class=\"line\"></span><br><span class=\"line\"># 展示当前docker-compose编排过的容器进程</span><br><span class=\"line\">docker-compose top                     </span><br><span class=\"line\"></span><br><span class=\"line\"># 查看容器输出日志</span><br><span class=\"line\">docker-compose logs  yml里面的服务id     </span><br><span class=\"line\"></span><br><span class=\"line\"># 检查配置</span><br><span class=\"line\">docker-compose config</span><br><span class=\"line\"></span><br><span class=\"line\"># 检查配置，有问题才有输出</span><br><span class=\"line\">docker-compose config -q  </span><br><span class=\"line\"></span><br><span class=\"line\"># 启动服务</span><br><span class=\"line\">docker-compose start</span><br><span class=\"line\"></span><br><span class=\"line\"># 停止服务</span><br><span class=\"line\">docker-compose stop      </span><br><span class=\"line\"></span><br><span class=\"line\"># 重启服务</span><br><span class=\"line\">docker-compose restart   </span><br></pre></td></tr></table></figure>\n\n\n\n<p>参考文章：</p>\n<p><a href=\"https://zhuanlan.zhihu.com/p/89587030\">https://zhuanlan.zhihu.com/p/89587030</a></p>\n<p><a href=\"https://zhuanlan.zhihu.com/p/187505981\">https://zhuanlan.zhihu.com/p/187505981</a></p>\n<p><a href=\"https://zhuanlan.zhihu.com/p/620097083\">https://zhuanlan.zhihu.com/p/620097083</a></p>\n<p><a href=\"https://blog.csdn.net/Prince_WCS/article/details/135180728\">https://blog.csdn.net/Prince_WCS/article/details/135180728</a></p>\n<p><a href=\"https://blog.csdn.net/Pan_peter/article/details/128860771\">https://blog.csdn.net/Pan_peter/article/details/128860771</a></p>\n<p><a href=\"https://blog.csdn.net/qq_38924779/article/details/135035765\">https://blog.csdn.net/qq_38924779/article/details/135035765</a></p>\n<p><a href=\"https://www.freecodecamp.org/chinese/news/how-to-remove-all-docker-images-a-docker-cleanup-guide/\">https://www.freecodecamp.org/chinese/news/how-to-remove-all-docker-images-a-docker-cleanup-guide/</a></p>\n",
            "tags": [
                "转载",
                "基础"
            ]
        },
        {
            "id": "https://w-sqrt7.github.io/2024/03/25/tools/Volatility2.6%E7%9A%84%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/",
            "url": "https://w-sqrt7.github.io/2024/03/25/tools/Volatility2.6%E7%9A%84%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/",
            "title": "Volatility2.6的使用方法",
            "date_published": "2024-03-25T08:54:17.301Z",
            "content_html": "<h1 id=\"Volatility2-6的使用方法\"><a href=\"#Volatility2-6的使用方法\" class=\"headerlink\" title=\"Volatility2.6的使用方法\"></a>Volatility2.6的使用方法</h1><p>原文链接：<a href=\"https://wiki.wgpsec.org/knowledge/ctf/Volatility.html\">https://wiki.wgpsec.org/knowledge/ctf/Volatility.html</a></p>\n<p>原文链接：<a href=\"https://blog.csdn.net/m0_68012373/article/details/127419463\">https://blog.csdn.net/m0_68012373/article/details/127419463</a></p>\n<h2 id=\"命令格式\"><a href=\"#命令格式\" class=\"headerlink\" title=\"命令格式\"></a>命令格式</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">volatility -f [image] --profile=[profile] [plugin]</span><br><span class=\"line\"></span><br><span class=\"line\">volatility -f [对象] --profile=[操作系统] [插件参数]</span><br></pre></td></tr></table></figure>\n\n\n\n<p>在分析之前，需要先判断当前的镜像信息，分析出是哪个操作系统，命令imageinfo即可获取镜像信息。</p>\n<pre><code>Volatility -f xxx.vmem imageinfo\n</code></pre>\n<p>在查到操作系统后如果不确定可以使用以下命令查看</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">volatility - f xxx.vmem --profile= [操作系统] volshell</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"常用命令\"><a href=\"#常用命令\" class=\"headerlink\" title=\"常用命令\"></a>常用命令</h2><p>输入<strong>vol.py –info</strong>可查看插件</p>\n<p>1.查看当前内存镜像中的用户\tprintkey -K “SAM\\Domains\\Account\\Users\\Names”</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">volatility -f 1.vmem –profile=Win7SP1x64 printkey -K “SAM\\Domains\\Account\\Users\\Names”</span><br></pre></td></tr></table></figure>\n\n\n\n<p>2.查看用户名密码信息(密码是哈希值，需要john爆破)\t hashdump</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">volatility -f 1.vmem --profile=Win7SP1x64 hashdump</span><br></pre></td></tr></table></figure>\n\n<p>查看当前操作系统中的 password hash，例如 Windows 的 SAM 文件内容(mimikatz插件可以获取系统明文密码)</p>\n<p>3.如果john爆破不出来，就使用 lasdmp 查看强密码\t lsadmp</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">volatility -f 1.vmem --profile=Win7SP1x64 lsadump</span><br></pre></td></tr></table></figure>\n\n\n\n<p><strong>4.查看进程\tpslist</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">volatility -f 1.vmem --profile=Win7SP1x64 pslist</span><br></pre></td></tr></table></figure>\n\n<p>pslist：该插件列举出系统进程，但它不能检测到隐藏或者解链的进程，psscan可以</p>\n<p>5.查看已知进程\tpslist</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">volatility -f 1.vmem --profile=Win7SP1x64 pslist -p 2588</span><br></pre></td></tr></table></figure>\n\n\n\n<p><strong>6.隐藏或解链的进程\tpsscan</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">volatility -f 1.vmem --profile=Win7SP1x64 psscan</span><br></pre></td></tr></table></figure>\n\n<p>psscan：可以找到先前已终止(不活动)的进程以及被rootkit隐藏或解链的进程</p>\n<p><strong>7.查看服务，查询服务名称\tsvcscan</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">volatility -f 1.vmem --profile=Win7SP1x64 svcscan</span><br></pre></td></tr></table></figure>\n\n<p>svcscan：扫描 Windows 的服务</p>\n<p>8.查看浏览器历史记录,获取当前系统浏览器搜索过的关键词\t iehistory</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">volatility -f 1.vmem --profile=Win7SP1x64 iehistory</span><br></pre></td></tr></table></figure>\n\n\n\n<p>9.查看网络连接 获取当前系统 ip netscan </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">volatility -f 1.vmem --profile=Win7SP1x64 netscan</span><br></pre></td></tr></table></figure>\n\n<p>有一些版本 这个命令是使用不了 这里我们就要使用（connscan,connections)</p>\n<p>volatility -f win7.vmem –profile&#x3D;Win7SPIx64 netscan |grep ESTABLISHED  查看网络通信连接</p>\n<p>10.查看网络连接connscan</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">volatility -f 1.vmem --profile=Win7SP1x64 connscan</span><br></pre></td></tr></table></figure>\n\n<p>connscan：查看网络连接</p>\n<p>11.查看网络连接connections</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">volatility -f 1.vmem --profile=Win7SP1x64 connections</span><br></pre></td></tr></table></figure>\n\n<p>connections：查看网络连接</p>\n<p><strong>12.查看命令行操作，显示cmd历史命令 cmdscan</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">volatility -f 1.vmem --profile=Win7SP1x64 cmdscan</span><br></pre></td></tr></table></figure>\n\n<p>cmdscan：可用于查看终端记录</p>\n<p>13.查看进程命令行参数（具体一些可疑进程的参数指令）cmdline</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">volatility -f 1.vmem --profile=Win7SP1x64 cmdline</span><br></pre></td></tr></table></figure>\n\n\n\n<p><strong>14.扫描所有的文件列表 filescan</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">volatility -f 1.vmem --profile=Win7SP1x64 filescan</span><br></pre></td></tr></table></figure>\n\n<p>（linux配合 grep 命令进行相关字符定向扫描，如：grep flag、grep -E ‘png|jpg|gif|zip|rar|7z|pdf|txt|doc’）</p>\n<p>例</p>\n<p>volatility -f 1.vmem –profile&#x3D;Win7SP1x64 filescan grep “flag.txt”</p>\n<p>cat system.txt|grep -i computername</p>\n<p><strong>15.查看文件内容dmpfiles</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">volatility -f 1.vmem --profile=Win7SP1x64 dumpfiles -Q 0xxxxxxxx -D ./</span><br></pre></td></tr></table></figure>\n\n<p>需要指定偏移量 -Q 和输出目录 -D</p>\n<p>dumpfiles：导出某一文件(指定虚拟地址)</p>\n<p>16.查看当前展示的notepad内容 notepad</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">volatility -f 1.vmem --profile=Win7SP1x64 notepad</span><br></pre></td></tr></table></figure>\n\n<p>查看当前展示的 notepad 文本（–profile&#x3D;winxp啥的低版本可以，win7的不行，可以尝试使用editbox）</p>\n<p>17.显示有关编辑控件（曾经编辑过的内容）的信息 editbox</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">volatility -f 1.vmem --profile=Win7SP1x64 editbox</span><br></pre></td></tr></table></figure>\n\n<p>editbox：显示有关编辑控件（曾经编辑过的内容）的信息 查看内存中记事本的内容</p>\n<p>18.提取进程memdump</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">volatility -f 1.vmem --profile=Win7SP1x64 memdump -p xxx --dump-dir=./</span><br></pre></td></tr></table></figure>\n\n<p>memdump：提取出指定进程，常用foremost 来分离里面的文件  </p>\n<p>需要指定进程-p [pid] 和输出目录 -D</p>\n<p>memdump -p 332 -D XX&#x2F;   </p>\n<p>提取进程   -p 进程号 -D 当前输出路径（导出为332.dmp）</p>\n<p>dump出来的进程文件，可以使用 foremost 来分离里面的文件，用 binwak -e 不推荐</p>\n<p>strings -e l 2040.dmp | grep flag 查找flag</p>\n<p>19.屏幕截图screenshot</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">volatility -f 1.vmem --profile=Win7SP1x64 screenshot --dump-dir=./</span><br></pre></td></tr></table></figure>\n\n<p>screenshot：保存基于GDI窗口的伪截屏</p>\n<p><strong>20.查看注册表配置单元hivelist</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">volatility -f 1.vmem --profile=Win7SP1x64 hivelist</span><br></pre></td></tr></table></figure>\n\n<p>hivelist: 列出所有的注册表项及其虚拟地址和物理地址</p>\n<p>21.查看注册表键名hivedmp</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">volatility -f 1.vmem --profile=Win7SP1x64 hivedump -o 0xfffff8a001032410</span><br></pre></td></tr></table></figure>\n\n\n\n<p>22.查看注册表键值printkey</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">volatility -f 1.vmem --profile=Win7SP1x64 printkey -K &quot;ControlSet001\\Control\\ComputerName\\ComputerName&quot;</span><br></pre></td></tr></table></figure>\n\n\n\n<p>23.获取主机名 printkey</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">volatility -f 1.vmem --profile=Win7SP1x64 printkey -K &quot;ControlSet001\\Control\\ComputerName\\ComputerName&quot;</span><br></pre></td></tr></table></figure>\n\n\n\n<p>24.列出用户名 pringkey</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">volatility -f 1.vmem --profile=Win7SP1x64 printkey -K &quot;SAM\\Domains\\Account\\Users\\Names&quot;</span><br></pre></td></tr></table></figure>\n\n\n\n<p><strong>25.查看运行程序相关的记录，比如最后一次更新时间，运行过的次数等。userassist</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">volatility -f 1.vmem --profile=Win7SP1x64 userassist</span><br></pre></td></tr></table></figure>\n\n\n\n<p>26.最大程序提取信息timeliner</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">volatility -f 1.vmem --profile=Win7SP1x64 timeliner</span><br></pre></td></tr></table></figure>\n\n<p>timeliner: 将所有操作系统事件以时间线的方式展开</p>\n<p>27.查看剪贴板信息clipboard</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">volatility -f 1.vmem --profile=Win7SP1x64 clipboard</span><br></pre></td></tr></table></figure>\n\n<p>clipboard：查看剪贴板信息</p>\n<p><strong>28.显示关于计算机及其操作系统的详细配置信息（插件）systeminfo</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">volatility -f 1.vmem --profile=Win7SP1x64 systeminfo</span><br></pre></td></tr></table></figure>\n\n<p>systeminfo：显示关于计算机及其操作系统的详细配置信息（插件）</p>\n<p>29.恢复被删除的文件mftparser</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">volatility -f 1.vmem --profile=Win7SP1x64 mftparser</span><br></pre></td></tr></table></figure>\n\n<p>mftparser：恢复被删除的文件</p>\n<p>30.查看环境变量envars</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">volatility -f 1.vmem --profile=Win7SP1x64 envars</span><br></pre></td></tr></table></figure>\n\n<p>envars：查看环境变量</p>\n<p>31.列出某一进程加载的所有dll文件dlllist</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">volatility -f 1.vmem --profile=Win7SP1x64 dlllist -p 2588</span><br></pre></td></tr></table></figure>\n\n<p>dlllist: 列出某一进程加载的所有dll文件</p>\n<p>需要指定进程-p [pid]</p>\n<p>32.程序版本信息 verinfo</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">volatility -f 1.vmem --profile=Win7SP1x64 verinfo</span><br></pre></td></tr></table></figure>\n\n<p>列出PE｜程序版本信息</p>\n<p><strong>33.产看进程树，可以轻松了解各进程之间的关系：父进程与子进程 pstree</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">volatility -f 2008.raw –profile=Win2008R2SP1x64 pstree</span><br></pre></td></tr></table></figure>\n\n<p>在进程中PPID比PID还大，那就可能这个进程有异常程序</p>\n<p>34.从内存文件中找到异常程序植入到系统的开机自启痕迹 shimcache</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">volatility -f 2008.raw –profile=Win2008R2SP1x64 shimcache</span><br></pre></td></tr></table></figure>\n\n\n\n<p>35.提取注册表数据\tdumpregistry</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">volatility -f 2008.raw –profile=Win2008R2SP1x64 dumpregistry</span><br></pre></td></tr></table></figure>\n\n\n\n\n\n\n\n<table>\n<thead>\n<tr>\n<th><strong>插件名称</strong></th>\n<th><strong>功能</strong></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>amcache</td>\n<td>查看AmCache应用程序痕迹信息</td>\n</tr>\n<tr>\n<td>apihooks</td>\n<td>检测内核及进程的内存空间中的API hook</td>\n</tr>\n<tr>\n<td>atoms</td>\n<td>列出会话及窗口站atom表</td>\n</tr>\n<tr>\n<td>atomscan</td>\n<td>Atom表的池扫描(Pool scanner)</td>\n</tr>\n<tr>\n<td>auditpol</td>\n<td>列出注册表HKLMSECURITYPolicyPolAdtEv的审计策略信息</td>\n</tr>\n<tr>\n<td>bigpools</td>\n<td>使用BigPagePoolScanner转储大分页池(big page pools)</td>\n</tr>\n<tr>\n<td>bioskbd</td>\n<td>从实时模式内存中读取键盘缓冲数据(早期电脑可以读取出BIOS开机密码)</td>\n</tr>\n<tr>\n<td>cachedump</td>\n<td>获取内存中缓存的域帐号的密码哈希</td>\n</tr>\n<tr>\n<td>callbacks</td>\n<td>打印全系统通知例程</td>\n</tr>\n<tr>\n<td>clipboard</td>\n<td>提取Windows剪贴板中的内容</td>\n</tr>\n<tr>\n<td>cmdline</td>\n<td>显示进程命令行参数</td>\n</tr>\n<tr>\n<td>cmdscan</td>\n<td>提取执行的命令行历史记录（扫描_COMMAND_HISTORY信息）</td>\n</tr>\n<tr>\n<td>connections</td>\n<td>打印系统打开的网络连接(仅支持Windows XP 和2003)</td>\n</tr>\n<tr>\n<td>connscan</td>\n<td>打印TCP连接信息</td>\n</tr>\n<tr>\n<td>consoles</td>\n<td>提取执行的命令行历史记录（扫描_CONSOLE_INFORMATION信息）</td>\n</tr>\n<tr>\n<td>crashinfo</td>\n<td>提取崩溃转储信息</td>\n</tr>\n<tr>\n<td>deskscan</td>\n<td>tagDESKTOP池扫描(Poolscaner)</td>\n</tr>\n<tr>\n<td>devicetree</td>\n<td>显示设备树信息</td>\n</tr>\n<tr>\n<td>dlldump</td>\n<td>从进程地址空间转储动态链接库</td>\n</tr>\n<tr>\n<td>dlllist</td>\n<td>打印每个进程加载的动态链接库列表</td>\n</tr>\n<tr>\n<td>driverirp</td>\n<td>IRP hook驱动检测</td>\n</tr>\n<tr>\n<td>drivermodule</td>\n<td>关联驱动对象至内核模块</td>\n</tr>\n<tr>\n<td>driverscan</td>\n<td>驱动对象池扫描</td>\n</tr>\n<tr>\n<td>dumpcerts</td>\n<td>提取RAS私钥及SSL公钥</td>\n</tr>\n<tr>\n<td>dumpfiles</td>\n<td>提取内存中映射或缓存的文件</td>\n</tr>\n<tr>\n<td>dumpregistry</td>\n<td>转储内存中注册表信息至磁盘</td>\n</tr>\n<tr>\n<td>editbox</td>\n<td>查看Edit编辑控件信息 (Listbox正在实验中)</td>\n</tr>\n<tr>\n<td>envars</td>\n<td>显示进程的环境变量</td>\n</tr>\n<tr>\n<td>eventhooks</td>\n<td>打印Windows事件hook详细信息</td>\n</tr>\n<tr>\n<td>evtlogs</td>\n<td>提取Windows事件日志（仅支持XP&#x2F;2003)</td>\n</tr>\n<tr>\n<td>filescan</td>\n<td>提取文件对象（file objects）池信息</td>\n</tr>\n<tr>\n<td>gahti</td>\n<td>转储用户句柄（handle）类型信息</td>\n</tr>\n<tr>\n<td>gditimers</td>\n<td>打印已安装的GDI计时器(timers)及回调(callbacks)</td>\n</tr>\n<tr>\n<td>gdt</td>\n<td>显示全局描述符表(Global Deor Table)</td>\n</tr>\n<tr>\n<td>getservicesids</td>\n<td>获取注册表中的服务名称并返回SID信息</td>\n</tr>\n<tr>\n<td>getsids</td>\n<td>打印每个进程的SID信息</td>\n</tr>\n<tr>\n<td>handles</td>\n<td>打印每个进程打开的句柄的列表</td>\n</tr>\n<tr>\n<td>hashdump</td>\n<td>转储内存中的Windows帐户密码哈希(LM&#x2F;NTLM)</td>\n</tr>\n<tr>\n<td>hibinfo</td>\n<td>转储休眠文件信息</td>\n</tr>\n<tr>\n<td>hivedump</td>\n<td>打印注册表配置单元信息</td>\n</tr>\n<tr>\n<td>hivelist</td>\n<td>打印注册表配置单元列表</td>\n</tr>\n<tr>\n<td>hivescan</td>\n<td>注册表配置单元池扫描</td>\n</tr>\n<tr>\n<td>hpakextract</td>\n<td>从HPAK文件（Fast Dump格式）提取物理内存数据</td>\n</tr>\n<tr>\n<td>hpakinfo</td>\n<td>查看HPAK文件属性及相关信息</td>\n</tr>\n<tr>\n<td>idt</td>\n<td>显示中断描述符表(Interrupt Deor Table)</td>\n</tr>\n<tr>\n<td>iehistory</td>\n<td>重建IE缓存及访问历史记录</td>\n</tr>\n<tr>\n<td>imagecopy</td>\n<td>将物理地址空间导出原生DD镜像文件</td>\n</tr>\n<tr>\n<td>imageinfo</td>\n<td>查看&#x2F;识别镜像信息</td>\n</tr>\n<tr>\n<td>impscan</td>\n<td>扫描对导入函数的调用</td>\n</tr>\n<tr>\n<td>joblinks</td>\n<td>打印进程任务链接信息</td>\n</tr>\n<tr>\n<td>kdbgscan</td>\n<td>搜索和转储潜在KDBG值</td>\n</tr>\n<tr>\n<td>kpcrscan</td>\n<td>搜索和转储潜在KPCR值</td>\n</tr>\n<tr>\n<td>ldrmodules</td>\n<td>检测未链接的动态链接DLL</td>\n</tr>\n<tr>\n<td>lsadump</td>\n<td>从注册表中提取LSA密钥信息（已解密）</td>\n</tr>\n<tr>\n<td>machoinfo</td>\n<td>转储Mach-O 文件格式信息</td>\n</tr>\n<tr>\n<td>malfind</td>\n<td>查找隐藏的和插入的代码</td>\n</tr>\n<tr>\n<td>mbrparser</td>\n<td>扫描并解析潜在的主引导记录(MBR)</td>\n</tr>\n<tr>\n<td>memdump</td>\n<td>转储进程的可寻址内存</td>\n</tr>\n<tr>\n<td>memmap</td>\n<td>打印内存映射</td>\n</tr>\n<tr>\n<td>messagehooks</td>\n<td>桌面和窗口消息钩子的线程列表</td>\n</tr>\n<tr>\n<td>mftparser</td>\n<td>扫描并解析潜在的MFT条目</td>\n</tr>\n<tr>\n<td>moddump</td>\n<td>转储内核驱动程序到可执行文件的示例</td>\n</tr>\n<tr>\n<td>modscan</td>\n<td>内核模块池扫描</td>\n</tr>\n<tr>\n<td>modules</td>\n<td>打印加载模块的列表</td>\n</tr>\n<tr>\n<td>multiscan</td>\n<td>批量扫描各种对象</td>\n</tr>\n<tr>\n<td>mutantscan</td>\n<td>对互斥对象池扫描</td>\n</tr>\n<tr>\n<td>notepad</td>\n<td>查看记事本当前显示的文本</td>\n</tr>\n<tr>\n<td>objtypescan</td>\n<td>扫描窗口对象类型对象</td>\n</tr>\n<tr>\n<td>patcher</td>\n<td>基于页面扫描的补丁程序内存</td>\n</tr>\n<tr>\n<td>poolpeek</td>\n<td>可配置的池扫描器插件</td>\n</tr>\n<tr>\n<td>printkey</td>\n<td>打印注册表项及其子项和值</td>\n</tr>\n<tr>\n<td>privs</td>\n<td>显示进程权限</td>\n</tr>\n<tr>\n<td>procdump</td>\n<td>进程转储到一个可执行文件示例</td>\n</tr>\n<tr>\n<td>pslist</td>\n<td>按照EPROCESS列表打印所有正在运行的进程</td>\n</tr>\n<tr>\n<td>psscan</td>\n<td>进程对象池扫描</td>\n</tr>\n<tr>\n<td>pstree</td>\n<td>以树型方式打印进程列表</td>\n</tr>\n<tr>\n<td>psxview</td>\n<td>查找带有隐藏进程的所有进程列表</td>\n</tr>\n<tr>\n<td>qemuinfo</td>\n<td>转储Qemu 信息</td>\n</tr>\n<tr>\n<td>raw2dmp</td>\n<td>将物理内存原生数据转换为windbg崩溃转储格式</td>\n</tr>\n<tr>\n<td>screenshot</td>\n<td>基于GDI Windows的虚拟屏幕截图保存</td>\n</tr>\n<tr>\n<td>servicediff</td>\n<td>Windows服务列表(ala Plugx)</td>\n</tr>\n<tr>\n<td>sessions</td>\n<td>_MM_SESSION_SPACE的详细信息列表(用户登录会话)</td>\n</tr>\n<tr>\n<td>shellbags</td>\n<td>打印Shellbags信息</td>\n</tr>\n<tr>\n<td>shimcache</td>\n<td>解析应用程序兼容性Shim缓存注册表项</td>\n</tr>\n<tr>\n<td>shutdowntime</td>\n<td>从内存中的注册表信息获取机器关机时间</td>\n</tr>\n<tr>\n<td>sockets</td>\n<td>打印已打开套接字列表</td>\n</tr>\n<tr>\n<td>sockscan</td>\n<td>TCP套接字对象池扫描</td>\n</tr>\n<tr>\n<td>ssdt</td>\n<td>显示SSDT条目</td>\n</tr>\n<tr>\n<td>strings</td>\n<td>物理到虚拟地址的偏移匹配(需要一些时间，带详细信息)</td>\n</tr>\n<tr>\n<td>svcscan</td>\n<td>Windows服务列表扫描</td>\n</tr>\n<tr>\n<td>symlinkscan</td>\n<td>符号链接对象池扫描</td>\n</tr>\n<tr>\n<td>thrdscan</td>\n<td>线程对象池扫描</td>\n</tr>\n<tr>\n<td>threads</td>\n<td>调查_ETHREAD 和_KTHREADs</td>\n</tr>\n<tr>\n<td>timeliner</td>\n<td>创建内存中的各种痕迹信息的时间线</td>\n</tr>\n<tr>\n<td>timers</td>\n<td>打印内核计时器及关联模块的DPC</td>\n</tr>\n<tr>\n<td>truecryptmaster</td>\n<td>恢复TrueCrypt 7.1a主密钥</td>\n</tr>\n<tr>\n<td>truecryptpassphrase</td>\n<td>查找并提取TrueCrypt密码</td>\n</tr>\n<tr>\n<td>truecryptsummary</td>\n<td>TrueCrypt摘要信息</td>\n</tr>\n<tr>\n<td>unloadedmodules</td>\n<td>打印卸载的模块信息列表</td>\n</tr>\n<tr>\n<td>userassist</td>\n<td>打印注册表中UserAssist相关信息</td>\n</tr>\n<tr>\n<td>userhandles</td>\n<td>转储用户句柄表</td>\n</tr>\n<tr>\n<td>vaddump</td>\n<td>转储VAD数据为文件</td>\n</tr>\n<tr>\n<td>vadinfo</td>\n<td>转储VAD信息</td>\n</tr>\n<tr>\n<td>vadtree</td>\n<td>以树形方式显示VAD树信息</td>\n</tr>\n<tr>\n<td>vadwalk</td>\n<td>显示遍历VAD树</td>\n</tr>\n<tr>\n<td>vboxinfo</td>\n<td>转储Virtualbox信息（虚拟机）</td>\n</tr>\n<tr>\n<td>verinfo</td>\n<td>打印PE镜像中的版本信息</td>\n</tr>\n<tr>\n<td>vmwareinfo</td>\n<td>转储VMware VMSS&#x2F;VMSN 信息</td>\n</tr>\n<tr>\n<td>volshell</td>\n<td>内存镜像中的shell</td>\n</tr>\n<tr>\n<td>windows</td>\n<td>打印桌面窗口(详细信息)</td>\n</tr>\n<tr>\n<td>wintree</td>\n<td>Z顺序打印桌面窗口树</td>\n</tr>\n<tr>\n<td>wndscan</td>\n<td>池扫描窗口站</td>\n</tr>\n<tr>\n<td>yarascan</td>\n<td>以Yara签名扫描进程或内核内存</td>\n</tr>\n</tbody></table>\n<h3 id><a href=\"#\" class=\"headerlink\" title></a></h3><table>\n<thead>\n<tr>\n<th><strong>功能</strong></th>\n<th><strong>命令行及参数</strong></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>查看进程列表</td>\n<td>Vol.exe -f Win7_SP1_x86.vmem –profile&#x3D;Win7SP1x86 pslist</td>\n</tr>\n<tr>\n<td>查看进程列表（树形）</td>\n<td>Vol.exe -f Win7_SP1_x86.vmem –profile&#x3D;Win7SP1x86 pstree</td>\n</tr>\n<tr>\n<td>查看进程列表(psx视图)</td>\n<td>Vol.exe -f Win7_SP1_x86.vmem –profile&#x3D;Win7SP1x86 psxview</td>\n</tr>\n<tr>\n<td>查看网络通讯连接</td>\n<td>Vol.exe -f Win7_SP1_x86.vmem –profile&#x3D;Win7SP1x86 netscan</td>\n</tr>\n<tr>\n<td>查看加载的动态链接库</td>\n<td>Vol.exe -f Win7_SP1_x86.vmem –profile&#x3D;Win7SP1x86 dlllist</td>\n</tr>\n<tr>\n<td>查看SSDT表</td>\n<td>Vol.exe -f Win7_SP1_x86.vmem –profile&#x3D;Win7SP1x86 ssdt</td>\n</tr>\n<tr>\n<td>查看UserAssist痕迹</td>\n<td>Vol.exe -f Win7_SP1_x86.vmem –profile&#x3D;Win7SP1x86 userassist</td>\n</tr>\n<tr>\n<td>查看ShimCache痕迹</td>\n<td>Vol.exe -f Win7_SP1_x86.vmem –profile&#x3D;Win7SP1x86 shimcache</td>\n</tr>\n<tr>\n<td>查看ShellBags</td>\n<td>Vol.exe -f Win7_SP1_x86.vmem –profile&#x3D;Win7SP1x86 shellbags</td>\n</tr>\n<tr>\n<td>查看服务列表</td>\n<td>Vol.exe -f Win7_SP1_x86.vmem –profile&#x3D;Win7SP1x86 svcscan</td>\n</tr>\n<tr>\n<td>查看Windows帐户hash</td>\n<td>Vol.exe -f Win7_SP1_x86.vmem –profile&#x3D;Win7SP1x86 hashdump</td>\n</tr>\n<tr>\n<td>查看最后关机时间</td>\n<td>Vol.exe -f Win7_SP1_x86.vmem –profile&#x3D;Win7SP1x86 shutdowntime</td>\n</tr>\n<tr>\n<td>查看IE历史记录</td>\n<td>Vol.exe -f Win7_SP1_x86.vmem –profile&#x3D;Win7SP1x86 iehistory</td>\n</tr>\n<tr>\n<td>提取注册表数据</td>\n<td>Vol.exe -f Win7_SP1_x86.vmem –profile&#x3D;Win7SP1x86 dumpregistry</td>\n</tr>\n<tr>\n<td>解析MFT记录</td>\n<td>Vol.exe -f Win7_SP1_x86.vmem –profile&#x3D;Win7SP1x86 mftparser</td>\n</tr>\n<tr>\n<td>导出MFT记录,恢复文件</td>\n<td>Vol.exe -f Win7_SP1_x86.vmem –profile&#x3D;Win7SP1x86 mftparser –output-file&#x3D;mftverbose.txt -D mftoutput</td>\n</tr>\n<tr>\n<td>获取TrueCrypt密钥信息</td>\n<td>Vol.exe -f Win7_SP1_x86.vmem –profile&#x3D;Win7SP1x86 truecryptmaster</td>\n</tr>\n<tr>\n<td>获取TrueCrypt密码信息</td>\n<td>Vol.exe -f Win7_SP1_x86.vmem –profile&#x3D;Win7SP1x86 truecryptpassphras</td>\n</tr>\n</tbody></table>\n",
            "tags": [
                "转载",
                "工具"
            ]
        },
        {
            "id": "https://w-sqrt7.github.io/2024/03/18/other/basic/Windows%E6%B3%A8%E5%86%8C%E8%A1%A8%E5%86%85%E5%AE%B9%E8%AF%A6%E8%A7%A3/",
            "url": "https://w-sqrt7.github.io/2024/03/18/other/basic/Windows%E6%B3%A8%E5%86%8C%E8%A1%A8%E5%86%85%E5%AE%B9%E8%AF%A6%E8%A7%A3/",
            "title": "Windows注册表内容详解",
            "date_published": "2024-03-18T03:28:52.896Z",
            "content_html": "<h1 id=\"Windows注册表内容详解\"><a href=\"#Windows注册表内容详解\" class=\"headerlink\" title=\"Windows注册表内容详解\"></a>Windows注册表内容详解</h1><p><strong>原文链接：<a href=\"http://blog.sina.com.cn/s/blog_4d41e2690100q33v.html\">http://blog.sina.com.cn/s/blog_4d41e2690100q33v.html</a></strong></p>\n<p>有效链接：<a href=\"https://www.cnblogs.com/sepmaple/articles/9401215.html\">https://www.cnblogs.com/sepmaple/articles/9401215.html</a></p>\n<h2 id=\"第一课-注册表基础\"><a href=\"#第一课-注册表基础\" class=\"headerlink\" title=\"第一课  注册表基础\"></a>第一课  注册表基础</h2><h3 id=\"一、什么是注册表\"><a href=\"#一、什么是注册表\" class=\"headerlink\" title=\"一、什么是注册表\"></a>一、什么是注册表</h3><p>​\t注册表是windows操作系统、硬件设备以及客户应用程序得以正常运行和保存设置的核心“数据库”，也可以说是一个非常巨大的树状分层结构的数据库系统。<br>​    注册表记录了用户安装在计算机上的软件和每个程序的相互关联信息，它包括了计算机的硬件配置，包括自动配置的即插即用的设备和已有的各种设备说明、状态属性以及各种状态信息和数据。利用一个功能强大的注册表数据库来统一集中地管理系统硬件设施、软件配置等信息，从而方便了管理，增强了系统的稳定性。</p>\n<h3 id=\"二、注册表的功能\"><a href=\"#二、注册表的功能\" class=\"headerlink\" title=\"二、注册表的功能\"></a>二、注册表的功能</h3><p>​\t刚才我们看到了，注册表中记录了用户安装在计算机上的软件和每个程序的相关信息，通过它可以控制硬件、软件、用户环境和操作系统界面的数据信息文件。<br>​\t相关知识：注册表文件的数据信息保存在system.dat和user.dat中、利用regedit.exe程序能够存取注册表文件（其实大家可能也知道regedt32.exe，这两个程序是一样的）</p>\n<h3 id=\"三、编辑器说明：\"><a href=\"#三、编辑器说明：\" class=\"headerlink\" title=\"三、编辑器说明：\"></a>三、编辑器说明：</h3><p>在运行里键入<strong>regedit</strong>就可以进入了</p>\n<p>根键：这个称为HKEY…………，某一项的句柄项：附加的文件夹和一个或多个值<br>子项：在某一个项（父项）下面出现的项（子项）<br>值项：带有一个名称和一个值的有序值，每个项都可包括任何数量的值项，值项由三个部分组成：名称、数据类型和数据。</p>\n<p>1、名称：不包括反斜线的字符、数字、代表符和空格的任意组合。同一键中不可有相同的名称<br>2、数据类型：包括字符串、二进制和双字节等<br>3、数据：值项的具体值，它的大小可以占用64KB</p>\n<h2 id=\"第二课-总体结构分析\"><a href=\"#第二课-总体结构分析\" class=\"headerlink\" title=\"第二课  总体结构分析\"></a>第二课  总体结构分析</h2><h3 id=\"注册表包括以下5个根键\"><a href=\"#注册表包括以下5个根键\" class=\"headerlink\" title=\"注册表包括以下5个根键\"></a>注册表包括以下5个根键</h3><p><strong>1.HKEY_CLASSES_ROOT</strong><br>说明：该根键包括启动应用程序所需的全部信息，包括扩展名，应用程序与文档之间的关系，驱动程序名，DDE和OLE信息，类ID编号和应用程序与文档的图标等。</p>\n<p><strong>2.HKEY_CURRENT_USER</strong><br>说明：该根键包括当前登录用户的配置信息，包括环境变量，个人程序以及桌面设置等</p>\n<p><strong>3.HKEY_LOCAL_MACHINE</strong><br>说明：该根键包括本地计算机的系统信息，包括硬件和操作系统信息，安全数据和计算机专用的各类软件设置信息</p>\n<p><strong>4.HKEY_USERS</strong><br>说明：该根键包括计算机的所有用户使用的配置数据，这些数据只有在用户登录系统时才能访问。这些信息告诉系统当前用户使用的图标，激活的程序组，开始菜单的内容以及颜色，字体</p>\n<p><strong>5.HKEY_CURRENT_CONFIG</strong><br>说明：该根键包括当前硬件的配置信息，其中的信息是从HKEY_LOCAL_MACHINE中映射出来的。</p>\n<h2 id=\"第三课-HKEY-CLASSES-ROOT\"><a href=\"#第三课-HKEY-CLASSES-ROOT\" class=\"headerlink\" title=\"第三课 HKEY_CLASSES_ROOT\"></a>第三课 HKEY_CLASSES_ROOT</h2><p>​\t我们知道，在这一个根键中记录的是WINDOWS操作系统中所有数据文件的信息内容，主要记录了不同文件的文件扩展名和与之相对应的应用程序。这就是为什么我们双击某一个文档的时候，可以由系统自动调出应用程序的所在了。<br>​\t这个根键的子键当大家展开时发现是非常多的，它主要分为两种：一是已经注册的各类文件的扩展名；一是各种文件类型的有关信息。</p>\n<p>下面我们以AVIFILE举例说明一下其下面的子项的含义：</p>\n<p>1、CLSID：分类标识，系统可以用这个类标识来识别相同类型的文件</p>\n<p>2、Compressors：它下面有两个子项：</p>\n<p>​\t\t\tauds:用于设置音频数据压缩程序的类标识；</p>\n<p>​\t\t\tvids:用于设置视频数据压缩程序的类标识</p>\n<p>3、defaultlcon：用于设置默认图标，这个大家可以改一下试试</p>\n<p>4、RIFFHandlers：在它的下面有两个类标识：</p>\n<p>​\t\t\tAVI：用于设置AVI文件的类标识；</p>\n<p>​\t\t\tWAVE：用于设置WAVE文件的类标识</p>\n<p>5、protocol：包括了执行程序和编辑程序的路径和文件名：</p>\n<p>​\t\t\tStdExecute（stdfileediting)server：用于指定编辑程序；</p>\n<p>​\t\t\tStdExecute（stdfileediting)PackageObjects:用于指定后打开AVI包对象的编辑程序；</p>\n<p>​\t\t\tStdExecute（stdfileediting)_verb：用于设置编辑程序时的工作状态，其中有0、1、2等状态</p>\n<p>6、Shell子项：用于设置视频文件的外壳：</p>\n<p>​\t\t\topen:用于设置打开AVI文件的程序；</p>\n<p>​\t\t\tplay：用于设置播放命令的程序</p>\n<p>7、Shellex：包括了视频文件的外壳扩展</p>\n<h2 id=\"第四课-HKEY-CURRENT-USER\"><a href=\"#第四课-HKEY-CURRENT-USER\" class=\"headerlink\" title=\"第四课 HKEY_CURRENT_USER\"></a>第四课 HKEY_CURRENT_USER</h2><p>​\t\t此根键中保存的信息（当前用户的子项信息）与HKEY_USERS_DEFAULT下面的一模一样的。</p>\n<p>任何对 HKEY_CURRENT_USER根键中的信息的修改都会导致对HKEY_USERS_DEFAULT中子项的修改。</p>\n<h2 id=\"第五课-HKEY-LOCAL-MACHINE\"><a href=\"#第五课-HKEY-LOCAL-MACHINE\" class=\"headerlink\" title=\"第五课 HKEY_LOCAL_MACHINE\"></a>第五课 HKEY_LOCAL_MACHINE</h2><p>​\t\t此根键中存放的是用来控制系统和软件的设置，由于这些设置是针对那些使用Windows系统的用户而设置</p>\n<p>的，是一个公共配置信息，所以它与具体的用户没多大关系。</p>\n<p>1、HARDWARE子项：该子项包括了系统使用的浮点处理器、串口等信息：</p>\n<p>​\t\t\tACPI:存放高级电源管理接口数据；</p>\n<p>​\t\t\tDEVICEMAP：用于存放设备映射；</p>\n<p>​\t\t\tDEscriptION：存放有关系统信息；</p>\n<p>​\t\t\tRESOURCEMAP：用于存放资源列表</p>\n<p>2、SAM子项：这部分被保护了，看不到，可以更改权限后再进行查看，应该是存放计算机上存在的所有用户的名</p>\n<p>称(包括隐藏用户)，<del>（如果没记错的话）</del></p>\n<p>3、SECURITY子项：该子项只是为将来的高级功能而预留的</p>\n<p>4、SOFTWARE子项：该子项中保留的是所有已安装的32位应用程序的信息，各个程序的控制信息分别安装在相应</p>\n<p>的子项中，由于不同的计算机安装的应用程序互不相同，因此这个子项下面的子项信息也不完全一样。</p>\n<p>5、SYSTEM子项：该子项是启动时所需的信息和修复系统时所需要的信息：</p>\n<p>​\t\t\tcurrentcontrol:保存了当前驱动程序控制集中的所有信息</p>\n<h2 id=\"第六课-HKEY-USERS\"><a href=\"#第六课-HKEY-USERS\" class=\"headerlink\" title=\"第六课 HKEY_USERS\"></a>第六课 HKEY_USERS</h2><p>​\t\t此根键中保存的是默认用户（default)，当前登录用户和软件（software) 的信息，其中DEFAULT子项是其中最重要的，它的配置是针对未来将会被创建的新用户的。新用户根据默认用户的配置信息来生成自己的配置文件，该配置文件包括环境、屏幕和声音等多种信息，其中常用的3项有：</p>\n<p>1、AppEvents子项：它包括了各种应用事件的列表：</p>\n<p>​\t\t\tEventLabels:按字母顺序列表；</p>\n<p>​\t\t\tSchemes:按事件分类列表</p>\n<p>2、Control Panel子项：它包括内容与桌面、光标、键盘和鼠标等设置有关</p>\n<p>3、Keyboard layout子项：用于键盘的布局（如语言的加载顺序等）<br>            Preload:语言的加载顺序<br>            Substitutes:设置可替换的键盘语言布局<br>            Toggle:用于选择键盘语言</p>\n<h2 id=\"第七课-HKEY-CURRENT-CONFIG\"><a href=\"#第七课-HKEY-CURRENT-CONFIG\" class=\"headerlink\" title=\"第七课 HKEY_CURRENT_CONFIG\"></a>第七课 HKEY_CURRENT_CONFIG</h2><p>​\t此根键存放的是当前配置的文件信息。<br>实际上细心的读者已经发现了，五大根键实际上并不是五个，现在把这个做了总结</p>\n<p>​\t我们都知道用regedit或regedit32都可以打开注册表文件，在XP系统下的时候，这两种方法其实都是一样的，当我们打开注册表后看到了类似资源管理器的东西，这里面都有什么呢？<br>​\t\tHKEY_CLASSES_ROOT<br>​\t\tHKEY_CURRENT_USER<br>​\t\tHKEY_LOCAL_MACHINE<br>​\t\tHKEY_USERS<br>​\t\tHKEY_CURRENT_CONFIG<br>​\t看是五个分支，<strong>其实就是HKEY_LOCAL_MACHINE、HKEY_USERS这两个才是真正的注册表键</strong>，其它都是从某</p>\n<p>个分支映射出来的，相当于快捷方式或是别名，这样的话看注册表就简单了许多了，现在说一下每个分支的作用：</p>\n<p>​\t\tHKEY_CLASSES_ROOT：列出当前计算机注册的所有COM服务器和与应用程序相关联的所有文件扩展名。<br>​\t\tHKEY_CURRENT_USER：保存着当前登录到由这个注册服务的计算机上的用户配置文件。<br>​\t\tHKEY_LOCAL_MACHINE：保存操作系统及硬件相关信息的配置单元，它是一个公共的配置信息与具体用户无关，其中关键是两个键值<br>​\t\t\t\tSOFTWARE：保存着与这台电脑中安装的应用程序相关的设置。<br>​\t\t\t\tSYSTEM：WINDOWS所装载的设备驱动程序以及当WINDOWS启动时所需要的各种参数。<br>​\t\tHKEY_USERS：包含当前计算机所有用户配置文件。<br>​\t\tHKEY_CURRENT_CONFIG： 计算机当前会话中的所有硬件配置信息。</p>\n<h2 id=\"第八课-注册表的基本操作\"><a href=\"#第八课-注册表的基本操作\" class=\"headerlink\" title=\"第八课  注册表的基本操作\"></a>第八课  注册表的基本操作</h2><p>1、创建项和项值</p>\n<p>2、更值项的数据</p>\n<p>3、删除项、子项或值项</p>\n<p>4、查找项、值项或数据</p>\n<h3 id=\"注册表中常用的数据类型有5种：\"><a href=\"#注册表中常用的数据类型有5种：\" class=\"headerlink\" title=\"注册表中常用的数据类型有5种：\"></a>注册表中常用的数据类型有5种：</h3><p>​\t\t二进制值（reg_binary）:多数硬件信息以二进制数据存储，而以十六进制格式显示在注册表编辑器中</p>\n<p>​\t\t字符串值（reg_sz）:包括字符串的注册表键，使用字符串数据类型</p>\n<p>​\t\t双字节值（reg_dword）:是32位信息常显示成4个字节。它在出错控制功能上用处极大，其数据一般以十六进</p>\n<p>制格式显示在注册表编辑器中。<br>        多字符串值(reg_multi_sz):允许将一系列项目作为单独的一个值使用。对于多种网络协议、多个项目、设备列</p>\n<p>表以及其他类似的列表项目来说，可以使用多字符串值可扩充字符串值（reg_expand_sz）：代表一个可扩展的字</p>\n<p>符串</p>\n<h2 id=\"第九课-注册表破坏的现象及原因\"><a href=\"#第九课-注册表破坏的现象及原因\" class=\"headerlink\" title=\"第九课  注册表破坏的现象及原因\"></a>第九课  注册表破坏的现象及原因</h2><h3 id=\"一、注册表破坏后的常见现象\"><a href=\"#一、注册表破坏后的常见现象\" class=\"headerlink\" title=\"一、注册表破坏后的常见现象\"></a>一、注册表破坏后的常见现象</h3><p>​\t\t1、无法启动系统<br>​\t\t2、无法运行或正常运行合法的应用程序<br>​\t\t3、找不到启动系统或运行应用程序所需的文件<br>​\t\t4、没有访问应用程序的权限<br>​\t\t5、不能正确安装或装入驱动程序<br>​\t\t6、不能进行网络连接<br>​\t\t7、注册表条目有错误</p>\n<h3 id=\"二、注册表被破坏的原因\"><a href=\"#二、注册表被破坏的原因\" class=\"headerlink\" title=\"二、注册表被破坏的原因\"></a>二、注册表被破坏的原因</h3><p>​\t\t1、应用程序错误：这个出现的时候比较多，因为我们知道应用程序或多或少的时候都有错误，都有可能导致</p>\n<p>不同的后果；另外在系统中安装过多的软件后，有可能出现彼此之间的冲突。</p>\n<p>​\t\t2、驱动程序不兼容：其实我发现好多出在系统自动安装的驱动程序上，如果你本身有驱动程序盘的话，还是</p>\n<p>用专业的比较好一些</p>\n<p>​\t\t3、硬件问题：这里面好我问题出现在硬件质量上，比如硬盘或内存质量不过关造成读写错误，或超频或CMOS或病毒等</p>\n<p>​\t\t4、误操作：这个大家不知出现了没有，您的误操作可能会导致注册表出现错误，有的时候甚至会很严重的。</p>\n<h2 id=\"第十课-备份注册表\"><a href=\"#第十课-备份注册表\" class=\"headerlink\" title=\"第十课  备份注册表\"></a>第十课  备份注册表</h2><h3 id=\"一、手工备份注册表\"><a href=\"#一、手工备份注册表\" class=\"headerlink\" title=\"一、手工备份注册表\"></a>一、手工备份注册表</h3><p>大家把以下几个文件直接复制到另一个文件夹就可以了<br>        1、在windows\\system32\\config下有以下几个文件用以保存系统配置：SAM,SYSTEM,SOFYWARE,DEFAULT<br>        2、在Documetents and settings\\username文件夹中保存用户配置文件：NETUSER.DAT,当然对应的LOG文件应该一块保存</p>\n<h3 id=\"二、注册表导出法导出注册表\"><a href=\"#二、注册表导出法导出注册表\" class=\"headerlink\" title=\"二、注册表导出法导出注册表\"></a>二、注册表导出法导出注册表</h3><p>​\t\t在文件中选择导出命令,回答文件名和位置，OK了</p>\n<h3 id=\"三、通过系统备份功能进行备份\"><a href=\"#三、通过系统备份功能进行备份\" class=\"headerlink\" title=\"三、通过系统备份功能进行备份\"></a>三、通过系统备份功能进行备份</h3><p>​\t\t1、选择开始—程序—附件—系统工具—备份</p>\n<p>​\t\t2、选择高级模式点下一步</p>\n<p>​\t\t3、选择system state(系统状态),在底下文件名中位置中回答路径及文件名</p>\n<p>​\t\t4、点击开始备份</p>\n<h2 id=\"第十一课-恢复注册表\"><a href=\"#第十一课-恢复注册表\" class=\"headerlink\" title=\"第十一课  恢复注册表\"></a>第十一课  恢复注册表</h2><p>1、重新启动系统恢复注册表</p>\n<p>​\t 一重启就可以修正各种在注册表中出现的错误了，但是以硬盘上的注册表的信息正确为前提的。</p>\n<p>2、手工恢复注册表</p>\n<p>​\t把上节中复制出来的文件再弄回去就OK了。</p>\n<p>3、注册表导入法恢复</p>\n<p>​\t首先上节中的导出的文件你要有啊，然后运行regedit.exe文件，文件中的导入，选择要导入的注册表文件，点找开就可以了</p>\n<p>4、利用高级启动选项恢复注册表</p>\n<p>​\t重启计算机，启动时按F8键进入高级选项菜单， 选择最后一次正确的配置，回车了，OK</p>\n<p>5、通过局域网来恢复注册表</p>\n<pre><code> 这个我们一般是指连入局域网的某一计算机（我们假设叫aaaaa）的注册表被管理员锁了，但有另一台计算机（我们假设叫B）的注册表可以用，现在我们用B来解除A的锁定。\n</code></pre>\n<p>​\t进入B的注册表，选择文件中的连接网络注册表，在查找位置中输入aaaaa，这时注册表中出现了songxiang计算机的注册表，</p>\n<p>​\t修改键值：aaaaa\\HEKY_USERS\\S-1-5-21-823518204-688789844-842925246-500\\Software\\Microsoft\\</p>\n<p>Windows\\CurrentVersion\\Policies\\System下的disableregistrytools值改为0就可以了。</p>\n<p>​\tS-1-5-21-823518204-688789844-842925246-500这一大堆数知道什么意思吗，是超级管理员，重新安装系统</p>\n<h2 id=\"第十二课-注册表的优化\"><a href=\"#第十二课-注册表的优化\" class=\"headerlink\" title=\"第十二课  注册表的优化\"></a>第十二课  注册表的优化</h2><h3 id=\"一、我们为什么要优化注册表\"><a href=\"#一、我们为什么要优化注册表\" class=\"headerlink\" title=\"一、我们为什么要优化注册表\"></a>一、我们为什么要优化注册表</h3><p>1、在计算机使用过程中可能经常添加或删除应用程序；在上网时遇到恶意网站，向注册表强行添加信息；</p>\n<p>2、原来的应用程序卸载后注册表没删除，启动时出现没找到某某应用程序</p>\n<p>3、多余注册表的子项可能造成浪费或降低启动速度</p>\n<h3 id=\"二、手工优化注册表\"><a href=\"#二、手工优化注册表\" class=\"headerlink\" title=\"二、手工优化注册表\"></a>二、手工优化注册表</h3><p>1、清除多余的DLL文件<br>大家找到这个项：HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\ShareDLLs，在这个项下存放的是共享的DLL信息，注意看括号里面的数据，它表示共享文件的数目，如果为0，那么删除掉吧</p>\n<p>2、安装卸载应用程序的垃圾信息<br>这个主要是一些非法卸载应用程序导致的，我们首先要知道什么程序被非法卸载了，这个很好办，你自己现在正使着的你是知道的，其余的就没用了<br>注册表位置：HKEY_CURRENT_USER\\Software HKEY_LOCAL_MACHINE\\Software看到没用的就全删了就行了</p>\n<p>3、系统安装时产生的无用信息：去掉吧，有可能启动变快呢</p>\n<p>​\t3.1、删除多余时区（我是只留北京时区）<br>​\t\t位置：HKEY_LOCAL_MACHINE\\Software\\Microsoft\\WindowsNT\\CurrentVersion\\Time Zones<br>​\t\t如果你只要北京时区的话，那么除了China Standard Time，其余的都删了吧</p>\n<p>​\t3.2、清除国家列表（我只留中华人民共和国）<br>​\t\t位置：HKEY_LOCAL_MACHINE\\Software\\Microsoft\\Windows\\CurrentVersion\\Telephony\\Country List<br>​\t\t保留86号文件夹，其余删</p>\n<p>​\t3.3、清除多余的语言代码（我只保留英语—0409和中文—0804）<br>​\t\t位置：HKEY_LOCAL_MACHINE\\SYSTEM\\CurrnetControlSet\\Control\\Nls\\Locale没用的删了吧</p>\n<p>​\t3.4、删除多余的键盘布局：<br>​\t\t位置：HKEY_LOCAL_MACHINE\\SYSTEM\\CurrnetControlSet\\Control\\Keyboard Layouts<br>​\t\t你可以把每个键值都打开看看，不需要的输入法删除即可</p>\n<p>​\t\t3.5、删除失效的文件关联<br>​\t\t位置：HKEY_CLASSES_ROOT主键可分为两部分：第一部分用来定义文件类型；第二部分与第一部分一一对应，用于记录打开文件的应用程序。一般，在打开第二部分的可疑子项后，若该键下的COMMAND下没有内容，就可以删掉了</p>\n<h2 id=\"第十三课-个性化设置\"><a href=\"#第十三课-个性化设置\" class=\"headerlink\" title=\"第十三课  个性化设置\"></a>第十三课  个性化设置</h2><p>1、去掉桌面快捷方式上的小键头<br>位置：HKEY_CLASSES_ROOT\\LNKFILE项 ：IsShortcut<br>操作：删除此项</p>\n<p>2、隐藏桌面上的所有图标<br>位置：HKEY_CURRENT_USER\\Software\\Windows\\CurrentVersion\\Policies\\Explorer<br>新建：NoDesktop（双字节）<br>操作：值设为1</p>\n<p>3、修改桌面上“回收站”的名字及图标位置：<br>HKEY_LOCAL_MACHINE\\SOFTWARE\\Classes\\CLSID{645FF040-5081-101B-9F08-00AA002F954E}（这个大家也可直接查找“回收站”<br>修改：（默认）一项随便换个名字就可以了<br>然后展开此项，选择DEfaultIcon<br>这时大家看到有3个子项，意思吗一看就明白了<br>如果想改变图标时，只需将路径和文件名改了即可，比如改为”d:\\tt.ico”</p>\n<p>4 、去掉桌面上的网上邻居<br>位置：HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Policies\\Explorer<br>新建：NoNetHood（双字节）值： 1</p>\n<p>5、在桌面上显示系统版本号<br>位置：HKEY_CURRENT_USER\\Control Panel\\Desktop<br>项：PaintDesktopVersion<br>修改：将值改为1</p>\n<p>6、改变窗口按钮字体的颜色<br>位置：HKEY_CURRENT_USER\\Control Pannel\\Colors<br>键值：ButtonText<br>修改：大家知道PS吧，比如改为红么(255,0,0)</p>\n<p>7、屏蔽桌面上的IE图标<br>位置：HKEY_CURRENT_USER\\Software\\Windows\\CurrentVersion\\Policies\\Explorer<br>新建值项：NoInternetIcon<br>修改：1</p>\n<p>8、禁止更改桌面墙纸<br>位置：HKEY_CURRENT_USER\\Software\\Windows\\CurrentVersion\\Policies\\Explorer<br>新建项值：NoChangingWallPaper(双字节）<br>修改：1</p>\n<p>9、设置登录背景<br>位置：HKEY_USERS\\DEFAULT\\ControlPanel\\Desktop<br>键值：WallPaper<br>修改：把背景图片一写就OK了（比如C:\\aa.bmp）<br>—————-以上需重启计算机—————-</p>\n<p>10、更改：我的电脑的提示信息位置：<br>HKEY_LOCAL_MACHINE\\SOFTWARE\\Classes\\CLSID{20D04FE0-3AEA-1069-A2D8-08002B30309D}<br>键值：InfoTip<br>修改：哈，随便打吧，我打成了“这是我的电脑噢”</p>\n<p>11、更改：回收站的提示信息位置：<br>HKEY_LOCAL_MACHINE\\SOFTWARE\\Classes\\CLSID{645FF040-5081-101B-9F08-00AA002F954E}<br>键值：InfoTip<br>修改：跟上面一样,自己改吧</p>\n<p>12、更改IE的提示信息位置：<br>HKEY_LOCAL_MACHINE\\SOFTWARE\\Classes\\CLSID{871C5380-42A0-1069-A2EA-08002B30309D}<br>键值：InfoTip<br>修改：同上</p>\n<p>13、更改网上邻居的提示信息位置：<br>HKEY_LOCAL_MACHINE\\SOFTWARE\\Classes\\CLSID{208D2C60-3AEA-1069-A2D7-08002B30309D}<br>键值：InfoTip<br>修改：同上</p>\n<p>14、更改我的文档的提示信息位置：<br>HKEY_LOCAL_MACHINE\\SOFTWARE\\Classes\\CLSID{450D8FBA-AD25-11D0-98A8-0800361B1103}<br>键值：InfoTip<br>修改：同上</p>\n<p>15、更改任务计划提示信息位置：<br>HKEY_LOCAL_MACHINE\\SOFTWARE\\Classes\\CLSID{D6277990-4C6A-11CF-8D87-00AA0060F5BF}<br>键值：InfoTip<br>修改：同上</p>\n<p>16、改变桌面图标顺序位置：<br>HKEY_LOCAL_MACHINE\\SOFTWARE\\Classes\\CLSID{450D8FBA-AD25-11D0-98A8-0800361B1103}<br>键值：SortOrderIndex<br>修改：48（我的文档在第一位）<br>54（我的电脑在第一位）</p>\n<p>17、禁止帮助提示信息(需重启）<br>位置：HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\Advanced<br>键值：showinfotip<br>修改：0</p>\n<p>18、用真彩色显示图标(需重启）<br>位置：HKEY_CURRENT_USER\\Control<br>Panel\\Desktop\\WindowMetrics<br>键值：Shell Icon BPP<br>修改：32</p>\n<p>19、更改图标显示尺寸(需重启）<br>位置：HKEY_CURRENT_USER\\Control Panel\\Desktop\\WindowMetrics<br>键值：Shell Icon SIZE<br>修改：在显示器分辨率为1024<em>768时可改为：48；在显示器分辨率为1600</em>1200时可改为：64</p>\n<p>20、自动清除“文档”菜单中的历史记录（需重启）<br>位置：HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Policies\\Explorer<br>新建：CleanReccentDocsOn-Exit<br>(REG-DWORD)值：1</p>\n<p>21、禁止“文档”的历史记录（需重启）<br>位置：HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Policies\\Explorer<br>新建：NoReccentDocsHistory<br>(REG-DWORD)值：1</p>\n<p>22、去掉开始菜单的“文档”项（需重启）<br>位置：HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Policies\\Explorer<br>新建：NoReccentDocsMenu<br>(REG-DWORD)值：1</p>\n<p>23、去掉开始菜单的“查找”项（需重启）<br>位置：HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Policies\\Explorer<br>新建：NoFind<br>(REG-DWORD)值：1</p>\n<p>24、去掉开始菜单的“运行”项（需重启）<br>位置：HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Policies\\Explorer<br>新建：NoRun<br>(REG-DWORD)值：1</p>\n<p>25、禁止用户更改“开始”菜单（需重启）<br>位置：HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Policies\\Explorer<br>新建：NoChangeStartMenu<br>(REG-DWORD)值：1</p>\n<p>26、禁止显示开始菜单中的windows update项（需重启）<br>位置：HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Policies\\Explorer<br>新建：NoWindowsUpdate<br>(REG-DWORD)值：1</p>\n<p>27、屏蔽开始菜单中的“关闭计算机”项（需重启）<br>位置：HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Policies\\Explorer<br>新建：NoClose (REG-DWORD)值：1</p>\n<p>28、加快“开始”菜单与“任务栏”的速度<br>位置：HKEY_CURRENT_USER\\Control Panel\\Desktop<br>键值：MenuShowDelay<br>值：数值资料改为100或更小（默认值为：400），建议不要使用0，因为如此一来只要鼠标一不小心触碰到“所有程序”，整条菜单就会跑出来，那这乱了套。</p>\n<p>29、为回收站的右键菜单增加“删除”和“重命名”<br>位置：HKEY_CLASSES_ROOT\\CLSID{645FF040-5081-101B-9F08-00AA002F954E}\\ShellFolder<br>键值：Attributes<br>值：70 01 00 20</p>\n<p>30、为右键菜单添加“在新窗口打开”命令<br>位置：HKEY_LOCAL_MACHINE\\SOFTWARE\\Classes\\Directory\\shell<br>新建子项：NewWindow<br>修改：将默认值项值改为“在新窗口打开”<br>继续：在NewWindow项下新建个子项command<br>修改：将默认值项值改为explorer.exe</p>\n<p>31、为右键菜单添加“快速关闭计算机”命令<br>位置：HKEY_LOCAL_MACHINE\\SOFTWARE\\Classes\\Directory\\shell<br>新建子项：<br>快速关闭计算机<br>修改：将默认值项值改为“快速关闭计算机”<br>继续：在NewWindow项下新建个子项command<br>修改：将默认值项值改为”c:\\windows\\rundll32.exe user.exe,exitwindowsexec”</p>\n<p>32、禁止任务栏的快捷菜单（需重启)<br>位置：HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Policies\\Explorer<br>新建键值：NoTrayContextMenu<br>(REG_DWORD)值：1</p>\n<p>33、将任务栏显示时间的地方改为要显示的文字（需重启）<br>位置：HKEY_CURRENT_USER\\Control Panel\\International<br>键值：STimeFormat<br>修改：自己喜欢什么文字就改成什么吧</p>\n<p>34、禁止使用任务栏（需重启）<br>位置：HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Policies\\Explorer<br>新建键值：NoSetTaskBar<br>(REG_DWORD)修改：1</p>\n<h2 id=\"第十四课-系统设置-控制面板常用选项设置，系统性能优化设置\"><a href=\"#第十四课-系统设置-控制面板常用选项设置，系统性能优化设置\" class=\"headerlink\" title=\"第十四课  系统设置(控制面板常用选项设置，系统性能优化设置)\"></a>第十四课  系统设置(控制面板常用选项设置，系统性能优化设置)</h2><p>1、禁用“控制面板”中的“显示”选项<br>位置：HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Policies<br>新建项值：System<br>新建值项：NodispCPL<br>（REG_DWORD）<br>值：1</p>\n<p>2、屏蔽显示选项中的“屏幕保护程序”<br>位置：HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Policies\\System<br>新建值项：NoDispScrSavPage<br>   （REG_DWORD）<br>值：1</p>\n<p>3、屏蔽显示选项中的“外观”<br>位置：HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Policies\\System<br>新建值项：NoDispAppearancePage<br>   （REG_DWORD）值：1</p>\n<p>4、屏蔽显示选项中的“设置”<br>位置：HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Policies\\System<br>新建值项：NoDispSettingsPage<br>   （REG_DWORD）值：1</p>\n<p>5、屏蔽显示选项中的“屏幕保护程序密码”<br>位置：HKEY_CURRENT_USER\\Software\\Policies\\Microsoft<br>新建项：Control Panel<br>再新建子项：Desktop<br>新建值：ScreenSaverIsSecure (REG_DWORD)值：1</p>\n<p>6、禁止使用“添加删除程序”项<br>位置：HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Policies<br>新建子项：Uninstall<br>新建值项：NoAddRemovePrograms (REG_DWORD)值：1</p>\n<p>7、屏蔽“添加删除程序”中的“更改或删除程序”选项<br>位置：HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Policies\\uninstall<br>新建值项：NoRemovePage  (REG_DWORD)值：1</p>\n<p>8、屏蔽“添加删除程序”中的“添加新程序”选项<br>位置：HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Policies\\uninstall<br>新建值项：NoAddpage (REG_DWORD)值：1</p>\n<p>9、屏蔽“添加删除程序”中的“添加或删除windows组件”选项<br>位置：HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Policies\\uninstall<br>新建值项：NoWindowsSetupPage (REG_DWORD)值：1</p>\n<p>10、屏蔽“添加删除程序”中的“更改或删除程序”中的“单击此处获得支持信息”选项<br>位置：HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Policies\\uninstall<br>新建值项：NoSupportInfo (REG_DWORD)值：1</p>\n<p>11、屏蔽“更改或删除程序”中的“添加新程序”中的“从CD-ROM或软盘安装程序”选项<br>位置：HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Policies\\uninstall<br>新建值项：NoAddFromCDorFloppy (REG_DWORD)值：1</p>\n<p>12、屏蔽“更改或删除程序”中的“添加新程序”中的“从Microsoft添加程序程序”选项<br>位置：HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Policies\\uninstall<br>新建值项：NoAddFromInternet (REG_DWORD)值：1</p>\n<p>13、设置windows的关机时间<br>位置：HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control<br>值项：WaitToKillServiceTimeout<br>修改：它以毫秒为单位，请自行设置</p>\n<p>14、更改windows服务启动的顺序<br>位置：HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\ServiceGroupOrder<br>值项：ServiceGroupOrder<br>修改：按你想要的顺序自行输入</p>\n<p>15、更改windows启动时运行的程序<br>位置：HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\Session<br>Manager<br>值项：BootExecite<br>修改：自行输入一行启动时要执行的命令即可</p>\n<p>16、删除多余的DLL文件<br>位置：HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\SharedDlls<br>值项：这里好多了，都是DLL的，注意看好了，所有是0的都是没用的，删了即可，然后再将相应的系统文件夹中的文件删除</p>\n<p>17、删除不必要的自启程序<br>位置：HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Run<br>值项：这里面列出的都是启动项，不要的可以删掉，他和msconig中列出的是一样的</p>\n<p>18、清除注册表垃圾（需重启）<br>位置1：HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Uninstall<br>位置2：HKEY_LOCAL_MACHINE\\SOFTWARE<br>操作：很简单了，没用的删了吧</p>\n<p>19、自动刷新窗口（需重启）<br>位置：HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\Update<br>键值：UpdateMode<br>修改：0</p>\n<p>20、更改开始菜单存放的目录（需重启）<br>位置：HKEY_USERS.DEFAULT\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\Shell Folders<br>键值：Start Menu<br>修改：把要改到的路径添上就可以了,并将原源件复制到目标文件夹下</p>\n<p>21、更改开始菜单中的程序的存放目录（需重启）<br>位置：HKEY_USERS.DEFAULT\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\Shell Folders<br>键值：Program<br>修改：把要改到的路径添上就可以了，并将原源件复制到目标文件夹下</p>\n<p>22、更改开始菜单中的程序里的应用程序存放目录（需重启）<br>位置：HKEY_USERS.DEFAULT\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\Shell Folders<br>键值：appdate<br>修改：把要改到的路径添上就可以了，并将原源件复制到目标文件夹下</p>\n<p>23、更改开始菜单中的程序里的发送到存放目录（需重启）<br>位置：HKEY_USERS.DEFAULT\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\Shell Folders<br>键值：SendTo<br>修改：把要改到的路径添上就可以了，并将原源件复制到目标文件夹下,其实我们也可以在这里建立一个新的发送到项目，比如发送到你的U盘</p>\n<p>24、更改开始菜单中的程序里的启动程序存放目录（需重启）<br>位置：HKEY_USERS.DEFAULT\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\Shell Folders<br>键值：StartUp<br>修改：把要改到的路径添上就可以了，并将原源件复制到目标文件夹下</p>\n<p>25、更改网页历史记录存放目录（需重启）<br>位置：HKEY_USERS.DEFAULT\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\Shell Folders<br>键值：History<br>修改：把要改到的路径添上就可以了，并将原源件复制到目标文件夹下</p>\n<p>26、更改我的文档存放目录（需重启）<br>位置：HKEY_USERS.DEFAULT\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\Shell Folders<br>键值：Personal<br>修改：把要改到的路径添上就可以了，并将原源件复制到目标文件夹下</p>\n<p>27、更改新建文件的存放目录（需重启）<br>位置：HKEY_USERS.DEFAULT\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\Shell Folders<br>键值：Templates<br>修改：把要改到的路径添上就可以了</p>\n<p>28、在我的电脑中显示网络连接<br>位置：HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Explorer\\MyComputer\\NameSpace<br>新建子项：{992CFFA0-F557-101A-88EC-00DD010CCC48}<br>修改默认值：网络连接</p>\n<p>29、在我的电脑中显示打印机和传真<br>位置：HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Explorer\\MyComputer\\NameSpace<br>新建子项：{2227A280-3AEA-1069-A2DE-08002B3039D}<br>修改默认值：打印机和传真</p>\n<p>30、打开或关闭启动优化功能（启动时碎片整理）<br>位置：HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Dfrg\\BootOptimizeFunction<br>键值：Enable<br>修改：Y开启N不开启</p>\n<p>31、加快程序运行速度(需要重启)<br>位置：HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\FileSystem<br>新建值项：configfileallocsize<br>值：1f4</p>\n<p>32、缩短关闭无响应程序的等待时间（需重启）<br>位置：HKEY_USERS.DEFAULT\\Control Panel\\Desktop<br>值项：WaitToKillTimeout<br>修改：增大一点可以加快处理程序的速度</p>\n<p>33、关机时自动删除交换文件<br>位置：HKEY_LOCAL_MACHINE\\SYSTEM\\ControlSet001\\Control\\Session Manager\\Memory Management<br>值：ClearPageFileAtShutdown<br>修改：1</p>\n<p>34、自动关闭计算机（指关机后停在关机界面）<br>位置：HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows<br>NT\\CurrentVersion\\Winlogon<br>值：PowerdownAfterShutdown<br>修改：1</p>\n<h2 id=\"第十五课-硬件设置\"><a href=\"#第十五课-硬件设置\" class=\"headerlink\" title=\"第十五课  硬件设置\"></a>第十五课  硬件设置</h2><p>1、启用CPU的二级缓存（需重启）<br>位置：HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\Session Manager\\Memory Management<br>值项：secondleveldatacache<br>修改：我改成了200了，你呢</p>\n<p>2、修改认证标识（拥有个性化的CPU）<br>位置：HKEY_LOCAL_MACHINE\\HARDWARE\\DEscriptION\\System\\CentralProcessor\\0<br>值项：ProcessorNameString<br>修改：随便改，改成了奔8CPU,9.99GHZ主频</p>\n<p>3、更改系统属性对话框里的CPU信息<br>位置：HKEY_LOCAL_MACHINE\\HARDWARE\\DEscriptION\\System\\CentralProcessor\\0<br>值项：VendorIdentifer<br>修改：随便改</p>\n<p>4、清除内存中不使用的DLL文件（需重启）<br>位置：HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Explorer<br>新建值项：Always UnloadDll<br>(REG-DWORD)值：1</p>\n<p>5、启动自动优化磁盘功能（需重启）<br>位置：HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Dfrg\\BootOptimizeFunction<br>值项：Enable<br>修改：Yes</p>\n",
            "tags": [
                "转载",
                "基础"
            ]
        },
        {
            "id": "https://w-sqrt7.github.io/2024/03/09/other/basic/Windows%E7%9A%84%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/",
            "url": "https://w-sqrt7.github.io/2024/03/09/other/basic/Windows%E7%9A%84%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/",
            "title": "Windows渗透测试中常用命令",
            "date_published": "2024-03-09T07:58:06.817Z",
            "content_html": "<h1 id=\"Windows渗透测试中常用命令\"><a href=\"#Windows渗透测试中常用命令\" class=\"headerlink\" title=\"Windows渗透测试中常用命令\"></a>Windows渗透测试中常用命令</h1><p>ifconfig &#x2F;all 获取获取域名、IP地址、DHCP服务器、网关、MAC地址、主机名<br>dir 查看目录<br>type 查看文件内容<br>net time &#x2F;domain 查看域名、时间<br>net view &#x2F;domain 查看域内所有共享<br>net view ip 查看对方局域网内开启了哪些共享<br>net config workstation 查看域名、机器名等<br>net user 用户名 密码 &#x2F;add 建立用户<br>net user 用户名 &#x2F;del #删除用户<br>net user guest &#x2F;active:yes 激活guest账户<br>net user 查看账户<br>net user 账户名 查看指定账户信息<br>net user &#x2F;domain 查看域内有哪些用户，Windows NT Workstation 计算机上可用，由此可以此判断用户是否是域成员。<br>net user 用户名 &#x2F;domain 查看账户信息<br>net group &#x2F;domain 查看域中的组<br>net group “domain admins” &#x2F;domain 查看当前域的管理用户<br>query user 查看当前在线的用户<br>net localgroup 查看所有的本地组<br>net localgroup administrators 查看administrators组中有哪些用户<br>net localgroup administrators 用户名 &#x2F;add 把用户添加到管理员组中<br>net start 查看开启服务<br>net start 服务名 开启某服务<br>net stop 服务名 停止某服务<br>net share 查看本地开启的共享<br>net share ipc$ 开启ipc$共享<br>net share ipc$ &#x2F;del 删除ipc$共享<br>net share c$ &#x2F;del 删除C：共享<br>\\192.168.0.108\\c 访问默认共享c盘<br>dsquery server 查看所有域控制器<br>dsquery subnet 查看域内内子网<br>dsquery group 查看域内工作组<br>dsquery site 查看域内站点<br>netstat -a 查看开启了哪些端口,常用netstat -an<br>netstat -n 查看端口的网络连接情况，常用netstat -an<br>netstat -v 查看正在进行的工作<br>netstat -p 协议名 例：netstat -p tcq&#x2F;ip 查看某协议使用情况（查看tcp&#x2F;ip协议使用情况）<br>netstat -s 查看正在使用的所有协议使用情况<br>nbtstat -A ip 对方136到139其中一个端口开了的话，就可查看对方最近登陆的用户名（03前的为用户名）-注意：参数-A要大写<br>reg save hklm\\sam sam.hive 导出用户组信息、权限配置<br>reg save hklm\\system system.hive 导出SYSKEY<br>net use \\目标IP\\ipc$ 密码 &#x2F;u:用户名 连接目标机器<br>at \\目标IP 21:31 c:\\server.exe 在某个时间启动某个应用<br>wmic &#x2F;node:”目标IP” &#x2F;password:”123456” &#x2F;user:”admin” 连接目标机器<br>psexec.exe \\目标IP -u username -p password -s cmd 在目标机器上执行cmd<br>finger username @host 查看最近有哪些用户登陆<br>route print 显示出IP路由，将主要显示网络地址Network addres，子网掩码Netmask，网关地址Gateway addres，接口地址Interface<br>arp 查看和处理ARP缓存，ARP是名字解析的意思，负责把一个IP解析成一个物理性的MAC地址。<br>arp -a 将显示出全部信息<br>nslookup IP地址侦测器<br>tasklist 查看当前进程<br>taskkill &#x2F;pid PID数 终止指定PID进程<br>whoami 查看当前用户及权限<br>systeminfo 查看计算机信息（版本，位数，补丁情况）<br>ver 查看计算机操作系统版本<br>tasklist &#x2F;svc 查看当前计算机进程情况<br>netstat -ano 查看当前计算机进程情况<br>wmic product &gt; ins.txt 查看安装软件以及版本路径等信息，重定向到ins.txt</p>\n",
            "tags": [
                "转载",
                "基础"
            ]
        },
        {
            "id": "https://w-sqrt7.github.io/2024/03/09/other/basic/kali%E7%9A%84%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/",
            "url": "https://w-sqrt7.github.io/2024/03/09/other/basic/kali%E7%9A%84%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/",
            "title": "kali的常用命令",
            "date_published": "2024-03-09T07:52:10.931Z",
            "content_html": "<h1 id=\"kali的常用命令\"><a href=\"#kali的常用命令\" class=\"headerlink\" title=\"kali的常用命令\"></a>kali的常用命令</h1><h2 id=\"1-常用命令\"><a href=\"#1-常用命令\" class=\"headerlink\" title=\"1.常用命令\"></a>1.常用命令</h2><p>passwd 修改密码</p>\n<p>passwd root 修改root用户密码</p>\n<p>date 显示系统日期</p>\n<p>sudo 后面加命令 就可以调用管理权限</p>\n<p>apt-get update 更新软件列表</p>\n<p>这个命令，会访问源列表里的每个网址，并读取软件列表，然后保存在本地电脑。我们在新立得软件包管理器里看到的软件列表，都是通过update命令更新的。</p>\n<p>apt-get upgrade 更新软件</p>\n<p>这个命令，会把本地已安装的软件，与刚下载的软件列表里对应软件进行对比，如果发现已安装的软件版本太低，就会提示你更新。如果你的软件都是最新版本，会提示： 升级了 0 个软件包，新安装了 0 个软件包，要卸载 0 个软件包，有 0 个软件包未被升级。</p>\n<p>apt-get dist-upgrade 更新软件  </p>\n<p>apt-get upgrade 与 apt-get dist-upgrade 的区别</p>\n<p>upgrade:系统将现有的Package升级,如果有相依性的问题,而此相依性需要安装其它新的Package或影响到其它Package的相依性时,此Package就不会被升级,会保留下来.</p>\n<p>dist-upgrade:可以聪明的解决相依性的问题,如果有相依性问题,需要安装&#x2F;移除新的Package,就会试着去安装&#x2F;移除它.<br>(所以通常这个会被认为是有点风险的升级)</p>\n<p>apt-get upgrade 和 apt-get dist-upgrade 本质上是没有什么不同的。</p>\n<p>只不过，dist-upgrade<br>会识别出当依赖关系改变的情形并作出处理，而upgrade对此情形不处理。</p>\n<p>例如软件包 a 原先依赖 b c d，但是在源里面可能已经升级了，现在是 a 依赖 b c e。这种情况下，dist-upgrade 会删除 d 安装 e，并把 a 软件包升级，而 upgrade 会认为依赖关系改变而拒绝升级 a<br>软件包。</p>\n<p>clear 清屏</p>\n<p>sudo gpedit 特权调用gpedit编辑器</p>\n<p>reboot 重启</p>\n<p>apt-get install XXXXX 安装缺少的依赖包，（XXX）里面输入缺少依赖包的名字</p>\n<p>apt-get autoremove –purge 软件名 删除包及其依赖的软件包+配置文件等</p>\n<p>apt-get install +模块名 这种方法也可以安装模块,或者apt-get install python-模块名</p>\n<p>firefox 浏览器打开</p>\n<p>shutdown -h now 关闭系统(1)</p>\n<p>init 0 关闭系统(2)</p>\n<p>telinit 0 关闭系统(3)</p>\n<p>shutdown -h hours:minutes &amp; 按预定时间关闭系统</p>\n<p>shutdown -c 取消按预定时间关闭系统</p>\n<p>shutdown -r now 重启(1)</p>\n<p>reboot 重启(2)</p>\n<p>su -l 切换登陆用户</p>\n<p>logout 注销用户登陆</p>\n<p>pwd 当前路径</p>\n<h2 id=\"2-文件夹或文本操作\"><a href=\"#2-文件夹或文本操作\" class=\"headerlink\" title=\"2.文件夹或文本操作\"></a>2.文件夹或文本操作</h2><p>cd .. 返回上一级目录</p>\n<p>cd ..&#x2F;.. 返回上级两级目录</p>\n<p>cd - 返回上次所在的目录</p>\n<p>cd 文件夹名  进去文件夹</p>\n<p>cd ~ 进去当前用户主目录</p>\n<p>pwd 显示当前工作路径</p>\n<p>touch 文件名  常见文件</p>\n<p>cat 文件名 读取文档内容</p>\n<p>mkdir 文件名 创建文件夹</p>\n<p>mkdir -p 文件夹 递归创建文件夹</p>\n<p>cp 复制命令</p>\n<p>cp -r moon moons 复制moon 文件夹到当前 moons 如果有里面有文件 使用-r </p>\n<p>mv 移动命令</p>\n<p>mv moon moon 也可以说是改名</p>\n<p>mkdir 文件名 文件名 创建多个文件夹</p>\n<p>ls 显示文件和文件夹名</p>\n<p>ls -a 显示所有的文件和文件夹 包含隐藏文件</p>\n<p>ls -l 显示文件和目录的详细资料</p>\n<p>删除</p>\n<p>rm -f 文件  删除文件</p>\n<p>rm 文件夹名 删除文件夹</p>\n<p>rm -rf  文件&#x2F;文件夹  删除文件夹 及其目录下的文件</p>\n<p>压缩和解压<br>bzip2 file1 压缩一个叫做 ‘file1’ 的文件</p>\n<p>gunzip file1.gz 解压一个叫做 ‘file1.gz’的文件</p>\n<p>gzip file1 压缩一个叫做 ‘file1’的文件</p>\n<p>gzip -9 file1 最大程度压缩</p>\n<p>rar a file1.rar test_file 创建一个叫做 ‘file1.rar’ 的包</p>\n<p>rar x file1.rar 解压rar包</p>\n<p>unrar x file1.rar 解压rar包</p>\n<p>DEB 包 (Debian, Ubuntu 以及类似系统)<br>dpkg -i package.deb 安装&#x2F;更新一个 deb 包</p>\n<p>dpkg -r package_name 从系统删除一个 deb 包</p>\n<p>dpkg -l 显示系统中所有已经安装的 deb 包</p>\n<p>dpkg -l | grep httpd 显示所有名称中包含 “httpd” 字样的deb包</p>\n<p>dpkg -s package_name 获得已经安装在系统中一个特殊包的信息</p>\n<p>dpkg -L package_name 显示系统中已经安装的一个deb包所提供的文件列表</p>\n<p>dpkg –contents package.deb 显示尚未安装的一个包所提供的文件列表</p>\n<p>tar zcvf +压缩文件名 压缩文件</p>\n<p>tar zxvf +解压包名 解压文件</p>\n<p>tar -jcvf renwolesshel.tar.bz2 打包</p>\n<p>tar jxvf renwolesshel.tar.bz2 解压</p>\n<p>压缩成zip格式</p>\n<p>zip -q -r renwolesshel.zip renwolesshel&#x2F;<br>解压zip格式的压缩包</p>\n<p>unzip renwolesshel.zip</p>\n<p>which 加软件名 可以查出软件目录在哪</p>\n<p>.&#x2F;+文件名或者apt-get +文件名 安装文件</p>\n<h2 id=\"3-系统信息\"><a href=\"#3-系统信息\" class=\"headerlink\" title=\"3.系统信息\"></a>3.系统信息</h2><p>arch 显示机器的处理器架构(1)</p>\n<p>uname -m 显示机器的处理器架构(2)</p>\n<p>uname -r 显示正在使用的内核版本</p>\n<p>cat &#x2F;proc&#x2F;version 显示内核的版本</p>\n<p>cat &#x2F;proc&#x2F;net&#x2F;dev 显示网络适配器及统计</p>\n<p>cat &#x2F;proc&#x2F;cpuinfo 显示CPU info的信息</p>\n<p>cat &#x2F;proc&#x2F;mounts 显示已加载的文件系统</p>\n<h2 id=\"4-vi-常用命令\"><a href=\"#4-vi-常用命令\" class=\"headerlink\" title=\"4.vi 常用命令\"></a>4.vi 常用命令</h2><h2 id=\"vi编辑器的概念\"><a href=\"#vi编辑器的概念\" class=\"headerlink\" title=\"vi编辑器的概念\"></a>vi编辑器的概念</h2><p>vi编辑器分为三种状态，分别是：<br>1.命令模式（command mode）<br>控制屏幕光标的移动，字符、字或行的删除，移动复制某区段及进入Insert mode下，或者到 last line mode。</p>\n<p>2.插入模式（Insert mode）</p>\n<p>只有在Insert mode下，才可以做文字输入，按「ESC」键可回到命令行模式。</p>\n<p>3.底行模式（last line mode）</p>\n<p>将文件保存或退出vi，也可以设置编辑环境，如寻找字符串、列出行号……等。</p>\n<p><strong>打开</strong></p>\n<p>vi filename :打开或新建文件，并将光标置于第一行首<br>vi +n filename ：打开文件，并将光标置于第n行首<br>vi + filename ：打开文件，并将光标置于最后一行首</p>\n<p><strong>编辑</strong></p>\n<p>i 在当前位置生前插入<br>I 在当前行首插入<br>a 在当前位置后插入<br>A 在当前行尾插入<br>o 在当前行之后插入一行<br>O 在当前行之前插入一行<br>编辑结束，按Esc返回命令模式</p>\n<p><strong>基本查找</strong></p>\n<p>&#x2F;text　　查找text，按n健查找下一个，按N健查找前一个。<br>?text　　查找text，反向查找，按n健查找下一个，按N健查找前一个。<br>查找很长的词，如果一个词很长，键入麻烦，可以将光标移动到该词上，按*或#键即可以该单词进行搜索，相当于&#x2F;搜索。而#命令相当于?搜索。</p>\n<p><strong>删除</strong></p>\n<p>删除当前行 dd<br>删除2行 2dd</p>\n<p><strong>拷贝和粘贴</strong></p>\n<p>yy 拷贝当前行<br>nyy 拷贝当前后开始的n行，比如2yy拷贝当前行及其下一行。<br>p  在当前光标后粘贴</p>\n<p>区块拷贝</p>\n<ol>\n<li>将光标移动到要复制的文本开始的地方，按 v进入可视模式。</li>\n<li>将光标移动到要复制的文本的结束的地方，按y复制。此时vim会自动将光标定位到选中文本的开始的地方，并退出可视模式。</li>\n<li>我移动光标到文本结束的地方，按 p粘贴。</li>\n</ol>\n<p><strong>退出命令</strong></p>\n<p>:wq 保存并退出<br>:q! 强制退出并忽略所有更改<br>:e! 放弃所有修改，并打开原来文件<br>:w保存修改</p>\n<p><strong>显示行号</strong></p>\n<p>set number</p>\n<p>set nu</p>\n<p>输入:n，代表跳转到第n行，如:100，就跳转到第100行。</p>\n<p>撤销操作</p>\n<p>u</p>\n<p>vim与vi的区别</p>\n<p>vim是vi的延申 vim编辑源码会高亮 vim的命令对vi是完全兼容的</p>\n<h2 id=\"5-文件搜索\"><a href=\"#5-文件搜索\" class=\"headerlink\" title=\"5.文件搜索\"></a>5.文件搜索</h2><p>find &#x2F; -name file1 从 ‘&#x2F;’ 开始进入根文件系统搜索文件和目录</p>\n<p>find &#x2F; -user user1 搜索属于用户 ‘user1’ 的文件和目录<br>find &#x2F;home&#x2F;user1 -name *.bin 在目录 ‘&#x2F; home&#x2F;user1’ 中搜索带有’.bin’ 结尾的文件<br>find &#x2F;usr&#x2F;bin -type f -atime +100 搜索在过去100天内未被使用过的执行文件<br>find &#x2F;usr&#x2F;bin -type f -mtime -10 搜索在10天内被创建或者修改过的文件</p>\n<p>find . -name ‘<em>.php’ -mmin -30  查找最近30分钟修改的当前目录下的.php文件<br>find . -name ‘</em>.php’ -mtime 0<br>查找最近24小时修改的当前目录下的.php文件</p>\n<p>find . -name ‘*.inc’ -mtime 0 -ls<br>查找最近24小时修改的当前目录下的.php文件，并列出详细信息</p>\n<p>find . -type f -mtime 1</p>\n<p>查找当前目录下，最近24-48小时修改过的常规文件。<br>find . -type f -mtime +1<br>查找当前目录下，最近1天前修改过的常规文件。</p>\n<p>-atime 文件访问时间</p>\n<p>-ctime 文件常见时间</p>\n<p>-mtime文件修改时间</p>\n<p>-mtime n : n为数字，意思为在n天之前的“一天之内”被更改过内容的文件<br>-mtime +n : 列出在n天之前（不含n天本身）被更改过内容的文件名<br>-mtime -n : 列出在n天之内（含n天本身）被更改过内容的文件名</p>\n<p>-type f 代表一个普通格式的文件 二进制文件</p>\n<p>-type d 代表文件夹</p>\n<p>find &#x2F; -name *.rpm -exec chmod 755 ‘{}’ ; 搜索以 ‘.rpm’ 结尾的文件并定义其权限<br>find &#x2F; -xdev -name *.rpm 搜索以 ‘.rpm’ 结尾的文件，忽略光驱、捷盘等可移动设备<br>locate *.ps 寻找以 ‘.ps’ 结尾的文件 - 先运行 ‘updatedb’ 命令<br>whereis halt 显示一个二进制文件、源码或man的位置<br>which halt 显示一个二进制文件或可执行文件的完整路径</p>\n<p>grep kali &#x2F;etc&#x2F;passwd grep关键词搜索</p>\n<p>grep -r –include&#x3D;’*.php’ ‘@eval’ &#x2F; 查找包含一句话木马的php文件</p>\n<p>find &#x2F; -name moonsec 2&gt;&#x2F;dev&#x2F;null   搜索某个文件&#x2F;文件夹 屏蔽出错信息</p>\n<p>SCP命令</p>\n<p>1.将远程服务器文件拷贝到本地服务器当前路径下<br>在本地服务器当前路径下，输入如下命令，回车后输入远程服务器的登录密码，即可将远程文件拷贝到本地服务器当前路径下。</p>\n<p> scp <a href=\"mailto:&#x74;&#101;&#x73;&#116;&#x75;&#115;&#x65;&#114;&#x40;&#52;&#55;&#46;&#49;&#48;&#48;&#46;&#x32;&#52;&#55;&#x2e;&#x32;&#52;&#x30;\">&#x74;&#101;&#x73;&#116;&#x75;&#115;&#x65;&#114;&#x40;&#52;&#55;&#46;&#49;&#48;&#48;&#46;&#x32;&#52;&#55;&#x2e;&#x32;&#52;&#x30;</a>:&#x2F;home&#x2F;testuser&#x2F;test.sql </p>\n<p>2.将本地服务器文件推送到远程服务器<br>在本地服务器当前路径下，输入如下命令，回车后输入远程服务器的登录密码，即可将本地文件拷贝到远程服务器指定路径下。</p>\n<p> scp test1.sql <a href=\"mailto:&#116;&#x65;&#x73;&#x74;&#x75;&#x73;&#101;&#114;&#64;&#52;&#55;&#x2e;&#x31;&#x30;&#48;&#x2e;&#50;&#x34;&#55;&#46;&#x32;&#x34;&#x30;\">&#116;&#x65;&#x73;&#x74;&#x75;&#x73;&#101;&#114;&#64;&#52;&#55;&#x2e;&#x31;&#x30;&#48;&#x2e;&#50;&#x34;&#55;&#46;&#x32;&#x34;&#x30;</a>:&#x2F;home&#x2F;testuser&#x2F;</p>\n<p>3.将远程服务器文件夹全部复制到本地服务器</p>\n<p>scp -r <a href=\"mailto:&#x74;&#101;&#115;&#116;&#x75;&#115;&#x65;&#114;&#64;&#52;&#x37;&#x2e;&#x31;&#x30;&#x30;&#x2e;&#x32;&#52;&#55;&#x2e;&#x32;&#52;&#x30;\">&#x74;&#101;&#115;&#116;&#x75;&#115;&#x65;&#114;&#64;&#52;&#x37;&#x2e;&#x31;&#x30;&#x30;&#x2e;&#x32;&#52;&#55;&#x2e;&#x32;&#52;&#x30;</a>:&#x2F;home&#x2F;testuser&#x2F; </p>\n<p>4.将本地服务器文件夹全部复制到远程服务器</p>\n<p>scp -r &#x2F;home&#x2F;testuser1&#x2F; <a href=\"mailto:&#x74;&#x65;&#x73;&#x74;&#117;&#x73;&#x65;&#x72;&#64;&#x34;&#55;&#x2e;&#49;&#48;&#x30;&#46;&#50;&#52;&#x37;&#46;&#x32;&#52;&#48;\">&#x74;&#x65;&#x73;&#x74;&#117;&#x73;&#x65;&#x72;&#64;&#x34;&#55;&#x2e;&#49;&#48;&#x30;&#46;&#50;&#52;&#x37;&#46;&#x32;&#52;&#48;</a>:&#x2F;home&#x2F;testuser&#x2F;</p>\n<h2 id=\"6-用户和群组\"><a href=\"#6-用户和群组\" class=\"headerlink\" title=\"6.用户和群组\"></a>6.用户和群组</h2><p>groupadd group_name 创建一个新用户组<br>groupdel group_name 删除一个用户组</p>\n<p>cat &#x2F;etc&#x2F;group | grep group_name </p>\n<p>usermod -a -G moontea k1把用户k1附加其他用户组</p>\n<p>创建目录</p>\n<p>useradd moonsec</p>\n<p>passwd moonsec</p>\n<p>创建用户以及分配目录</p>\n<p>useradd -r -m -s &#x2F;bin&#x2F;bash moonsec</p>\n<p>参数的意思：<br>-r 建立系统账号<br>-m 自动建立用户的登入目录<br>-s &#x2F;bin&#x2F;bash 指定用户登入后所使用的shell</p>\n<p>切换用户</p>\n<p>su - root 切换到root用户</p>\n<p>su 用户名 切换到普通用户</p>\n<h2 id=\"7-系统管理\"><a href=\"#7-系统管理\" class=\"headerlink\" title=\"7.系统管理\"></a>7.系统管理</h2><p>top</p>\n<p>查看正在指向的程序信息</p>\n<p>进程</p>\n<p>ps -ef 查看所有进程信息</p>\n<p>ps -ef | grep tomcat 查找指定进程</p>\n<p>kill -9 id 强制杀死进程</p>\n<p>env 当前的变量</p>\n<p>查看系统变量</p>\n<p>echo $PATH</p>\n<p>hostname 查看主机名</p>\n<p>history 查看历史命令</p>\n<h2 id=\"8-查看磁盘信息\"><a href=\"#8-查看磁盘信息\" class=\"headerlink\" title=\"8.查看磁盘信息\"></a>8.查看磁盘信息</h2><p>df   默认不带单位，挂载点、总容量、已用、可用</p>\n<p>df  -h   友好显示（带单位），很多命令的友好显示都是-h</p>\n<h2 id=\"9-查看内存信息\"><a href=\"#9-查看内存信息\" class=\"headerlink\" title=\"9.查看内存信息\"></a>9.查看内存信息</h2><p>free   默认以KB为单位，总容量、已用、可用、缓存大小</p>\n<p>free  -m   默认以MB为单位</p>\n<p>free  -h   上面2种都不带单位、只显示数值，这种是友好显示的，会带单位G、M等</p>\n<h2 id=\"10-查看环境变量\"><a href=\"#10-查看环境变量\" class=\"headerlink\" title=\"10.查看环境变量\"></a>10.查看环境变量</h2><p>echo  $JAVA_HOME<br>echo $PATH | grep jdk</p>\n<h2 id=\"11开机自启\"><a href=\"#11开机自启\" class=\"headerlink\" title=\"11开机自启\"></a>11开机自启</h2><p>有很多程序往往都需要设置开机自启，比如tomcat、mysql、nginx等。</p>\n<p>在&#x2F;etc&#x2F;rc.d&#x2F;rc.local文件中加入开机要自动执行的程序</p>\n<p>vim &#x2F;etc&#x2F;rc.d&#x2F;rc.local</p>\n<p>挂载一个windows网络共享</p>\n<p>mount -t smbfs -o username&#x3D;user,password&#x3D;pass &#x2F;&#x2F;WinClient&#x2F;share &#x2F;mnt&#x2F;share </p>\n<h2 id=\"12网卡配置\"><a href=\"#12网卡配置\" class=\"headerlink\" title=\"12网卡配置\"></a>12网卡配置</h2><p>vi &#x2F;etc&#x2F;network&#x2F;interfaces</p>\n<p>auto eth0  &#x2F;&#x2F;指定网卡（根据ifconfig结果修改）<br>iface eth0 inet static  &#x2F;&#x2F;启动静态ip<br>address 192.168.0.66  &#x2F;&#x2F; 设置静态ip<br>netmask 255.255.255.0  &#x2F;&#x2F;子网掩码<br>gateway 192.168.0.1  &#x2F;&#x2F;指定网关</p>\n<p>重启网络</p>\n<p>service networking restart<br>或者：<br>systemctl restart networking</p>\n<p>设置临时ip</p>\n<p>ifconfig eth0 192.168.0.33</p>\n<h2 id=\"13网卡DNS服务器\"><a href=\"#13网卡DNS服务器\" class=\"headerlink\" title=\"13网卡DNS服务器\"></a>13网卡DNS服务器</h2><p>vi &#x2F;etc&#x2F;resovl.conf</p>\n<p>nameserver 114.114.114.114</p>\n<p>重启网卡</p>\n<p>service networking restart</p>\n<p>systemctl restart networking</p>\n<p>注意有时候重启才生效</p>\n<h2 id=\"14-服务相关\"><a href=\"#14-服务相关\" class=\"headerlink\" title=\"14.服务相关\"></a>14.服务相关</h2><p>启动apache2服务器</p>\n<p> &#x2F;etc&#x2F;init.d&#x2F;apache2 start</p>\n<p>打开：&#x2F;etc&#x2F;init.d&#x2F;apache2 start<br>重启：&#x2F;etc&#x2F;init.d&#x2F;apache2 restart<br>关闭：&#x2F;etc&#x2F;init.d&#x2F;apache2 stop</p>\n<p>启动网卡</p>\n<p>&#x2F;etc&#x2F;init.d&#x2F;network start</p>\n<p>网络相关</p>\n<p>开启路由转发</p>\n<p>echo 1 &gt; &#x2F;proc&#x2F;sys&#x2F;net&#x2F;ipv4&#x2F;ip_forward</p>\n<h2 id=\"15-linux常用网络命令\"><a href=\"#15-linux常用网络命令\" class=\"headerlink\" title=\"15.linux常用网络命令\"></a><strong>15.linux常用网络命令</strong></h2><p>网络和监控命令类似于这些： hostname, ping, ifconfig, iwconfig, netstat, nslookup, traceroute, finger, telnet, ethtool 用于查看 linux 服务器 ip 地址，管理服务器网络配置，通过 telnet 和 ethernet 建立与 linux 之间的网络链接，查看 linux 的服务器信息等。下面让我们看看在 Linux 下的网络和监控命令的使用。</p>\n<p>hostname 查看本机名</p>\n<p>ping  一般用于测试网络是否通 内网icmp</p>\n<p>ping <a href=\"http://www.baidu.com/\">www.baidu.com</a> -c 3 执行3次</p>\n<p>ifconfig 网卡信息</p>\n<p>iwconfig 用于配置或获取无线网络设备信息</p>\n<p>netstat </p>\n<p>-a (all)显示所有选项，默认不显示LISTEN相关<br>-t (tcp)仅显示tcp相关选项<br>-u (udp)仅显示udp相关选项<br>-n 拒绝显示别名，能显示数字的全部转化成数字。<br>-l 仅列出有在 Listen (监听) 的服務状态</p>\n<p>-p 显示建立相关链接的程序名<br>-r 显示路由信息，路由表<br>-e 显示扩展信息，例如uid等<br>-s 按各个协议进行统计<br>-c 每隔一个固定时间，执行该netstat命令。</p>\n<p>提示：LISTEN和LISTENING的状态只有用-a或者-l才能看到</p>\n<p>常用命令</p>\n<p>netstat -ano</p>\n<p>-an 查看当前所有已连接端口<br>-nlpt 查看当前所有tcp端口<br>-nlpu 查看当前所有udp端口<br>-nlpt | grep 80 查看所有80端口使用情况</p>\n<p>netstat -lntup 查看所有的tcp和upd端口</p>\n<p>nslookup </p>\n<p>查询其他记录<br>直接查询返回的是A记录，我们可以指定参数，查询其他记录，比如AAAA、MX等。</p>\n<p>nslookup -qt&#x3D;type domain [dns-server]<br>其中，type可以是以下这些类型：</p>\n<p>A 地址记录<br>AAAA 地址记录<br>AFSDB Andrew文件系统数据库服务器记录<br>ATMA ATM地址记录<br>CNAME 别名记录<br>HINFO 硬件配置记录，包括CPU、操作系统信息<br>ISDN 域名对应的ISDN号码<br>MB 存放指定邮箱的服务器<br>MG 邮件组记录<br>MINFO 邮件组和邮箱的信息记录<br>MR 改名的邮箱记录<br>MX 邮件服务器记录<br>NS 名字服务器记录<br>PTR 反向记录<br>RP 负责人记录<br>RT 路由穿透记录<br>SRV TCP服务器信息记录<br>TXT 域名对应的文本信息<br>X25 域名对应的X.25地址记录</p>\n<p>http协议</p>\n<p>curl</p>\n<p>wget</p>\n<p>traceroute</p>\n<p>traceroute是用来检测发出数据包的主机到目标主机之间所经过的网关数量的工具。traceroute的原理是试图以最小的TTL（存活时间）发出探测包来跟踪数据包到达目标主机所经过的网关，然后监听一个来自网关ICMP的应答。发送数据包的大小默认为38个字节。</p>\n<p>-d 使用Socket层级的排错功能。<br>-f 设置第一个检测数据包的存活数值TTL的大小。<br>-F 设置勿离断位。<br>-g 设置来源路由网关，最多可设置8个。<br>-i 使用指定的网络界面送出数据包。<br>-I 使用ICMP回应取代UDP资料信息。<br>-m 设置检测数据包的最大存活数值TTL的大小。<br>-n 直接使用IP地址而非主机名称。<br>-p 设置UDP传输协议的通信端口。<br>-r 忽略普通的Routing Table，直接将数据包送到远端主机上。<br>-s 设置本地主机送出数据包的IP地址。<br>-t 设置检测数据包的TOS数值。<br>-v 详细显示指令的执行过程。<br>-w 设置等待远端主机回报的时间。</p>\n<p>-x 开启或关闭数据包的正确性检验。</p>\n<p>telnet</p>\n<p>Linux telnet命令用于远端登入。</p>\n<p>执行telnet指令开启终端机阶段作业，并登入远端主机。</p>\n<p>现在多数用于检测某个端口是否开放</p>\n<p>Finger</p>\n<p>Finger是一种用户信息分享服务。它工作在TCP 79端口，可以用来公开用户的特定信息。Nmap的finger的脚本可以向Finger服务器发送请求，查询并获取用户的相关信息，如登录名、用户名、TTY类型、登录时间等。</p>\n<p>ethtool 是用于查询及设置网卡参数的命令</p>\n<h2 id=\"16-防火墙iptables\"><a href=\"#16-防火墙iptables\" class=\"headerlink\" title=\"16.防火墙iptables\"></a>16.防火墙iptables</h2><p>查看防火墙规则</p>\n<p>iptalbes -L</p>\n<p>清除规则</p>\n<p>iptables -F</p>\n<p>关闭防火墙 </p>\n<p>&#x2F;etc&#x2F;init.d&#x2F;iptables stop</p>\n<p>service iptables stop</p>\n<p>安装：apt-get install ufw</p>\n<p>关闭：ufw disable # To disable the firewall</p>\n<p>开启：ufw enable # To enable the firewall</p>\n",
            "tags": [
                "转载",
                "基础",
                "kali"
            ]
        },
        {
            "id": "https://w-sqrt7.github.io/2024/03/09/other/basic/%E5%B8%B8%E7%94%A8%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%8F%A3%E5%8F%B7/",
            "url": "https://w-sqrt7.github.io/2024/03/09/other/basic/%E5%B8%B8%E7%94%A8%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%8F%A3%E5%8F%B7/",
            "title": "常用服务端口号",
            "date_published": "2024-03-09T07:04:38.838Z",
            "content_html": "<h1 id=\"常用服务端口号\"><a href=\"#常用服务端口号\" class=\"headerlink\" title=\"常用服务端口号\"></a>常用服务端口号</h1><h2 id=\"原文链接：\"><a href=\"#原文链接：\" class=\"headerlink\" title=\"原文链接：\"></a>原文链接：</h2><p><a href=\"https://developer.aliyun.com/article/850146\">https://developer.aliyun.com/article/850146</a></p>\n<p><a href=\"https://cloud.tencent.com/developer/article/1702021\">https://cloud.tencent.com/developer/article/1702021</a></p>\n<p><a href=\"https://blog.csdn.net/Geroge_Ming/article/details/109711897\">https://blog.csdn.net/Geroge_Ming/article/details/109711897</a></p>\n<p>端口号的范围是从1～65535</p>\n<p>分为3大类：</p>\n<p>（1） 公认端口（Well Known Ports）：从0到1023，它们紧密绑定于一些服务。通常这些端口的通讯明确表明了某种服务的协议。例如：80端口实际上总是HTTP通讯。</p>\n<p>（2） 注册端口（Registered Ports）：从1024到49151，它们松散地绑定于一些服务。但是这些端口同样用于许多其它目的。例如：许多系统处理动态端口从1024左右开始。</p>\n<p>（3） 动态和&#x2F;或私有端口（Dynamic and&#x2F;or Private Ports）：从49152到65535。<br> 理论上，不应为服务分配这些端口。<br> 实际上，机器通常从1024起分配动态端口。但也有例外：SUN的RPC端口从32768开始。</p>\n<h2 id=\"常用端口\"><a href=\"#常用端口\" class=\"headerlink\" title=\"常用端口\"></a>常用端口</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">21端口：FTP 文件传输服务</span><br><span class=\"line\">22端口：SSH协议、SCP（文件传输）、端口号重定向</span><br><span class=\"line\">23/tcp端口：TELNET 终端仿真服务</span><br><span class=\"line\">25端口：SMTP 简单邮件传输服务</span><br><span class=\"line\">53端口：DNS 域名解析服务</span><br><span class=\"line\">69/udp：TFTP</span><br><span class=\"line\">80/8080/3128/8081/9098端口：HTTP协议代理服务器</span><br><span class=\"line\">110/tcp端口：POP3（E-mail）</span><br><span class=\"line\">119端口：Network </span><br><span class=\"line\">123端口：NTP（网络时间协议）</span><br><span class=\"line\">135、137、138、139端口： 局域网相关默认端口，应关闭</span><br><span class=\"line\">161端口：SNMP（简单网络管理协议）</span><br><span class=\"line\">389端口：LDAP（轻量级目录访问协议）、ILS（定位服务）</span><br><span class=\"line\">443/tcp 443/udp：HTTPS服务器</span><br><span class=\"line\">445端口：SMB（服务器消息快协议）</span><br><span class=\"line\">465端口：SMTP（简单邮件传输协议）</span><br><span class=\"line\">873端口：rsync</span><br><span class=\"line\">1080端口：SOCKS代理协议服务器常用端口号、QQ</span><br><span class=\"line\">1158端口：ORACLE EMCTL</span><br><span class=\"line\">1433/tcp/udp端口：MS SQL*SERVER数据库server、MS SQL*SERVER数据库monitor</span><br><span class=\"line\">1521端口：Oracle 数据库</span><br><span class=\"line\">2100端口：Oracle XDB FTP服务</span><br><span class=\"line\">3389端口：WIN2003远程登录</span><br><span class=\"line\">3306端口：MYSQL数据库端口</span><br><span class=\"line\">5432端口：postgresql数据库端口</span><br><span class=\"line\">5601端口：kibana</span><br><span class=\"line\">6379端口：Redis数据库端口</span><br><span class=\"line\">8080端口：TCP服务端默认端口、JBOSS、TOMCAT、Oracle XDB（XML 数据库）</span><br><span class=\"line\">8081端口：Symantec AV/Filter for MSE</span><br><span class=\"line\">8888端口：Nginx服务器的端口</span><br><span class=\"line\">9000端口：php-fpm</span><br><span class=\"line\">9080端口：Webshpere应用程序</span><br><span class=\"line\">9090端口：webshpere管理工具</span><br><span class=\"line\">9200端口：Elasticsearch服务器端口</span><br><span class=\"line\">10050端口：zabbix_server 10050</span><br><span class=\"line\">10051端口：zabbix_agent</span><br><span class=\"line\">11211端口：memcache（高速缓存系统）</span><br><span class=\"line\">27017端口：mongoDB数据库默认端口</span><br><span class=\"line\">22122端口：fastdfs服务器默认端口</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"著名端口\"><a href=\"#著名端口\" class=\"headerlink\" title=\"著名端口\"></a>著名端口</h2><table>\n<thead>\n<tr>\n<th>端口号码 &#x2F; 层</th>\n<th>名称</th>\n<th>注释</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>1</td>\n<td>tcpmux</td>\n<td>TCP 端口服务多路复用</td>\n</tr>\n<tr>\n<td>5</td>\n<td>rje</td>\n<td>远程作业入口</td>\n</tr>\n<tr>\n<td>7</td>\n<td>echo</td>\n<td>Echo 服务</td>\n</tr>\n<tr>\n<td>9</td>\n<td>discard</td>\n<td>用于连接测试的空服务</td>\n</tr>\n<tr>\n<td>11</td>\n<td>systat</td>\n<td>用于列举连接了的端口的系统状态</td>\n</tr>\n<tr>\n<td>13</td>\n<td>daytime</td>\n<td>给请求主机发送日期和时间</td>\n</tr>\n<tr>\n<td>17</td>\n<td>qotd</td>\n<td>给连接了的主机发送每日格言</td>\n</tr>\n<tr>\n<td>18</td>\n<td>msp</td>\n<td>消息发送协议</td>\n</tr>\n<tr>\n<td>19</td>\n<td>chargen</td>\n<td>字符生成服务；发送无止境的字符流</td>\n</tr>\n<tr>\n<td>20</td>\n<td>ftp-data</td>\n<td>FTP 数据端口</td>\n</tr>\n<tr>\n<td>21</td>\n<td>ftp</td>\n<td>文件传输协议（FTP）端口；有时被文件服务协议（FSP）使用</td>\n</tr>\n<tr>\n<td>22</td>\n<td>ssh</td>\n<td>安全 Shell（SSH）服务</td>\n</tr>\n<tr>\n<td>23</td>\n<td>telnet</td>\n<td>Telnet 服务</td>\n</tr>\n<tr>\n<td>25</td>\n<td>smtp</td>\n<td>简单邮件传输协议（SMTP）</td>\n</tr>\n<tr>\n<td>37</td>\n<td>time</td>\n<td>时间协议</td>\n</tr>\n<tr>\n<td>39</td>\n<td>rlp</td>\n<td>资源定位协议</td>\n</tr>\n<tr>\n<td>42</td>\n<td>nameserver</td>\n<td>互联网名称服务</td>\n</tr>\n<tr>\n<td>43</td>\n<td>nicname</td>\n<td>WHOIS 目录服务</td>\n</tr>\n<tr>\n<td>49</td>\n<td>tacacs</td>\n<td>用于基于 TCP&#x2F;IP 验证和访问的终端访问控制器访问控制系统</td>\n</tr>\n<tr>\n<td>50</td>\n<td>re-mail-ck</td>\n<td>远程邮件检查协议</td>\n</tr>\n<tr>\n<td>53</td>\n<td>domain</td>\n<td>域名服务（如 BIND）</td>\n</tr>\n<tr>\n<td>63</td>\n<td>whois++</td>\n<td>WHOIS++，被扩展了的 WHOIS 服务</td>\n</tr>\n<tr>\n<td>67</td>\n<td>bootps</td>\n<td>引导协议（BOOTP）服务；还被动态主机配置协议（DHCP）服务使用</td>\n</tr>\n<tr>\n<td>68</td>\n<td>bootpc</td>\n<td>Bootstrap（BOOTP）客户；还被动态主机配置协议（DHCP）客户使用</td>\n</tr>\n<tr>\n<td>69</td>\n<td>tftp</td>\n<td>小文件传输协议（TFTP）</td>\n</tr>\n<tr>\n<td>70</td>\n<td>gopher</td>\n<td>Gopher 互联网文档搜寻和检索</td>\n</tr>\n<tr>\n<td>71</td>\n<td>netrjs-1</td>\n<td>远程作业服务</td>\n</tr>\n<tr>\n<td>72</td>\n<td>netrjs-2</td>\n<td>远程作业服务</td>\n</tr>\n<tr>\n<td>73</td>\n<td>netrjs-3</td>\n<td>远程作业服务</td>\n</tr>\n<tr>\n<td>73</td>\n<td>netrjs-4</td>\n<td>远程作业服务</td>\n</tr>\n<tr>\n<td>79</td>\n<td>finger</td>\n<td>用于用户联系信息的 Finger 服务</td>\n</tr>\n<tr>\n<td>80</td>\n<td>http</td>\n<td>用于万维网（WWW）服务的超文本传输协议（HTTP）</td>\n</tr>\n<tr>\n<td>88</td>\n<td>kerberos</td>\n<td>Kerberos 网络验证系统</td>\n</tr>\n<tr>\n<td>95</td>\n<td>supdup</td>\n<td>Telnet 协议扩展</td>\n</tr>\n<tr>\n<td>101</td>\n<td>hostname</td>\n<td>SRI-NIC 机器上的主机名服务</td>\n</tr>\n<tr>\n<td>102</td>\n<td>iso-tsap</td>\n<td>ISO 开发环境（ISODE）网络应用</td>\n</tr>\n<tr>\n<td>105</td>\n<td>csnet-ns</td>\n<td>邮箱名称服务器；也被 CSO 名称服务器使用</td>\n</tr>\n<tr>\n<td>107</td>\n<td>rtelnet</td>\n<td>远程 Telnet</td>\n</tr>\n<tr>\n<td>109</td>\n<td>pop2</td>\n<td>邮局协议版本2</td>\n</tr>\n<tr>\n<td>110</td>\n<td>pop3</td>\n<td>邮局协议版本3</td>\n</tr>\n<tr>\n<td>111</td>\n<td>sunrpc</td>\n<td>用于远程命令执行的远程过程调用（RPC）协议，被网络文件系统（NFS）使用</td>\n</tr>\n<tr>\n<td>113</td>\n<td>auth</td>\n<td>验证和身份识别协议</td>\n</tr>\n<tr>\n<td>115</td>\n<td>sftp</td>\n<td>安全文件传输协议（SFTP）服务</td>\n</tr>\n<tr>\n<td>117</td>\n<td>uucp-path</td>\n<td>Unix 到 Unix 复制协议（UUCP）路径服务</td>\n</tr>\n<tr>\n<td>119</td>\n<td>nntp</td>\n<td>用于 USENET 讨论系统的网络新闻传输协议（NNTP）</td>\n</tr>\n<tr>\n<td>123</td>\n<td>ntp</td>\n<td>网络时间协议（NTP）</td>\n</tr>\n<tr>\n<td>137</td>\n<td>netbios-ns</td>\n<td>在红帽企业 Linux 中被 Samba 使用的 NETBIOS 名称服务</td>\n</tr>\n<tr>\n<td>138</td>\n<td>netbios-dgm</td>\n<td>在红帽企业 Linux 中被 Samba 使用的 NETBIOS 数据报服务</td>\n</tr>\n<tr>\n<td>139</td>\n<td>netbios-ssn</td>\n<td>在红帽企业 Linux 中被 Samba 使用的NET BIOS 会话服务</td>\n</tr>\n<tr>\n<td>143</td>\n<td>imap</td>\n<td>互联网消息存取协议（IMAP）</td>\n</tr>\n<tr>\n<td>161</td>\n<td>snmp</td>\n<td>简单网络管理协议（SNMP）</td>\n</tr>\n<tr>\n<td>162</td>\n<td>snmptrap</td>\n<td>SNMP 的陷阱</td>\n</tr>\n<tr>\n<td>163</td>\n<td>cmip-man</td>\n<td>通用管理信息协议（CMIP）</td>\n</tr>\n<tr>\n<td>164</td>\n<td>cmip-agent</td>\n<td>通用管理信息协议（CMIP）</td>\n</tr>\n<tr>\n<td>174</td>\n<td>mailq</td>\n<td>MAILQ</td>\n</tr>\n<tr>\n<td>177</td>\n<td>xdmcp</td>\n<td>X 显示管理器控制协议</td>\n</tr>\n<tr>\n<td>178</td>\n<td>nextstep</td>\n<td>NeXTStep 窗口服务器</td>\n</tr>\n<tr>\n<td>179</td>\n<td>bgp</td>\n<td>边界网络协议</td>\n</tr>\n<tr>\n<td>191</td>\n<td>prospero</td>\n<td>Cliffod Neuman 的 Prospero 服务</td>\n</tr>\n<tr>\n<td>194</td>\n<td>irc</td>\n<td>互联网中继聊天（IRC）</td>\n</tr>\n<tr>\n<td>199</td>\n<td>smux</td>\n<td>SNMP UNIX 多路复用</td>\n</tr>\n<tr>\n<td>201</td>\n<td>at-rtmp</td>\n<td>AppleTalk 选路</td>\n</tr>\n<tr>\n<td>202</td>\n<td>at-nbp</td>\n<td>AppleTalk 名称绑定</td>\n</tr>\n<tr>\n<td>204</td>\n<td>at-echo</td>\n<td>AppleTalk echo 服务</td>\n</tr>\n<tr>\n<td>206</td>\n<td>at-zis</td>\n<td>AppleTalk 区块信息</td>\n</tr>\n<tr>\n<td>209</td>\n<td>qmtp</td>\n<td>快速邮件传输协议（QMTP）</td>\n</tr>\n<tr>\n<td>210</td>\n<td>z39.50</td>\n<td>NISO Z39.50 数据库</td>\n</tr>\n<tr>\n<td>213</td>\n<td>ipx</td>\n<td>互联网络分组交换协议（IPX），被 Novell Netware 环境常用的数据报协议</td>\n</tr>\n<tr>\n<td>220</td>\n<td>imap3</td>\n<td>互联网消息存取协议版本3</td>\n</tr>\n<tr>\n<td>245</td>\n<td>link</td>\n<td>LINK</td>\n</tr>\n<tr>\n<td>347</td>\n<td>fatserv</td>\n<td>Fatmen 服务器</td>\n</tr>\n<tr>\n<td>363</td>\n<td>rsvp_tunnel</td>\n<td>RSVP 隧道</td>\n</tr>\n<tr>\n<td>369</td>\n<td>rpc2portmap</td>\n<td>Coda 文件系统端口映射器</td>\n</tr>\n<tr>\n<td>370</td>\n<td>codaauth2</td>\n<td>Coda 文件系统验证服务</td>\n</tr>\n<tr>\n<td>372</td>\n<td>ulistproc</td>\n<td>UNIX Listserv</td>\n</tr>\n<tr>\n<td>389</td>\n<td>ldap</td>\n<td>轻型目录存取协议（LDAP）</td>\n</tr>\n<tr>\n<td>427</td>\n<td>svrloc</td>\n<td>服务位置协议（SLP）</td>\n</tr>\n<tr>\n<td>434</td>\n<td>mobileip-agent</td>\n<td>可移互联网协议（IP）代理</td>\n</tr>\n<tr>\n<td>435</td>\n<td>mobilip-mn</td>\n<td>可移互联网协议（IP）管理器</td>\n</tr>\n<tr>\n<td>443</td>\n<td>https</td>\n<td>安全超文本传输协议（HTTP）</td>\n</tr>\n<tr>\n<td>444</td>\n<td>snpp</td>\n<td>小型网络分页协议</td>\n</tr>\n<tr>\n<td>445</td>\n<td>microsoft-ds</td>\n<td>通过 TCP&#x2F;IP 的服务器消息块（SMB）</td>\n</tr>\n<tr>\n<td>464</td>\n<td>kpasswd</td>\n<td>Kerberos 口令和钥匙改换服务</td>\n</tr>\n<tr>\n<td>468</td>\n<td>photuris</td>\n<td>Photuris 会话钥匙管理协议</td>\n</tr>\n<tr>\n<td>487</td>\n<td>saft</td>\n<td>简单不对称文件传输（SAFT）协议</td>\n</tr>\n<tr>\n<td>488</td>\n<td>gss-http</td>\n<td>用于 HTTP 的通用安全服务（GSS）</td>\n</tr>\n<tr>\n<td>496</td>\n<td>pim-rp-disc</td>\n<td>用于协议独立的多址传播（PIM）服务的会合点发现（RP-DISC）</td>\n</tr>\n<tr>\n<td>500</td>\n<td>isakmp</td>\n<td>互联网安全关联和钥匙管理协议（ISAKMP）</td>\n</tr>\n<tr>\n<td>535</td>\n<td>iiop</td>\n<td>互联网内部对象请求代理协议（IIOP）</td>\n</tr>\n<tr>\n<td>538</td>\n<td>gdomap</td>\n<td>GNUstep 分布式对象映射器（GDOMAP）</td>\n</tr>\n<tr>\n<td>546</td>\n<td>dhcpv6-client</td>\n<td>动态主机配置协议（DHCP）版本6客户</td>\n</tr>\n<tr>\n<td>547</td>\n<td>dhcpv6-server</td>\n<td>动态主机配置协议（DHCP）版本6服务</td>\n</tr>\n<tr>\n<td>554</td>\n<td>rtsp</td>\n<td>实时流播协议（RTSP）</td>\n</tr>\n<tr>\n<td>563</td>\n<td>nntps</td>\n<td>通过安全套接字层的网络新闻传输协议（NNTPS）</td>\n</tr>\n<tr>\n<td>565</td>\n<td>whoami</td>\n<td>whoami</td>\n</tr>\n<tr>\n<td>587</td>\n<td>submission</td>\n<td>邮件消息提交代理（MSA）</td>\n</tr>\n<tr>\n<td>610</td>\n<td>npmp-local</td>\n<td>网络外设管理协议（NPMP）本地 &#x2F; 分布式排队系统（DQS）</td>\n</tr>\n<tr>\n<td>611</td>\n<td>npmp-gui</td>\n<td>网络外设管理协议（NPMP）GUI &#x2F; 分布式排队系统（DQS）</td>\n</tr>\n<tr>\n<td>612</td>\n<td>hmmp-ind</td>\n<td>HMMP 指示 &#x2F; DQS</td>\n</tr>\n<tr>\n<td>631</td>\n<td>ipp</td>\n<td>互联网打印协议（IPP）</td>\n</tr>\n<tr>\n<td>636</td>\n<td>ldaps</td>\n<td>通过安全套接字层的轻型目录访问协议（LDAPS）</td>\n</tr>\n<tr>\n<td>674</td>\n<td>acap</td>\n<td>应用程序配置存取协议（ACAP）</td>\n</tr>\n<tr>\n<td>694</td>\n<td>ha-cluster</td>\n<td>用于带有高可用性的群集的心跳服务</td>\n</tr>\n<tr>\n<td>749</td>\n<td>kerberos-adm</td>\n<td>Kerberos 版本5（v5）的“kadmin”数据库管理</td>\n</tr>\n<tr>\n<td>750</td>\n<td>kerberos-iv</td>\n<td>Kerberos 版本4（v4）服务</td>\n</tr>\n<tr>\n<td>765</td>\n<td>webster</td>\n<td>网络词典</td>\n</tr>\n<tr>\n<td>767</td>\n<td>phonebook</td>\n<td>网络电话簿</td>\n</tr>\n<tr>\n<td>873</td>\n<td>rsync</td>\n<td>rsync 文件传输服务</td>\n</tr>\n<tr>\n<td>992</td>\n<td>telnets</td>\n<td>通过安全套接字层的 Telnet（TelnetS）</td>\n</tr>\n<tr>\n<td>993</td>\n<td>imaps</td>\n<td>通过安全套接字层的互联网消息存取协议（IMAPS）</td>\n</tr>\n<tr>\n<td>994</td>\n<td>ircs</td>\n<td>通过安全套接字层的互联网中继聊天（IRCS）</td>\n</tr>\n<tr>\n<td>995</td>\n<td>pop3s</td>\n<td>通过安全套接字层的邮局协议版本3（POPS3）</td>\n</tr>\n</tbody></table>\n<h2 id=\"UNIX-特有的端口\"><a href=\"#UNIX-特有的端口\" class=\"headerlink\" title=\"UNIX 特有的端口\"></a>UNIX 特有的端口</h2><p>以下端口是 UNIX 特有的，涉及了从电子邮件到验证不等的服务。在方括号内的名称（如 [service]）是服务的守护进程名称或它的常用别名。</p>\n<table>\n<thead>\n<tr>\n<th>端口号码 &#x2F; 层</th>\n<th>名称</th>\n<th>注释</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>512&#x2F;tcp</td>\n<td>exec</td>\n<td>用于对远程执行的进程进行验证</td>\n</tr>\n<tr>\n<td>512&#x2F;udp</td>\n<td>biff [comsat]</td>\n<td>异步邮件客户（biff）和服务（comsat）</td>\n</tr>\n<tr>\n<td>513&#x2F;tcp</td>\n<td>login</td>\n<td>远程登录（rlogin）</td>\n</tr>\n<tr>\n<td>513&#x2F;udp</td>\n<td>who [whod]</td>\n<td>登录的用户列表</td>\n</tr>\n<tr>\n<td>514&#x2F;tcp</td>\n<td>shell [cmd]</td>\n<td>不必登录的远程 shell（rshell）和远程复制（rcp）</td>\n</tr>\n<tr>\n<td>514&#x2F;udp</td>\n<td>syslog</td>\n<td>UNIX 系统日志服务</td>\n</tr>\n<tr>\n<td>515</td>\n<td>printer [spooler]</td>\n<td>打印机（lpr）假脱机</td>\n</tr>\n<tr>\n<td>517&#x2F;udp</td>\n<td>talk</td>\n<td>远程对话服务和客户</td>\n</tr>\n<tr>\n<td>518&#x2F;udp</td>\n<td>ntalk</td>\n<td>网络交谈（ntalk），远程对话服务和客户</td>\n</tr>\n<tr>\n<td>519</td>\n<td>utime [unixtime]</td>\n<td>UNIX 时间协议（utime）</td>\n</tr>\n<tr>\n<td>520&#x2F;tcp</td>\n<td>efs</td>\n<td>扩展文件名服务器（EFS）</td>\n</tr>\n<tr>\n<td>520&#x2F;udp</td>\n<td>router [route, routed]</td>\n<td>选路信息协议（RIP）</td>\n</tr>\n<tr>\n<td>521</td>\n<td>ripng</td>\n<td>用于互联网协议版本6（IPv6）的选路信息协议</td>\n</tr>\n<tr>\n<td>525</td>\n<td>timed [timeserver]</td>\n<td>时间守护进程（timed）</td>\n</tr>\n<tr>\n<td>526&#x2F;tcp</td>\n<td>tempo [newdate]</td>\n<td>Tempo</td>\n</tr>\n<tr>\n<td>530&#x2F;tcp</td>\n<td>courier [rpc]</td>\n<td>Courier 远程过程调用（RPC）协议</td>\n</tr>\n<tr>\n<td>531&#x2F;tcp</td>\n<td>conference [chat]</td>\n<td>互联网中继聊天</td>\n</tr>\n<tr>\n<td>532</td>\n<td>netnews</td>\n<td>Netnews</td>\n</tr>\n<tr>\n<td>533&#x2F;udp</td>\n<td>netwall</td>\n<td>用于紧急广播的 Netwall</td>\n</tr>\n<tr>\n<td>540&#x2F;tcp</td>\n<td>uucp [uucpd]</td>\n<td>Unix 到 Unix 复制服务</td>\n</tr>\n<tr>\n<td>543&#x2F;tcp</td>\n<td>klogin</td>\n<td>Kerberos 版本5（v5）远程登录</td>\n</tr>\n<tr>\n<td>544&#x2F;tcp</td>\n<td>kshell</td>\n<td>Kerberos 版本5（v5）远程 shell</td>\n</tr>\n<tr>\n<td>548</td>\n<td>afpovertcp</td>\n<td>通过传输控制协议（TCP）的 Appletalk 文件编制协议（AFP）</td>\n</tr>\n<tr>\n<td>556</td>\n<td>remotefs [rfs_server, rfs]</td>\n<td>Brunhoff 的远程文件系统（RFS）</td>\n</tr>\n</tbody></table>\n<h2 id=\"注册的端口\"><a href=\"#注册的端口\" class=\"headerlink\" title=\"注册的端口\"></a>注册的端口</h2><p>列举了由网络和软件社区向 IANA 提交的要在端口号码列表中正式注册的端口。</p>\n<table>\n<thead>\n<tr>\n<th>端口号码 &#x2F; 层</th>\n<th>名称</th>\n<th>注释</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>1080</td>\n<td>socks</td>\n<td>SOCKS 网络应用程序代理服务</td>\n</tr>\n<tr>\n<td>1236</td>\n<td>bvcontrol [rmtcfg]</td>\n<td>Garcilis Packeten 远程配置服务器</td>\n</tr>\n<tr>\n<td>1300</td>\n<td>h323hostcallsc</td>\n<td>H.323 电话会议主机电话安全</td>\n</tr>\n<tr>\n<td>1433</td>\n<td>ms-sql-s</td>\n<td>Microsoft SQL 服务器</td>\n</tr>\n<tr>\n<td>1434</td>\n<td>ms-sql-m</td>\n<td>Microsoft SQL 监视器</td>\n</tr>\n<tr>\n<td>1494</td>\n<td>ica</td>\n<td>Citrix ICA 客户</td>\n</tr>\n<tr>\n<td>1512</td>\n<td>wins</td>\n<td>Microsoft Windows 互联网名称服务器</td>\n</tr>\n<tr>\n<td>1524</td>\n<td>ingreslock</td>\n<td>Ingres 数据库管理系统（DBMS）锁定服务</td>\n</tr>\n<tr>\n<td>1525</td>\n<td>prospero-np</td>\n<td>无特权的 Prospero</td>\n</tr>\n<tr>\n<td>1645</td>\n<td>datametrics [old-radius]</td>\n<td>Datametrics &#x2F; 从前的 radius 项目</td>\n</tr>\n<tr>\n<td>1646</td>\n<td>sa-msg-port [oldradacct]</td>\n<td>sa-msg-port &#x2F; 从前的 radacct 项目</td>\n</tr>\n<tr>\n<td>1649</td>\n<td>kermit</td>\n<td>Kermit 文件传输和管理服务</td>\n</tr>\n<tr>\n<td>1701</td>\n<td>l2tp [l2f]</td>\n<td>第2层隧道服务（LT2P） &#x2F; 第2层转发（L2F）</td>\n</tr>\n<tr>\n<td>1718</td>\n<td>h323gatedisc</td>\n<td>H.323 电讯守门装置发现机制</td>\n</tr>\n<tr>\n<td>1719</td>\n<td>h323gatestat</td>\n<td>H.323 电讯守门装置状态</td>\n</tr>\n<tr>\n<td>1720</td>\n<td>h323hostcall</td>\n<td>H.323 电讯主持电话设置</td>\n</tr>\n<tr>\n<td>1758</td>\n<td>tftp-mcast</td>\n<td>小文件 FTP 组播</td>\n</tr>\n<tr>\n<td>1759</td>\n<td>mtftp</td>\n<td>组播小文件 FTP（MTFTP）</td>\n</tr>\n<tr>\n<td>1789</td>\n<td>hello</td>\n<td>Hello 路由器通信端口</td>\n</tr>\n<tr>\n<td>1812</td>\n<td>radius</td>\n<td>Radius 拨号验证和记帐服务</td>\n</tr>\n<tr>\n<td>1813</td>\n<td>radius-acct</td>\n<td>Radius 记帐</td>\n</tr>\n<tr>\n<td>1911</td>\n<td>mtp</td>\n<td>Starlight 网络多媒体传输协议（MTP）</td>\n</tr>\n<tr>\n<td>1985</td>\n<td>hsrp</td>\n<td>Cisco 热备用路由器协议</td>\n</tr>\n<tr>\n<td>1986</td>\n<td>licensedaemon</td>\n<td>Cisco 许可管理守护进程</td>\n</tr>\n<tr>\n<td>1997</td>\n<td>gdp-port</td>\n<td>Cisco 网关发现协议（GDP）</td>\n</tr>\n<tr>\n<td>2049</td>\n<td>nfs [nfsd]</td>\n<td>网络文件系统（NFS）</td>\n</tr>\n<tr>\n<td>2102</td>\n<td>zephyr-srv</td>\n<td>Zephyr 通知传输和发送服务器</td>\n</tr>\n<tr>\n<td>2103</td>\n<td>zephyr-clt</td>\n<td>Zephyr serv-hm 连接</td>\n</tr>\n<tr>\n<td>2104</td>\n<td>zephyr-hm</td>\n<td>Zephyr 主机管理器</td>\n</tr>\n<tr>\n<td>2401</td>\n<td>cvspserver</td>\n<td>并行版本系统（CVS）客户 &#x2F; 服务器操作</td>\n</tr>\n<tr>\n<td>2430&#x2F;tcp</td>\n<td>venus</td>\n<td>用于 Coda 文件系统（codacon 端口）的 Venus 缓存管理器</td>\n</tr>\n<tr>\n<td>2430&#x2F;udp</td>\n<td>venus</td>\n<td>用于 Coda 文件系统（callback&#x2F;wbc interface 界面）的 Venus 缓存管理器</td>\n</tr>\n<tr>\n<td>2431&#x2F;tcp</td>\n<td>venus-se</td>\n<td>Venus 传输控制协议（TCP）的副作用</td>\n</tr>\n<tr>\n<td>2431&#x2F;udp</td>\n<td>venus-se</td>\n<td>Venus 用户数据报协议（UDP）的副作用</td>\n</tr>\n<tr>\n<td>2432&#x2F;udp</td>\n<td>codasrv</td>\n<td>Coda 文件系统服务器端口</td>\n</tr>\n<tr>\n<td>2433&#x2F;tcp</td>\n<td>codasrv-se</td>\n<td>Coda 文件系统 TCP 副作用</td>\n</tr>\n<tr>\n<td>2433&#x2F;udp</td>\n<td>codasrv-se</td>\n<td>Coda 文件系统 UDP SFTP 副作用</td>\n</tr>\n<tr>\n<td>2600</td>\n<td>hpstgmgr [zebrasrv]</td>\n<td>HPSTGMGR；Zebra 选路</td>\n</tr>\n<tr>\n<td>2601</td>\n<td>discp-client [zebra]</td>\n<td>discp 客户；Zebra 集成的 shell</td>\n</tr>\n<tr>\n<td>2602</td>\n<td>discp-server [ripd]</td>\n<td>discp 服务器；选路信息协议守护进程（ripd）</td>\n</tr>\n<tr>\n<td>2603</td>\n<td>servicemeter [ripngd]</td>\n<td>服务计量；用于 IPv6 的 RIP 守护进程</td>\n</tr>\n<tr>\n<td>2604</td>\n<td>nsc-ccs [ospfd]</td>\n<td>NSC CCS；开放式短路径优先守护进程（ospfd）</td>\n</tr>\n<tr>\n<td>2605</td>\n<td>nsc-posa</td>\n<td>NSC POSA；边界网络协议守护进程（bgpd）</td>\n</tr>\n<tr>\n<td>2606</td>\n<td>netmon [ospf6d]</td>\n<td>Dell Netmon；用于 IPv6 的 OSPF 守护进程（ospf6d）</td>\n</tr>\n<tr>\n<td>2809</td>\n<td>corbaloc</td>\n<td>公共对象请求代理体系（CORBA）命名服务定位器</td>\n</tr>\n<tr>\n<td>3130</td>\n<td>icpv2</td>\n<td>互联网缓存协议版本2（v2）；被 Squid 代理缓存服务器使用</td>\n</tr>\n<tr>\n<td>3306</td>\n<td>mysql</td>\n<td>MySQL 数据库服务</td>\n</tr>\n<tr>\n<td>3346</td>\n<td>trnsprntproxy</td>\n<td>Trnsprnt 代理</td>\n</tr>\n<tr>\n<td>4011</td>\n<td>pxe</td>\n<td>执行前环境（PXE）服务</td>\n</tr>\n<tr>\n<td>4321</td>\n<td>rwhois</td>\n<td>远程 Whois（rwhois）服务</td>\n</tr>\n<tr>\n<td>4444</td>\n<td>krb524</td>\n<td>Kerberos 版本5（v5）到版本4（v4）门票转换器</td>\n</tr>\n<tr>\n<td>5002</td>\n<td>rfe</td>\n<td>无射频以太网（RFE）音频广播系统</td>\n</tr>\n<tr>\n<td>5308</td>\n<td>cfengine</td>\n<td>配置引擎（Cfengine）</td>\n</tr>\n<tr>\n<td>5999</td>\n<td>cvsup [CVSup]</td>\n<td>CVSup 文件传输和更新工具</td>\n</tr>\n<tr>\n<td>6000</td>\n<td>x11 [X]</td>\n<td>X 窗口系统服务</td>\n</tr>\n<tr>\n<td>7000</td>\n<td>afs3-fileserver</td>\n<td>Andrew 文件系统（AFS）文件服务器</td>\n</tr>\n<tr>\n<td>7001</td>\n<td>afs3-callback</td>\n<td>用于给缓存管理器回电的 AFS 端口</td>\n</tr>\n<tr>\n<td>7002</td>\n<td>afs3-prserver</td>\n<td>AFS 用户和组群数据库</td>\n</tr>\n<tr>\n<td>7003</td>\n<td>afs3-vlserver</td>\n<td>AFS 文件卷位置数据库</td>\n</tr>\n<tr>\n<td>7004</td>\n<td>afs3-kaserver</td>\n<td>AFS Kerberos 验证服务</td>\n</tr>\n<tr>\n<td>7005</td>\n<td>afs3-volser</td>\n<td>AFS 文件卷管理服务器</td>\n</tr>\n<tr>\n<td>7006</td>\n<td>afs3-errors</td>\n<td>AFS 错误解释服务</td>\n</tr>\n<tr>\n<td>7007</td>\n<td>afs3-bos</td>\n<td>AFS 基本监查进程</td>\n</tr>\n<tr>\n<td>7008</td>\n<td>afs3-update</td>\n<td>AFS 服务器到服务器更新器</td>\n</tr>\n<tr>\n<td>7009</td>\n<td>afs3-rmtsys</td>\n<td>AFS 远程缓存管理器服务</td>\n</tr>\n<tr>\n<td>9876</td>\n<td>sd</td>\n<td>会话指引器</td>\n</tr>\n<tr>\n<td>10080</td>\n<td>amanda</td>\n<td>高级 Maryland 自动网络磁盘归档器（Amanda）备份服务</td>\n</tr>\n<tr>\n<td>11371</td>\n<td>pgpkeyserver</td>\n<td>良好隐私（PGP） &#x2F; GNU 隐私卫士（GPG）公钥服务器</td>\n</tr>\n<tr>\n<td>11720</td>\n<td>h323callsigalt</td>\n<td>H.323 调用信号交替</td>\n</tr>\n<tr>\n<td>13720</td>\n<td>bprd</td>\n<td>Veritas NetBackup 请求守护进程（bprd）</td>\n</tr>\n<tr>\n<td>13721</td>\n<td>bpdbm</td>\n<td>Veritas NetBackup 数据库管理器（bpdbm）</td>\n</tr>\n<tr>\n<td>13722</td>\n<td>bpjava-msvc</td>\n<td>Veritas NetBackup Java &#x2F; Microsoft Visual C++ (MSVC) 协议</td>\n</tr>\n<tr>\n<td>13724</td>\n<td>vnetd</td>\n<td>Veritas 网络工具</td>\n</tr>\n<tr>\n<td>13782</td>\n<td>bpcd</td>\n<td>Vertias NetBackup</td>\n</tr>\n<tr>\n<td>13783</td>\n<td>vopied</td>\n<td>Veritas VOPIED 协议</td>\n</tr>\n<tr>\n<td>22273</td>\n<td>wnn6 [wnn4]</td>\n<td>假名&#x2F;汉字转换系统</td>\n</tr>\n<tr>\n<td>26000</td>\n<td>quake</td>\n<td>Quake（以及相关的）多人游戏服务器</td>\n</tr>\n<tr>\n<td>26208</td>\n<td>wnn6-ds</td>\n<td></td>\n</tr>\n<tr>\n<td>33434</td>\n<td>traceroute</td>\n<td>Traceroute 网络跟踪工具</td>\n</tr>\n<tr>\n<td>注: &#x2F;etc&#x2F;services中的注释如下：端口1236被注册为“bvcontrol”，但是它也被 Gracilis Packeten 远程配置服务器使用。正式名称被列为主要名称，未注册的名称被列为别名。 在&#x2F;etc&#x2F;services中的注释：端口 2600 到 2606 被 zebra 软件包未经注册而使用。主要名称是被注册的名称，被 zebra 使用的未注册名称被列为别名。 &#x2F;etc&#x2F;services 文件中的注释：该端口被注册为 wnn6，但是还在 FreeWnn 软件包中使用了未注册的“wnn4”。</td>\n<td></td>\n<td></td>\n</tr>\n</tbody></table>\n<h2 id=\"数据报传递协议端口\"><a href=\"#数据报传递协议端口\" class=\"headerlink\" title=\"数据报传递协议端口\"></a>数据报传递协议端口</h2><p>显示了一个和数据报传递协议（DDP）有关的端口列表。DDP 在 AppleTalk 网络上被使用。</p>\n<table>\n<thead>\n<tr>\n<th>端口号码 &#x2F; 层</th>\n<th>名称</th>\n<th>注释</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>1&#x2F;ddp</td>\n<td>rtmp</td>\n<td>路由表管理协议</td>\n</tr>\n<tr>\n<td>2&#x2F;ddp</td>\n<td>nbp</td>\n<td>名称绑定协议</td>\n</tr>\n<tr>\n<td>4&#x2F;ddp</td>\n<td>echo</td>\n<td>AppleTalk Echo 协议</td>\n</tr>\n<tr>\n<td>6&#x2F;ddp</td>\n<td>zip</td>\n<td>区块信息协议</td>\n</tr>\n</tbody></table>\n<h2 id=\"Kerberos（工程-Athena-MIT）端口\"><a href=\"#Kerberos（工程-Athena-MIT）端口\" class=\"headerlink\" title=\"Kerberos（工程 Athena&#x2F;MIT）端口\"></a>Kerberos（工程 Athena&#x2F;MIT）端口</h2><p>和 Kerberos 网络验证协议相关的端口列表。在标记的地方，v5 代表 Kerberos 版本5协议。注意，这些端口没有在 IANA 注册。</p>\n<table>\n<thead>\n<tr>\n<th>端口号码 &#x2F; 层</th>\n<th>名称</th>\n<th>注释</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>751</td>\n<td>kerberos_master</td>\n<td>Kerberos 验证</td>\n</tr>\n<tr>\n<td>752</td>\n<td>passwd_server</td>\n<td>Kerberos 口令（kpasswd）服务器</td>\n</tr>\n<tr>\n<td>754</td>\n<td>krb5_prop</td>\n<td>Kerberos v5 从属传播</td>\n</tr>\n<tr>\n<td>760</td>\n<td>krbupdate [kreg]</td>\n<td>Kerberos 注册</td>\n</tr>\n<tr>\n<td>1109</td>\n<td>kpop</td>\n<td>Kerberos 邮局协议（KPOP）</td>\n</tr>\n<tr>\n<td>2053</td>\n<td>knetd</td>\n<td>Kerberos 多路分用器</td>\n</tr>\n<tr>\n<td>2105</td>\n<td>eklogin</td>\n<td>Kerberos v5 加密的远程登录（rlogin）</td>\n</tr>\n</tbody></table>\n<h2 id=\"未注册的端口\"><a href=\"#未注册的端口\" class=\"headerlink\" title=\"未注册的端口\"></a>未注册的端口</h2><p>一个未注册的端口列表。这些端口可能被安装在你的红帽企业 Linux 系统上的服务或协议使用，或者它们是在红帽企业 Linux 和运行其它操作系统的机器通信所必需的端口。</p>\n<table>\n<thead>\n<tr>\n<th>端口号码 &#x2F; 层</th>\n<th>名称</th>\n<th>注释</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>15&#x2F;tcp</td>\n<td>netstat</td>\n<td>网络状态（netstat）</td>\n</tr>\n<tr>\n<td>98&#x2F;tcp</td>\n<td>linuxconf</td>\n<td>Linuxconf Linux 管理工具</td>\n</tr>\n<tr>\n<td>106</td>\n<td>poppassd</td>\n<td>邮局协议口令改变守护进程（POPPASSD）</td>\n</tr>\n<tr>\n<td>465&#x2F;tcp</td>\n<td>smtps</td>\n<td>通过安全套接字层的简单邮件传输协议（SMTPS）</td>\n</tr>\n<tr>\n<td>616&#x2F;tcp</td>\n<td>gii</td>\n<td>使用网关的（选路守护进程）互动界面</td>\n</tr>\n<tr>\n<td>808</td>\n<td>omirr [omirrd]</td>\n<td>联机镜像（Omirr）文件镜像服务</td>\n</tr>\n<tr>\n<td>871&#x2F;tcp</td>\n<td>supfileserv</td>\n<td>软件升级协议（SUP）服务器</td>\n</tr>\n<tr>\n<td>901&#x2F;tcp</td>\n<td>swat</td>\n<td>Samba 万维网管理工具（SWAT）</td>\n</tr>\n<tr>\n<td>953</td>\n<td>rndc</td>\n<td>Berkeley 互联网名称域版本9（BIND 9）远程名称守护进程配置工具</td>\n</tr>\n<tr>\n<td>1127</td>\n<td>sufiledbg</td>\n<td>软件升级协议（SUP）调试</td>\n</tr>\n<tr>\n<td>1178&#x2F;tcp</td>\n<td>skkserv</td>\n<td>简单假名到汉字（SKK）日文输入服务器</td>\n</tr>\n<tr>\n<td>1313&#x2F;tcp</td>\n<td>xtel</td>\n<td>法国 Minitel 文本信息系统</td>\n</tr>\n<tr>\n<td>1529&#x2F;tcp</td>\n<td>support [prmsd, gnatsd]</td>\n<td>GNATS 错误跟踪系统</td>\n</tr>\n<tr>\n<td>2003&#x2F;tcp</td>\n<td>cfinger</td>\n<td>GNU Finger 服务</td>\n</tr>\n<tr>\n<td>2150</td>\n<td>ninstall</td>\n<td>网络安装服务</td>\n</tr>\n<tr>\n<td>2988</td>\n<td>afbackup</td>\n<td>afbackup 客户-服务器备份系统</td>\n</tr>\n<tr>\n<td>3128&#x2F;tcp</td>\n<td>squid</td>\n<td>Squid 万维网代理缓存</td>\n</tr>\n<tr>\n<td>3455</td>\n<td>prsvp</td>\n<td>RSVP 端口</td>\n</tr>\n<tr>\n<td>5432</td>\n<td>postgres</td>\n<td>PostgreSQL 数据库</td>\n</tr>\n<tr>\n<td>4557&#x2F;tcp</td>\n<td>fax</td>\n<td>FAX 传输服务（旧服务）</td>\n</tr>\n<tr>\n<td>4559&#x2F;tcp</td>\n<td>hylafax</td>\n<td>HylaFAX 客户-服务器协议（新服务）</td>\n</tr>\n<tr>\n<td>5232</td>\n<td>sgi-dgl</td>\n<td>SGI 分布式图形库</td>\n</tr>\n<tr>\n<td>5354</td>\n<td>noclog</td>\n<td>NOCOL 网络操作中心记录守护进程（noclogd）</td>\n</tr>\n<tr>\n<td>5355</td>\n<td>hostmon</td>\n<td>NOCOL 网络操作中心主机监视</td>\n</tr>\n<tr>\n<td>5680&#x2F;tcp</td>\n<td>canna</td>\n<td>Canna 日文字符输入界面</td>\n</tr>\n<tr>\n<td>6010&#x2F;tcp</td>\n<td>x11-ssh-offset</td>\n<td>安全 Shell（SSH）X11 转发偏移</td>\n</tr>\n<tr>\n<td>6667</td>\n<td>ircd</td>\n<td>互联网中继聊天守护进程（ircd）</td>\n</tr>\n<tr>\n<td>7100&#x2F;tcp</td>\n<td>xfs</td>\n<td>X 字体服务器（XFS）</td>\n</tr>\n<tr>\n<td>7666&#x2F;tcp</td>\n<td>tircproxy</td>\n<td>Tircproxy IRC 代理服务</td>\n</tr>\n<tr>\n<td>8008</td>\n<td>http-alt</td>\n<td>超文本传输协议（HTTP）的另一选择</td>\n</tr>\n<tr>\n<td>8080</td>\n<td>webcache</td>\n<td>万维网（WWW）缓存服务</td>\n</tr>\n<tr>\n<td>8081</td>\n<td>tproxy</td>\n<td>透明代理</td>\n</tr>\n<tr>\n<td>9100&#x2F;tcp</td>\n<td>jetdirect [laserjet, hplj]</td>\n<td>Hewlett-Packard (HP) JetDirect 网络打印服务</td>\n</tr>\n<tr>\n<td>9359</td>\n<td>mandelspawn [mandelbrot]</td>\n<td>用于 X 窗口系统的并行 Mandelbrot 生成程序</td>\n</tr>\n<tr>\n<td>10081</td>\n<td>kamanda</td>\n<td>使用 Kerberos 的 Amanda 备份服务</td>\n</tr>\n<tr>\n<td>10082&#x2F;tcp</td>\n<td>amandaidx</td>\n<td>Amanda 备份服务</td>\n</tr>\n<tr>\n<td>10083&#x2F;tcp</td>\n<td>amidxtape</td>\n<td>Amanda 备份服务</td>\n</tr>\n<tr>\n<td>20011</td>\n<td>isdnlog</td>\n<td>综合业务数字网（ISDN）登录系统</td>\n</tr>\n<tr>\n<td>20012</td>\n<td>vboxd</td>\n<td>ISDN 音箱守护进程（vboxd）</td>\n</tr>\n<tr>\n<td>22305&#x2F;tcp</td>\n<td>wnn4_Kr</td>\n<td>kWnn 韩文输入系统</td>\n</tr>\n<tr>\n<td>22289&#x2F;tcp</td>\n<td>wnn4_Cn</td>\n<td>cWnn 中文输入系统</td>\n</tr>\n<tr>\n<td>22321&#x2F;tcp</td>\n<td>wnn4_Tw</td>\n<td>tWnn 中文输入系统（台湾）</td>\n</tr>\n<tr>\n<td>24554</td>\n<td>binkp</td>\n<td>Binkley TCP&#x2F;IP Fidonet 邮寄程序守护进程</td>\n</tr>\n<tr>\n<td>27374</td>\n<td>asp</td>\n<td>地址搜索协议</td>\n</tr>\n<tr>\n<td>60177</td>\n<td>tfido</td>\n<td>Ifmail FidoNet 兼容邮寄服务</td>\n</tr>\n<tr>\n<td>60179</td>\n<td>fido</td>\n<td>FidoNet 电子邮件和新闻网络</td>\n</tr>\n</tbody></table>\n<p>原文链接：</p>\n<p><a href=\"https://developer.aliyun.com/article/850146\">https://developer.aliyun.com/article/850146</a></p>\n<p><a href=\"https://cloud.tencent.com/developer/article/1702021\">https://cloud.tencent.com/developer/article/1702021</a></p>\n<p><a href=\"https://blog.csdn.net/Geroge_Ming/article/details/109711897\">https://blog.csdn.net/Geroge_Ming/article/details/109711897</a></p>\n",
            "tags": [
                "转载",
                "基础"
            ]
        },
        {
            "id": "https://w-sqrt7.github.io/2024/03/01/mihao-note/%E7%B1%B3%E5%A5%BD%E4%BF%A1%E5%AE%89-%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/",
            "url": "https://w-sqrt7.github.io/2024/03/01/mihao-note/%E7%B1%B3%E5%A5%BD%E4%BF%A1%E5%AE%89-%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/",
            "title": "米好信安课程笔记-信息收集",
            "date_published": "2024-03-01T09:14:36.657Z",
            "content_html": "<h1 id=\"米好信息安全课程笔记\"><a href=\"#米好信息安全课程笔记\" class=\"headerlink\" title=\"米好信息安全课程笔记\"></a>米好信息安全课程笔记</h1><h1 id=\"基础课程-信息收集\"><a href=\"#基础课程-信息收集\" class=\"headerlink\" title=\"基础课程-信息收集\"></a>基础课程-信息收集</h1><h2 id=\"课时一-WHOIS查询\"><a href=\"#课时一-WHOIS查询\" class=\"headerlink\" title=\"课时一 WHOIS查询\"></a>课时一 WHOIS查询</h2><p>查询域名的各种信息，如注册商，联系人，联系邮箱，创建时间，过期时间等。。。</p>\n<p>1.网站</p>\n<p>可直接网站上进行查询，如站长之家，whois.chinaz.com等，可自行搜索</p>\n<p>2.whois命令行</p>\n<p>下载链接：<a href=\"https://docs.microsoft.com/en-us/sysinternals/downloads/whois\">https://docs.microsoft.com/en-us/sysinternals/downloads/whois</a></p>\n<p>下载解压后，把whois.exe并复制到C:\\Windows\\System32目录下即可</p>\n<p>基本使用方法是：whois+域名，更多方法可参考help帮助命令</p>\n<p>Centos下安装命令如下：yum install -y whois</p>\n<p>WHOIS命令语法：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">whois: [-4|-6] [-h host|--host=host] [-p port|--port=port] -k|query</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><code>[-4|-6]</code>: 这两个选项指定使用哪种 IP 版本进行查询。<code>-4</code> 表示使用 IPv4，而 <code>-6</code> 表示使用 IPv6。</li>\n<li><code>[-h host|--host=host]</code>: 这个选项允许您指定用于查询的 WHOIS 服务器。通常，<code>whois</code> 命令会自动选择一个合适的服务器，但如果您知道特定的服务器更可靠或更合适，您可以使用此选项来指定。</li>\n<li><code>[-p port|--port=port]</code>: 这个选项允许您指定用于连接到 WHOIS 服务器的端口。默认情况下，<code>whois</code> 使用标准的 WHOIS 端口。</li>\n<li><code>-k|query</code>: 这个选项表示要查询的域名或 IP 地址。在 <code>-k</code> 之后，您应该直接跟上您想要查询的域名或 IP 地址。如果您选择使用 <code>query</code> 选项，那么您应该在 <code>query</code> 之后指定要查询的内容。</li>\n</ul>\n<p>一个典型的 <code>whois</code> 查询命令可能如下所示：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">whois -h whois.example.com example.com</span><br></pre></td></tr></table></figure>\n\n<p>在这个例子中，我们指定了使用 <code>whois.example.com</code> 作为查询的 WHOIS 服务器，并查询了 <code>example.com</code> 域名的注册信息。</p>\n<p>3.利用whois查询IP信息</p>\n<p><a href=\"https://ip.rst.im/whois%E6%A3%80%E7%B4%A2IP%E5%9C%B0%E5%9D%80%E6%89%80%E5%B1%9E%E7%9A%84%E7%BD%91%E6%AE%B5%EF%BC%8CAS%E5%8F%B7%EF%BC%8C%E6%B3%A8%E5%86%8C%E6%97%B6%E9%97%B4\">https://ip.rst.im/whois检索IP地址所属的网段，AS号，注册时间</a></p>\n<p><a href=\"https://www.viewdns.info查询同一名下的其他网站信息/\">https://www.viewdns.info查询同一名下的其他网站信息</a></p>\n<h2 id=\"课时二-Google-Hacking\"><a href=\"#课时二-Google-Hacking\" class=\"headerlink\" title=\"课时二 Google Hacking\"></a>课时二 Google Hacking</h2><p>1.GoogleHacking是一种利用搜索引擎获取web应用程序弱点和敏感信息的手段<br>2.GoogleHacking是一种以合法的方式获取非法或未授权信息的手段。<br>3.Google Hacking是所有利用搜索引擎进行攻击的一个典型。</p>\n<p><code>操作符</code></p>\n<ol>\n<li>+\t把Google可能忽略的字列入查询范围</li>\n<li>-     把某个字忽略</li>\n<li>~    同意词</li>\n<li>*    通配符</li>\n<li>“”   精确查找</li>\n<li>OR  或</li>\n</ol>\n<p><code>关键词搜索</code></p>\n<ol>\n<li><p>site          搜索一个特定站点的详细内容</p>\n</li>\n<li><p>intitle      索网页标题中的某个特定字符串</p>\n</li>\n<li><p>inurl        搜索网页URL地址中的某个特定字符</p>\n</li>\n<li><p>filetype   搜索指定类型的文件</p>\n</li>\n<li><p>link          索和某个站点做了链接的所有URL</p>\n</li>\n<li><p>intext      搜索网页面正文内容中的某个特定字符串</p>\n</li>\n<li><p>info         搜索指定站点的一些基本信息</p>\n</li>\n<li><p>all            所有关键字前都加上all可以得到更加精确详细的信息</p>\n</li>\n</ol>\n<p><code>示例</code></p>\n<p>找出开放远程桌面Web连接的服务器<br>1.远程桌面Web-远程桌面的 Web版本<br>2.可通过口令破解攻破设置了弱口令的服务器</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">allinurl:tsweb/deault.htm site:com</span><br></pre></td></tr></table></figure>\n\n\n\n<p>尝试找出学生身份证号和QQ号信息</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">filetype:xls 身份证号 site:edu.cn</span><br><span class=\"line\">filetype:xls QQ号 site:edu.cn</span><br></pre></td></tr></table></figure>\n\n\n\n<p>查找可以未经授权就可以访问的phpMyAdmin的后台页面</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">inurl:.php? intext:CHARACTER_SETS,COLLATIONS,?intitle:phpmyadmin</span><br></pre></td></tr></table></figure>\n\n\n\n<p>查找管理员登录页面</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">inurl:/phpmyadmin/index.php</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"课时三-Shodan搜索引擎的介绍与使用\"><a href=\"#课时三-Shodan搜索引擎的介绍与使用\" class=\"headerlink\" title=\"课时三 Shodan搜索引擎的介绍与使用\"></a>课时三 Shodan搜索引擎的介绍与使用</h2><p>Shodan是一个搜索引擎，是用来搜索网络空间中在线设备的，可以通过Shodan搜索指定的设备、或者搜索特定类型的设备。<br>Shodan上最受欢迎的搜索内容是：webcam，linksys，cisconetgear，SCADA等等。</p>\n<p>Shodan能找到的设备<br>服务器\t网络摄像头\t路由器\t加油站的泵\t交换机 \tVoip电话和所有数据采集监控系统\t公共ip的打印机</p>\n<p>Shodan与Google的区别</p>\n<ol>\n<li>Google的爬虫抓取网页数据并为网页内容创建索引，然后根据pagerank显示结果</li>\n<li>Shodan主要寻找端口并抓取拦截到的信息，然后为它们建立素引，最后显示结果。</li>\n<li>Shodan并不像google那样为网页内容建立素引，因此它是一个基于拦截器的搜索引擎</li>\n</ol>\n<p><code>搜索语法</code></p>\n<ol>\n<li>hostname：搜索主机或域名，例如hostname:”google”</li>\n<li>port：搜索指定的端口或服务，例如port:”21”</li>\n<li>country：搜索指定的国家，例如country:”CN</li>\n<li>city：搜索指定的城市，例如city:”Hefei”</li>\n<li>org：搜索指定的组织或公司，例如org:”google”</li>\n<li>isp：搜索指定的ISP供应商，例如iisp:”China Telecom”</li>\n<li>product：搜索指定的操作系统&#x2F;软件&#x2F;平台，例product:”Apache httpd”</li>\n<li>version：搜索指定的软件版本，例如version:”1.6.2”</li>\n<li>geo：搜索指定的地理位置，例如geo:”31.8639,117.2808”</li>\n<li>net：搜索指定的IP地址或子网，例如net:”210.45.240.0&#x2F;24”</li>\n<li>before&#x2F;after：搜索指定收录时间前后的数据，格式为dd-mm-yy，例如before:”11-11-15”</li>\n</ol>\n<p><code>示例</code></p>\n<p>查找位于合肥的Apache服务器：apache city:”Hefei”</p>\n<p>查找指定网段的华为设备：huawei net:”61.191.146.0&#x2F;24”</p>\n<p>shodan搜索框里输入指定的日标，可以是IP地址或者域名</p>\n<h2 id=\"课时四-ZoomEye搜索引擎的介绍与使用\"><a href=\"#课时四-ZoomEye搜索引擎的介绍与使用\" class=\"headerlink\" title=\"课时四 ZoomEye搜索引擎的介绍与使用\"></a>课时四 ZoomEye搜索引擎的介绍与使用</h2><p>ZoomEye，它是一个搜索引擎，搜索对象是网络空间中的 WEB服务组件” 和 网络设备，为白帽子黑客和极客服务的，兼顾宏观和微观，支持公网设备指纹检和Web指纹检索</p>\n<p>可识别的网络设备：交换机，路由器，摄像头，手机，平板电脑，工控设备……</p>\n<p><code>ZoomEye的搜索语法</code><br>1.搜应用&#x2F;版本，比如php:5.3.*</p>\n<p>2.搜国家&#x2F;城市，比如php:5.3.17city:beijing 或 php:5.3.17country:CN</p>\n<p>3.搜网站标题，比如title:Nginx</p>\n<p>4.搜网站域名，如site:*.baidu.com</p>\n<p>5.特殊词语，如hackedby</p>\n<p>6.搜网络设备，如GoAhead-Webs</p>\n<p><code>示例</code></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Dedecms Country:CN</span><br><span class=\"line\">app:&quot;wordpress&quot;</span><br><span class=\"line\">port:22</span><br><span class=\"line\">os:linux</span><br><span class=\"line\">ip:8.8.8.8</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"课时五-在线社工库密码收集\"><a href=\"#课时五-在线社工库密码收集\" class=\"headerlink\" title=\"课时五 在线社工库密码收集\"></a>课时五 在线社工库密码收集</h2><p>拖库</p>\n<p>指的是骇客入侵有价值的网站，把注册用户的资料数据库全部盗走的行为，因为谐音，所以也常被称作“脱裤”</p>\n<p>洗库</p>\n<p>在取得大量的用户数据之后，骇客会通过一系列的技术手段和黑色产业链，将有价值的用户数据变成现金以达到非法获利的目的。这一过程被称为 “洗库”</p>\n<p>撞库</p>\n<p>骇客首先通过收集互联网已泄露的用户+密码信息，生成对应的字典表然后用字典中罗列的用户和密码，尝试批量登陆其他网站，这样，一旦用户为了省事，在多个网站设置了同样的用户名和密码的话，骇客很容易就会通过字典中已有的信息登录到这些网站，从而相关信息</p>\n<p>！！！目前，大部分的社工库都被ban掉的，很难找到资源，但可以尝试在GitHub，Google上查找搜索可用的社工库，但注意，价格可不便宜啊！！！</p>\n<h2 id=\"课时六-DNS查询\"><a href=\"#课时六-DNS查询\" class=\"headerlink\" title=\"课时六 DNS查询\"></a>课时六 DNS查询</h2><p> DNS（DomainNameSystem，域名管理系统）是因特网的重要基础。它建立在一个分布式数据库基础之上，在这个数据库里，保存了IP地址和域名的相互映射关系</p>\n<p><code>常用的DNS记录</code></p>\n<p>A                   ip地址记录，记录域名对应的ip地址</p>\n<p>AAAA            ipv6地址记录，记录域名对应的ipv6地址</p>\n<p>CNAME         别名记录，记录一个主机的别名</p>\n<p>MX                 邮件交换记录，记录一个邮件域名对应的ip地址</p>\n<p>NS                  域名服务器记录，记录该域名由哪台域名服务器解析</p>\n<p>PTR                反向记录，即从ip地址到域名的一条记录</p>\n<p>TXT                记录域名的相关文本信息</p>\n<p><code>DNS域传送漏洞</code></p>\n<ol>\n<li>DNS服务器分为：主服务器、备份服务器和缓存服务器，在主备服务器之间同步数据库，需要使用 DNS域传送</li>\n<li>域传送是指后备服务器从主服务器贝数据，并用得到的数据更新目身数据库</li>\n<li>若DNS服务器配置不当，可能导致名用户获取某个域的所有记录。造成整个网络的拓扑结构泄露给潜在的攻击者，包括一些安全性较低的内部主机，如测试服务器。凭借这份网络蓝图，攻击者可以节省很少的扫描时间。</li>\n</ol>\n<p><code>DNS查询</code><br><code>nslookup命令</code></p>\n<ol>\n<li>输入nslookup命令进入交互式shell</li>\n<li>server  命令参数设定查询要使用的DNS服务器</li>\n<li>ls DOMAIN   出某个域中的所有域名，如”ls -d hzmc.edu.cn”</li>\n<li>exit  退出程序</li>\n</ol>\n<p><code>dig命令</code></p>\n<p>在Linux中可以使用dig测试DNS服务器是否存在域传送泄露<br>Dig是一个非常强大的DNS查询工具，输入”dig -h”命令即可查看帮助命令。</p>\n<p>dig命令检测DNS域传送漏洞：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dig @dns.hzmc.edu.cn axfr hzmc.edu.cn</span><br></pre></td></tr></table></figure>\n\n<p>使用dig命令来检测DNS域传送（AXFR）漏洞是一种安全测试方法，用于检查一个DNS服务器是否允许未经授权的区域文件传输。</p>\n<p>如果服务器允许AXFR查询，并且你拥有足够的权限，这个命令将返回hzmc.edu.cn域名的完整DNS区域文件。区域文件包含了域中的所有DNS记录，如A记录、AAAA记录、CNAME记录等。</p>\n<p>如果服务器不允许AXFR查询，或者你没有足够的权限，你将收到一个错误消息，通常是REFUSED或NOTAUTH。</p>\n<p><code>攻击者可能获得的敏感信息包括：</code></p>\n<ol>\n<li>网络的拓扑结构，服务器集中的IP地址段</li>\n<li>数据库服务器的IP地址，例如nwpudb2.nwpu.edu.cn</li>\n<li>测试服务器的IP地址，例如test.nwpu.edu.cn</li>\n<li>VPN服务器地址泄露</li>\n<li>其他敏感服务器</li>\n</ol>\n<h2 id=\"课时七-邮箱收集\"><a href=\"#课时七-邮箱收集\" class=\"headerlink\" title=\"课时七 邮箱收集\"></a>课时七 邮箱收集</h2><p><code>为什么进行邮箱收集</code></p>\n<ol>\n<li>企业员工邮箱账号收集的手段</li>\n<li>邮件钓鱼攻击</li>\n<li>社会工程学攻击</li>\n</ol>\n<p><code>TheHarvester</code></p>\n<p>TheHarvester是一个社会工程学工具，它通过搜索引擎、PGP服务器以及Shodan数据库收集目标的Email，子域名，主机，员名，开放端口和banner信息。<br>    下载地址：<a href=\"https://github.com/laramies/theHarvester\">https://github.com/laramies/theHarvester</a><br>    此版本为修改版，增加了百度搜索引擎，无需翻墙即可使用。</p>\n<p><code>参数说明</code></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1. -d: Domain to search or companyname</span><br><span class=\"line\">2. -b: data source: google， bingbingapipgp，all</span><br><span class=\"line\">3. -f:Save thee resultsinto an HTML and XML file Cboth）</span><br><span class=\"line\">4. -l:Limit the number of results</span><br></pre></td></tr></table></figure>\n\n<p>示例</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">python theHarvester.py -d wooyun.org -b baidu -l 500</span><br></pre></td></tr></table></figure>\n\n<p>-d wooyun.org: -d 参数后面跟的是你想要查询的域名，这里是 wooyun.org。<br>-b baidu: -b 参数指定要使用的搜索引擎或其他数据源。在这里，baidu 是指使用百度搜索引擎进行搜索。theHarvester 支持多种搜索引擎和其他数据源，如 Google、Bing、Yandex、DNS记录等。<br>-l 500: -l 参数指定要返回的结果数量。在这个例子中，500 表示返回最多500条结果。</p>\n<p><code>MSF邮箱收集模块</code><br>MSF（Metasploit）是一款开源的安全漏洞检测工具，可以帮助安全和IT专业人士识别安全性问题，验证漏洞的缓解措施，并对网络系统的安全性进行评估，提供真正的安全风险情报。这些功能包括智能开发，代码审计，Web应用程序扫描，社会工程</p>\n<p>   在Metasploit中提供了许多模块，这些模块辅助安全人员完成安全测试工作,其中searchemailcollector模块，它的功能是查找搜索引擎（google、bing、yahoo），收集和某个域名有关的邮箱地址。</p>\n<p><code>命令说明</code></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1.启动MSF：msfconsole</span><br><span class=\"line\">2.使用search_email_collector模块：</span><br><span class=\"line\">     use auxiliary/gather/search_email_collector</span><br><span class=\"line\">3.查看设置项：show options</span><br><span class=\"line\">4.设置DOMAIN：set domain wooyun.org</span><br><span class=\"line\">5.运行模块：run</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"课时八-主动侦查之Nmap基本用法\"><a href=\"#课时八-主动侦查之Nmap基本用法\" class=\"headerlink\" title=\"课时八 主动侦查之Nmap基本用法\"></a>课时八 主动侦查之Nmap基本用法</h2><p>Nmap NetworkMapper（网络映射器）”）是一款开放源代码的网络探测和安全审核的工具。 它的设计目标是快速地扫描大型网络，Nmap以新颖的方式使用原始IP报文来发现网络中存活主机的信息</p>\n<p>Nmap同时也提供了强大且灵活的脚本引擎，它允许用户编写简单的脚本执行各种自动化的网络任务。当然Nmap也内置了许多在渗透测试中常用的脚本</p>\n<p><code>Nmap主要功能</code><br>主机发现                       漏洞扫描与利用</p>\n<p>端口扫描                       安全审计</p>\n<p>指纹识别与探测\t\t   防火墙&#x2F;IDS逃逸</p>\n<p><code>简单的网络扫描</code></p>\n<ol>\n<li><p>扫描单个网络：nmap 10.254.100.1或<a href=\"http://www.test.com/\">www.test.com</a></p>\n</li>\n<li><p>扫描多个IP：nmap 192.168.1.1 192.168.1.3</p>\n</li>\n<li><p>扫描连续的IP或IP段：nmap 10.254.100.1-10.254.100.99<br>CIDR：nmap10.254.100.1&#x2F;24</p>\n</li>\n<li><p>扫描目标列表：namp -iL list.txt</p>\n</li>\n<li><p>指定端口范围：nmap -p 3389,80-445 192.168.100.3</p>\n</li>\n<li><p>详细描述输出：nmap -vv 192.168.100.3</p>\n</li>\n<li><p>输出扫描结果：nmap -oX test.xml 192.168.100.1&#x2F;24</p>\n</li>\n<li><p>综合扫描：nmap -A 192.168.100.1&#x2F;24</p>\n</li>\n</ol>\n<p><code>示例</code></p>\n<p>1.扫描目标单个主机，输出详细描述，输出扫描结果</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nmap 10.34.1.145 -VV -oX 123.xml</span><br></pre></td></tr></table></figure>\n\n<p>2.扫描文件列表目标(test.txt内容为目标ip的列表)，并指定端口3389、445、 3306，输出扫描结果。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nmap -iL test.txt -p 3389,445,3306 -oX test.xml</span><br></pre></td></tr></table></figure>\n\n\n\n<p><code>Zenmap</code></p>\n<p>nmap的GUI程序，功能相同</p>\n<h2 id=\"课时九-主机发现\"><a href=\"#课时九-主机发现\" class=\"headerlink\" title=\"课时九 主机发现\"></a>课时九 主机发现</h2><p>通常系统管理员可能仅仅使用ping来定位内网中的主机，而一个外部入侵测试人员则可能绞尽脑汁用各种方法试图突破防火墙的封锁，了解自标网络主机的活动情况<br>主机发现有时候也叫ping扫描，但它远远超越了普通的ping工具发送简单的ICMP回声请求报文。Nmap可以进行大规模网络扫描，并可以定制TCP、UDP、ICMP请求方式以绕过目标的一些限制，探测目标主机是否是处于活动状态。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1.-sP    \t(ping扫描)仅仅进行ping扫描</span><br><span class=\"line\">2.-Pn     \t跳过主机发现阶段，默认所有主机为活动，继续执行其他扫描</span><br><span class=\"line\">3.-PU\t\t(UDP Ping)它发送一个空的UDP报文给指定的端口，默认为31338 该扫描类型的主要优势是它可以穿越只过滤TCP的防火墙和过滤器。</span><br><span class=\"line\">4.-PS \t\t(TCP SYN Ping)该选项发送一个设置了SYN标志位的空TCP报文。  默认目的端口为80，可指定其它端口，每个端口会被并发扫描</span><br><span class=\"line\">5.-PA     \t(TCP ACK Ping)与TCP SYN相似，设置TCP的ACK标志位</span><br><span class=\"line\">    一般防火墙会封锁SYN报文，ACK报文通常会被识别成伪造的而被丢弃。所以两种方式同时指定使穿透防火墙的可能性比较大</span><br><span class=\"line\">6.ICMPPingTypes</span><br><span class=\"line\">-PE：ICMPEcho扫描方式</span><br><span class=\"line\">-PP：ICMP时间ping扫描</span><br><span class=\"line\">-PM：ICMP地址码ping扫描</span><br><span class=\"line\">当管理员封锁了回声请求报文而忘记其它两种ICMP查询，用于相同目的时非常有效</span><br><span class=\"line\">7.-n\t禁止DNS反向解析</span><br><span class=\"line\">8.-R\t反向解析域名</span><br><span class=\"line\">9.--traceroute\t路由跟踪</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"课时十-端口扫描\"><a href=\"#课时十-端口扫描\" class=\"headerlink\" title=\"课时十 端口扫描\"></a>课时十 端口扫描</h2><p>公认端口</p>\n<p>0～1023，它们绑定特定的服务，端口的通信明确表明了某种服务的协议。例如：80端口是HTTP服务端口。</p>\n<p>注册端口<br>1024~49151，它们松散地绑定一些服务，就是说有许多服务绑定于这些端口，这些端口同样用于许多其它的目的</p>\n<p>动态&#x2F;私有端口<br>49152~65535，这些端口一般不分配服务，有些较为特殊的程序，特别是木马程序非常喜欢使用这些端口，容易隐蔽。</p>\n<p><code>常用的服务器端口</code><br>21\tFTP服务                   443\tHTTPS服务<br>22\tSSH服务                  3389\t远程桌面<br>23\tTelnet服务              8080\tWWW代理服务<br>25\tSMTP服务\t\t\t   80\tHTTP服务</p>\n<p><code>端口扫描技术</code></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1.-p指定扫描端口，Nmap默认扫描1000个常用的端口</span><br><span class=\"line\">2.-sS TCP SYN扫描，扫描速度快，不会完成TCP连接，比较隐蔽</span><br><span class=\"line\">3.-sT TCP连接扫描，当SYN扫描不可用的时候，TCP连接扫描是默认的TCP扫描类型。当用户没有权限发送原始报文或者扫描IPv6网络时，使用此方法</span><br><span class=\"line\">4.-sU UDP扫描，UDP扫描通常比TCP慢和更加困难，一般安全审计会忽略一些UDP端口</span><br><span class=\"line\">5.-sA TCP ACK扫描，无需判断端口的开放情况。 用来绘制出防火墙规则，对哪些端口进行了保护</span><br><span class=\"line\">6.-sW TCP窗口扫描，与ACK扫描类似</span><br><span class=\"line\">7.隐蔽扫描</span><br><span class=\"line\">-sN Null扫描，通过发送非常规的TCP通信数据包对服务器进行探测</span><br><span class=\"line\">-sF FIN扫描，当使用TCPSYN扫描时可能会被目标防火墙发现，止SYN数据包，可以使用FIN扫描会有很好的穿透效果</span><br><span class=\"line\">-sX Xmas扫描，数据包设置FIN,PSH,URG标志位</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"课时十一-操作系统探测\"><a href=\"#课时十一-操作系统探测\" class=\"headerlink\" title=\"课时十一 操作系统探测\"></a>课时十一 操作系统探测</h2><p><code>操作系统探测方法</code><br>操作系统探测主要通过协议栈指纹分析判断目标系统类型</p>\n<p>常用的操作系统判断方法：</p>\n<ol>\n<li>Nmap综合判断</li>\n<li>Web指纹</li>\n<li>Telnet选项指纹</li>\n<li>根据操作系统TTL值判断<br>  Linux操作系统<br>   TTL值一般为64或255Unix<br>   TTL值为255<br>  Windows操作系统<br>   TTL值一般为128</li>\n</ol>\n<p><code>Nmap探测原理</code><br>Nmap发送一系列TCP和UDP报文到远程主机，检查响应中的每一个比特。在进行一系列测试如TCPISN采样，TCP选项支持和排序，IPID采样，和初始窗口大小检查之后，Nmap把结果和数据库nmap-os-fingerprints中超过1500个已知的操作系统的fingerprints进行比较。</p>\n<p>Nmap使用TCP&#x2F;IP协议栈指纹分析进行远程操作系统探测</p>\n<p><code>Nmap操作系统探测参数</code>    </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1.-O启动操作系统检测</span><br><span class=\"line\">2.--osscan-limit针对指定的目标进行操作系统检测如果发现一个打开和关闭的TCP端口时，操作系统检测会更有效。  采用这个选项，Nmap只对满足这个条件的主机进行操作系统检测</span><br><span class=\"line\">3.--osscan-guess推测操作系统检测结果当Nmap无法确定所检测的操作系统时，会尽可能地提供最相近的匹配，Nmap默认进行这种匹配</span><br></pre></td></tr></table></figure>\n\n\n\n<p><code>探测实例</code><br>1.检测两个目标IP的操作系统类型</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nmap -PS -sS -O 192.168.119.143 192.168.119.139 -oX os.xml</span><br></pre></td></tr></table></figure>\n\n<p>2.使用–osscan-limit参数节约扫描时间<br>其中192.168.119.146为不活动主机</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nmap -PS -sS -O --osscan-limit 192.168.119.146 192.168.119.139 -oX os.xml</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"课时十二-服务和版本探测\"><a href=\"#课时十二-服务和版本探测\" class=\"headerlink\" title=\"课时十二 服务和版本探测\"></a>课时十二 服务和版本探测</h2><p><code>服务和版本探测原理</code><br> Nmap服务和版本探测主要是通过服务指纹对比匹配，确定服务和版本信息。  nmap-service-probes数据库包含查询不同服务的探测报文和解析识别响应的匹配表达式。<br>在用某种其它类型的扫描方法发现TCP或UDP端口后，版本探测会询问这些端口，确定什么服务正在运行 通过服务指纹对比匹配，Nmap试图确定服务，应用程序名（如ISCBind，Apachehttpd）版本号，主机名，设备类型（如打印机，路由器），操作系统等</p>\n<p><code>服务和版本探测</code></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1.-sV打开版本探测，也可以使用-A同时打开操作系统探测和服务版本探测</span><br><span class=\"line\">2.--allports全端口版本探测，Nmap版本探测默认会跳过9100TCP端口</span><br><span class=\"line\">3.-sR RPC扫描，一般很少用到</span><br><span class=\"line\">4.--version-trace获取详细版本信息</span><br><span class=\"line\">5.--version-intensity设置扫描强度，强度在0～9之间，默认为7。赋予的值越高，服务越可能被正确识别，但时间也较长</span><br><span class=\"line\">6.--version-light轻量级扫描，对应--version-intensity2的快捷方式</span><br><span class=\"line\">7.--version-all重量级扫描，对应--version-intensity9的快捷方式</span><br></pre></td></tr></table></figure>\n\n\n\n<p><code>扫描实例</code><br>1.探测目标服务器服务与版本信息</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nmap -sS-sV 192.168.119.142</span><br></pre></td></tr></table></figure>\n\n<p>2.比较不同扫描强度产生的扫描结果</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nmap -sS-sV --version-light 192.168.119.142</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"课时十三-Github源码信息泄露\"><a href=\"#课时十三-Github源码信息泄露\" class=\"headerlink\" title=\"课时十三 Github源码信息泄露\"></a>课时十三 Github源码信息泄露</h2><p><code>产生原因</code></p>\n<p>开发者在使用Git创建、 修改、 更新远程仓库前，一旦源代码未及时处理掉一些敏感信息，例如邮件配置信息、 数据库配置信息，就会造成源码信息泄露。<br>黑客通过强大的搜索引擎，很容易抓取到GitHub代码库中的敏感信息。一般泄露的敏感信息都与账号密码有关，因此收集源码泄露的信息非常重要</p>\n<p> <code>敏感数据泄露</code><br>1.邮件配置信息\t 2.数据库配置信息<br>3.FTP配置信息\t  4.VPN配置信息<br>5 .APIKEY              ……</p>\n<p><code>信息收集的方法</code></p>\n<p>使用GoogleHacking收集GitHub源码信息泄露，例如：<br>    邮件信息收集\t\tsite:Github.com smtp@厂商域名<br>    数据库信息收集\tsite:Github.com rootpassword<br>    公司内部信息收集\tsite:Github.com ccorp.xx.com或者XX-inc.com</p>\n<p><code>实例</code></p>\n<p>1.收集目标泄露的邮箱账号信息</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">site:Github.com smtp@163.com</span><br></pre></td></tr></table></figure>\n\n<p>2.收集数据库配置信息</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">site:Github.com User ID=&#x27;sa&#x27;;Password</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"课时十四-Zenmap\"><a href=\"#课时十四-Zenmap\" class=\"headerlink\" title=\"课时十四 Zenmap\"></a>课时十四 Zenmap</h2><p>Zenmap是nmap的GUl （图形化界面） 版本，由nmap官方提供Zenmap使用python语言编写，可以在Windows、 Linux、 Mac等不同系统上运行</p>\n<p>Zenmap主要是为Nmap提供更加简单方便的操作方式，使用图形化界面，更加容易被初学者接受。<br>注意： WindowsXP系统支持的nmap最高版本为6.47版，下载地址为：<a href=\"https://nmap.ora/dist/\">https://nmap.ora/dist/</a></p>\n<p><code>Zenmap的优点</code></p>\n<pre><code>1. 导入命令行nmap输出的扫描结果，方便可视化分析\n 2. 可以对比扫描结果，分析更加快捷\n 3. 同时支持自定义扫描方式，扫描更加高效\n 4. 可以查看拓扑和主机详细信息\n</code></pre>\n<p><code>默认扫描方式</code><br>Zenmap默认配置了种扫描方式， 下面将介绍几种常用的扫描方式，以及如何自定义扫描方式</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1.Intense scan    nmap -T4 -A -v</span><br><span class=\"line\">2.Intense scan plus UDP    nmap -sS -sU -T4 -A -v</span><br><span class=\"line\">3.Intense scan,all TCP ports    nmap -p 1-65535 -T4 -A -v</span><br><span class=\"line\">4.Intense scan,no ping     nmap -T4 -A -v -Pn</span><br></pre></td></tr></table></figure>\n\n\n\n<p><code>自定义扫描方式</code></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1.配置自定义扫描方式，菜单选项：配置&gt;&gt;新的配置或命令&gt;&gt;自定义配置编辑器</span><br><span class=\"line\">2.更改默认扫描方式，菜单选项：配置&gt;&gt; 编辑选中配置&gt;&gt;自定义扫描方式</span><br><span class=\"line\">3.在配置编辑器中可自由定义扫描方式，也可保存为配置文件以便下次直接调用</span><br></pre></td></tr></table></figure>\n\n\n\n<p><code>扫描实例</code></p>\n<p> 1.使用Intensescan方式扫描目标主机</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nmap -T4 -A -v 192.168.119.142</span><br></pre></td></tr></table></figure>\n\n<p>2.尝试自定义扫描方式扫描主机</p>\n<h2 id=\"课时十五-服务漏洞扫描\"><a href=\"#课时十五-服务漏洞扫描\" class=\"headerlink\" title=\"课时十五 服务漏洞扫描\"></a>课时十五 服务漏洞扫描</h2><p><code>扫描原理</code></p>\n<p>Nmap不仅可以进行网络扫描，还可以进行服务漏洞扫描。 Nmap内置了许多漏洞扫描脚本，由lua语言编写，通过NSE脚本引擎调用脚本检测服务漏洞<br>Linux系统安装nmap的脚本位于&#x2F;usr&#x2F;share&#x2F;nmap&#x2F;scripts&#x2F;，目录中包含了nmap内置的所有脚本，且脚本在不断更新中。 Zenmap直接在配置菜单中选择即可</p>\n<p><code>脚本分类</code><br> Nmap脚本主要分为以下几类，可通过–script&#x3D;<lua scripts>直接调用进行模糊测试</lua></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1.auth：负责处理鉴权证书（绕开鉴权）的脚本</span><br><span class=\"line\">2.broadcast：在局域网内探查更多服务开启状况，如dhcp/dns/sqlserver等服务</span><br><span class=\"line\">3.brute：提供暴力破解方式，针对常见的应用如http/snmp等</span><br><span class=\"line\">4.default：使用-sC或-A选项扫描时候默认的脚本，提供基本脚本扫描能力</span><br><span class=\"line\">5.discovery：获取网络更多的信息，如SMB枚举、SNMP查询等</span><br><span class=\"line\">6.dos：用于进行拒绝服务攻击</span><br><span class=\"line\">7.exploit：利用已知的漏洞入侵系统</span><br><span class=\"line\">8.externa1：利用第三方的数据库或资源，例如进行whois解析</span><br><span class=\"line\">9.fuzzer：模糊测试的脚本，发送异常的包到目标机，探测出潜在漏洞</span><br><span class=\"line\">10.intrusive：入侵性的脚本，此类脚本可能引发对方的IDS/IPS的记录或屏蔽</span><br><span class=\"line\">11.malware：探测目标机是香感染了病毒、开启了后门等信息</span><br><span class=\"line\">12.safe：此类与intrusive相反，属于安全性脚本</span><br><span class=\"line\">13.version：负责增强服务与版本扫描（VersionDetection）功能的脚本</span><br><span class=\"line\">14.vlun：负责检查目标机是否有常见的漏洞（Vunerability），如是有MS08_067</span><br></pre></td></tr></table></figure>\n\n\n\n<p><code>脚本引擎常用命令</code></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1.-sC  等价于--script=default</span><br><span class=\"line\">2.--script=&lt;lua scripts&gt;   调用指定的脚本</span><br><span class=\"line\">3.--script-args  为脚本提供默认参数</span><br><span class=\"line\">4.--script-trace   显示脚本执行过程中发送与接收的数据</span><br><span class=\"line\">5.--script-help=&lt;scripts&gt;   显示脚本使用帮助</span><br></pre></td></tr></table></figure>\n\n\n\n<p><code>扫描实例</code><br>1.检测自标服务器是否存在  永恒之蓝” 漏洞</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nmap --script smb-vuln-ms17-010 192.168.119.142</span><br></pre></td></tr></table></figure>\n\n<p>2.爆破FTP服务</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nmap -p 21 192.168.119.14 2--script ftp-brute --script-args userdb=/root/user.txt,passdb=/root/passwd.txt</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"课时十六-弱口令扫描\"><a href=\"#课时十六-弱口令扫描\" class=\"headerlink\" title=\"课时十六 弱口令扫描\"></a>课时十六 弱口令扫描</h2><p><code>hydra弱口令扫描</code><br>Hydra是是一个支持多种网络服务的认证破解工具，支持超过50个协议，包括ssh、 ftp、 smb、多个数据库等等，可以自定义字典执行快速暴力破解。</p>\n<p><code>hydra常用命令</code></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1. -l or -L  -l指定一个用户名，-L指定用户名字典文件</span><br><span class=\"line\">2. -p or -P  -p指定一个密码，-P指定密码字典文件</span><br><span class=\"line\">3. -e nsr可选项   &quot;n&quot;尝试空密码  &quot;s&quot;尝试使用一样的用户名和密码登录， &quot;r&quot;尝试用户名和密码倒登录</span><br><span class=\"line\">4. -s  指定端口</span><br></pre></td></tr></table></figure>\n\n\n\n<p><code>扫描实例</code></p>\n<ol>\n<li><p>Windows远程桌面弱口令扫描</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hydra -L userdict.txt -P passdict.txt 192.168.119.142 rdp</span><br></pre></td></tr></table></figure>\n\n<p>rdp 代表远程桌面协议 (Remote Desktop Protocol)。RDP 通常用于远程访问Windows系统。</p>\n</li>\n<li><p>FTP弱口令扫描</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hydra -L userdict.txt -P passdict.txt -e ns ftp://192.168.119.142</span><br></pre></td></tr></table></figure></li>\n</ol>\n<h2 id=\"课时十七-子域名搜集\"><a href=\"#课时十七-子域名搜集\" class=\"headerlink\" title=\"课时十七 子域名搜集\"></a>课时十七 子域名搜集</h2><p><code>子域名搜集思路</code></p>\n<ol>\n<li><p>子域名暴力破解</p>\n</li>\n<li><p>搜索引擎查询</p>\n</li>\n<li><p>查询DNS解析记录</p>\n</li>\n<li><p>爬虫爬取官方页面提取子域名</p>\n</li>\n<li><p>IP反查</p>\n</li>\n</ol>\n<p><code>在线工具</code></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1.IP反查域名：https://dns.aizhan.com/</span><br><span class=\"line\">2.Netcraft: http://searchdns.netcraft.com/</span><br><span class=\"line\">3.站长之家：http://tool.chinaz.com/subdomain/</span><br><span class=\"line\">4.DNS数据集查询：https://dnsdumpster.com/</span><br></pre></td></tr></table></figure>\n\n<p><code>本地工具</code></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1.Layer子域名掘机</span><br><span class=\"line\">2.subDomainsBrute</span><br><span class=\"line\">3.Fierce （Linux）</span><br><span class=\"line\">4.BurpSuite</span><br></pre></td></tr></table></figure>\n\n<p><code>子域名搜集实例</code></p>\n<ol>\n<li><p>利用子域名挖掘机搜集子域名<br>  了解子域名挖掘机搜集子域名的方式，并学会使用子域名挖掘机</p>\n</li>\n<li><p>利用在线DNS数据集收集子域名</p>\n</li>\n</ol>\n<h2 id=\"课时十八-后台发现\"><a href=\"#课时十八-后台发现\" class=\"headerlink\" title=\"课时十八 后台发现\"></a>课时十八 后台发现</h2><p><code>网站后台管理系统</code></p>\n<p>网站后台管理系统主要用于对网站前台的信息管理，如文字、 图片、影音和其他日常更新的信息等。简单来说就是对网站数据库和文件的快速操作， 以使得前台内容能够得到及时更新和调整<br>网站后台主要分为CMS内容管理系统和自主开发后台管理系统。主要区别在于CMS建站快速，但安全性不高，容易出现安全问题；自主开发后台系统可定制性强，安全性可以得到保障</p>\n<p><code>为什么要发现后台</code></p>\n<ol>\n<li>弱口令</li>\n<li>登录验证绕过</li>\n<li>后台漏洞利用</li>\n</ol>\n<p><code>后台发现方法</code></p>\n<ol>\n<li>字典枚举猜解 （御剑、 Test404等）</li>\n<li>GoogleHacking</li>\n<li>二级域名后台</li>\n<li>Web目录探测</li>\n<li>CMS特性</li>\n</ol>\n<p><code>常见的CMS及后台特征</code></p>\n<ol>\n<li>织梦CMS  后台管理界面：&#x2F;dede</li>\n<li>Joomla   后台管理界面：&#x2F;administrator</li>\n<li>Discuz  后台管理界面：&#x2F;admin.php或&#x2F;admincp.php</li>\n<li>WordPress  后台管理界面：&#x2F;wp-login.php或&#x2F;wp-admin.php</li>\n</ol>\n<h2 id=\"课时十九-Web目录结构探测\"><a href=\"#课时十九-Web目录结构探测\" class=\"headerlink\" title=\"课时十九 Web目录结构探测\"></a>课时十九 Web目录结构探测</h2><p><code>web目录结构</code></p>\n<p>Web目录结构如同文件系统一样，会按照内容或功能分为一些子目录和文件。按照网站功能将网站源文件放入不同的子目录中，由相关程序调用，大部分目录和文件普通用户无权访问<br>一些子目录中和源程序文件存放了网站相关的敏感信息，不希望被普通用户所查看，特别是网站相关配置文件和管理后台目录。，一旦网站目录中存在敏感文件，且管理员未正确配置访问权限，就可能被黑客利用攻击服务器。</p>\n<p><code>探测目录结构的作用</code></p>\n<ol>\n<li>管理后台发现</li>\n<li>敏感配置文件</li>\n<li>文件上传页面</li>\n<li>网站备份文件等</li>\n</ol>\n<p><code>目录结构探测原理</code></p>\n<ol>\n<li>基于字典暴力破解</li>\n<li>基于爬虫发现</li>\n</ol>\n<p><code>录结构探测工具</code></p>\n<ol>\n<li>DirBuster</li>\n<li>dirb</li>\n<li>BurpSuite</li>\n<li>AWVS SiteCrawler模块</li>\n</ol>\n<p><code>工具利弊</code></p>\n<ol>\n<li>DirBuster、 dirb基于字典暴力破解，结果准确、 耗时长</li>\n<li>BurpSuite、AvS基于爬虫发现，简单、 结果不明确、耗时短</li>\n<li>基于字典暴力破解目录结构，需要一个长期积累的好字典，以更缩短探测时间</li>\n</ol>\n",
            "tags": [
                "原创",
                "转载",
                "信息安全"
            ]
        },
        {
            "id": "https://w-sqrt7.github.io/2024/03/01/mihao-note/%E7%B1%B3%E5%A5%BD%E4%BF%A1%E5%AE%89-%E7%B3%BB%E7%BB%9F%E5%AE%89%E5%85%A8%E7%BB%BC%E5%90%88/",
            "url": "https://w-sqrt7.github.io/2024/03/01/mihao-note/%E7%B1%B3%E5%A5%BD%E4%BF%A1%E5%AE%89-%E7%B3%BB%E7%BB%9F%E5%AE%89%E5%85%A8%E7%BB%BC%E5%90%88/",
            "title": "米好信安课程笔记-系统安全综合",
            "date_published": "2024-03-01T07:23:41.173Z",
            "content_html": "<div class=\"hbe hbe-container\" id=\"hexo-blog-encrypt\" data-wpm=\"抱歉, 这个密码看着不太对, 请再试试.\" data-whm=\"抱歉, 这个文章不能被校验, 不过您还是能看看解密后的内容.\">\n  <script id=\"hbeData\" type=\"hbeData\" data-hmacdigest=\"d5e040df22d76090fc329eb3a4f4c4f266cb1fbaf5eae9e16d4cb497f58df68b\">e05d9ee6e48268b2b742c6d6f1681d6164fa5aa1dc52a0c978370e90ed17c302a3c3cf3361c11a91930f07d279aace1f3ffcb9262c6d73de23b7c69224f8b8374f61407b91ea05281e86675c44a165f1d1d0fb48f2afba9f7c67c9debacdb10d813809cbadd6234c91bacd3e991e9f835d609dbd9f54084774df7f50bc6895124b540ff3b2ec4609d6a79c512a1def5afd62b48ff85fb2c84413bd768334939678d45f26b698d533f4dcb21186764e4de14a743d95efeb71d13147f75233ed876ab6af0bd1577ddb15fe50f0c84a5efb001e29eff22119f616aaf4d21b477f3c10050b0a271f91cf9eeaa3e4cdbb373d14dece70810a9476b83eb93f2152436f0a8685314288d90cedaa325ba6245620f3b0cf1462566ff97c663fca14f089c6e871dec4b95cbcc1fa19c7cf3b54ebd8eeee0b92df1e2681a2e3233fab848720efa45e2f06a23e48a6d3da8adc5b76a4849480e06174dbd6894f969089e1d514f855f0c42c414fc6e3023e0d2590b191b138f341b9100bd76d57b2c956c25834de30c7ae2cea295cf14db8eabd6041350ad6732fee96e5c3a89a15c4bfa4f89f4263b00ee71ac24d15063b1161a38f628395821198ad545a130331b60fbb8cb9feca9b035ce40af51f17ca320212a9929f9e619b69650524212570af52c25e8f346bee44735d3fa8deb47e2e9702bc9efc37aa467f7a62ce1737906783f6c8f82a8a896d9d36e3300aba21727d0d7d7960830e4394086063dfb62666b2e42e5cad92bb916d05c9faa938fc9a8613350bc4729a3714cbfea7e1cf7a6446b5c63841eb3e757295285c41c4404b383ce9c01f1beab9446582747bc75b5c0513e29aeb95dd0099a67daae1a047f9f9acbd3c</script>\n  <div class=\"hbe hbe-content\">\n    <div class=\"hbe hbe-input hbe-input-default\">\n      <input class=\"hbe hbe-input-field hbe-input-field-default\" type=\"password\" id=\"hbePass\">\n      <label class=\"hbe hbe-input-label hbe-input-label-default\" for=\"hbePass\">\n        <span class=\"hbe hbe-input-label-content hbe-input-label-content-default\">您好, 这里需要密码.</span>\n      </label>\n    </div>\n  </div>\n</div>\n<script data-pjax src=\"/lib/hbe.js\"></script><link href=\"/css/hbe.style.css\" rel=\"stylesheet\" type=\"text/css\">",
            "tags": [
                "原创",
                "转载",
                "信息安全"
            ]
        },
        {
            "id": "https://w-sqrt7.github.io/2024/02/28/mihao-note/%E7%B1%B3%E5%A5%BD%E4%BF%A1%E5%AE%89-Linux%E5%AE%89%E5%85%A8%E9%85%8D%E7%BD%AE/",
            "url": "https://w-sqrt7.github.io/2024/02/28/mihao-note/%E7%B1%B3%E5%A5%BD%E4%BF%A1%E5%AE%89-Linux%E5%AE%89%E5%85%A8%E9%85%8D%E7%BD%AE/",
            "title": "米好信安课程笔记-Linux安全配置",
            "date_published": "2024-02-28T08:00:05.473Z",
            "content_html": "<h1 id=\"米好信息安全课程笔记\"><a href=\"#米好信息安全课程笔记\" class=\"headerlink\" title=\"米好信息安全课程笔记\"></a>米好信息安全课程笔记</h1><h1 id=\"基础课程-Linux安全配置\"><a href=\"#基础课程-Linux安全配置\" class=\"headerlink\" title=\"基础课程-Linux安全配置\"></a>基础课程-Linux安全配置</h1><h2 id=\"课时一-用户密码设置\"><a href=\"#课时一-用户密码设置\" class=\"headerlink\" title=\"课时一 用户密码设置\"></a>课时一 用户密码设置</h2><p><code>passwd命令</code></p>\n<p>普通用户只可以修改自己的密码</p>\n<p>root用户可以修改任意用户的密码</p>\n<p>passwd -l test01 锁定test01用户，该用户无法修改自己的密码</p>\n<p><code>/etc/passwd文件</code>，格式如下</p>\n<p>用户名：密码：uid：gid：用户描述：主目录：登录shell</p>\n<p><code>/etc/shadow文件</code>，格式如下</p>\n<p>登录名：加密口令：最后一次修改时间：最小时间间隔：最大时间间隔：警告时间：不活动时间：失效时间：保留</p>\n<h2 id=\"课时二-用户口令强度要求\"><a href=\"#课时二-用户口令强度要求\" class=\"headerlink\" title=\"课时二 用户口令强度要求\"></a>课时二 用户口令强度要求</h2><p><code>/etc/pam.d/system-auth文件</code></p>\n<p>对用户的口令强度进行限制</p>\n<p>设置密码长度最小为10为，至少包含两种字符种类的组合</p>\n<p>编辑&#x2F;etc&#x2F;pam.d&#x2F;system-auth文件</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">password requisite pam_cracklib.so try_first_pass retry=3</span><br></pre></td></tr></table></figure>\n\n<p>替换为</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">password requisite pam_cracklib.so try_first_pass retry=3 minlen=10 minclass=2</span><br></pre></td></tr></table></figure>\n\n<p>其中try_first_pass retry&#x3D;3是密码重试次数为3次，如果在初始尝试中失败，则应该重试3次，minlen&#x3D;10是密码最小长度为10,minclass&#x3D;2是密码最少要有两种字符种类组合</p>\n<p>pam＿cracklib主要参数说明：</p>\n<p>retry&#x3D;N:</p>\n<p>重试多少次后返回密码修改错误difok&#x3D;N:</p>\n<p>新密码必需与旧密码不同的位数dcredit&#x3D;N:</p>\n<p>N＞＝0：密码中最多有多少个数字；</p>\n<p>N＜0密码中最少有多少个数字．Icredit&#x3D;N:</p>\n<p>小写字母的个数 ucredit&#x3D;N:</p>\n<p>大写字母的个数 credit&#x3D;N:</p>\n<p>特殊字母的个数</p>\n<p>minclass＝N： 密码组成（大／小写字母，数字，特殊字符）</p>\n<p><code>/etc.login.defs文件</code></p>\n<p>如设置用户的密码有效期为90天，斌再密码到期前30天在用户登录时提醒用户</p>\n<p>pass_max_days 90:密码最大有效期，单位为天，设置成99999代表永久有效</p>\n<p>pass_warn_age 15:密码失效前多少天在用户登录时通知用户修改口令</p>\n<p>pass_min_days 0 :多少天后可修改密码，0代表可立即修改，非0代表N天后可修改</p>\n<p>pass_min_len 5</p>\n<p>密码最小长度若system-auth文件已经指定，则此处无效</p>\n<h2 id=\"课时三-用户锁定策略\"><a href=\"#课时三-用户锁定策略\" class=\"headerlink\" title=\"课时三 用户锁定策略\"></a>课时三 用户锁定策略</h2><p><code>/etc/pam.d/login文件</code></p>\n<p>如设置普通用户连续错误登录的最大次数，超过5次，则锁定该用户，锁定之后，15分钟后自动解锁</p>\n<p>编辑&#x2F;etc&#x2F;pam.d&#x2F;login文件，在第一行下即#%PAM-1.0的下面添加</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">auth  required  pam_tally.so  deny=5  unlock_time=900</span><br></pre></td></tr></table></figure>\n\n<p>even_deny_root  #限制root用户</p>\n<p>dengy  #设置普通用户和root用户登录连续错误的最大次数</p>\n<p>unlock_time  #设定普通用户锁定后，多少时间后解锁，单位秒</p>\n<p>root_unlock_time  #设置root用户锁定后</p>\n<p><code>手动锁定和解锁用户</code></p>\n<p>查看用户andrew的错误登录次数</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pam_tally --user andrew</span><br></pre></td></tr></table></figure>\n\n<p>查看用户andrew的错误登录次数</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pam_tally --user andrew --reset</span><br></pre></td></tr></table></figure>\n\n<p>使用passwd命令锁定与解锁账号</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">passwd -l andrew #锁定用户andrew</span><br><span class=\"line\">passwd -S andrew #查看用户andrew锁定状态</span><br><span class=\"line\">passwd -u andrew #解锁用户andrew</span><br></pre></td></tr></table></figure>\n\n<p>使用usermod命令锁定与解锁账号</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">usermod -L andrew #锁定用户andrew</span><br><span class=\"line\">usermod -U andrew #解锁用户andrew</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"课时四-root账户远程登录限制\"><a href=\"#课时四-root账户远程登录限制\" class=\"headerlink\" title=\"课时四 root账户远程登录限制\"></a>课时四 root账户远程登录限制</h2><p><code>/etc/securetty文件</code></p>\n<p>tty一般指终端，即直接和Linux相互通信的一个终端，telnet远程登录使用的是tty</p>\n<p>pts是指伪终端，在窗口型Linux里面打卡的terminal都是pts，ssh远程登陆使用的是pts</p>\n<p>console指当前控制台</p>\n<p>vc是virtual console，为虚拟的监视器</p>\n<p>vt是virtual terminal，为虚拟终端</p>\n<p>在该文件中没有找到当前字符终端设备，login会认为他不安全，给出login incorrect 错误</p>\n<p>若没有该文件，root用户可以从任何一台字符终端设备上登录从而中造成安全问题</p>\n<p>&#x2F;etc&#x2F;securetty文件的权限应是600，400 ， 为限制root用户远程登录，应将&#x2F;etc&#x2F;securetty文件的内容只保留console</p>\n<h2 id=\"课时五-检查是否存在除root之外的UID为0的帐户\"><a href=\"#课时五-检查是否存在除root之外的UID为0的帐户\" class=\"headerlink\" title=\"课时五 检查是否存在除root之外的UID为0的帐户\"></a>课时五 检查是否存在除root之外的UID为0的帐户</h2><p>id和用户名的对应关系存放在&#x2F;etc&#x2F;passwd文件中</p>\n<p>用户可通过id命令来获取查看自己的uid号</p>\n<p>root用户的uid为0</p>\n<p>通过检查&#x2F;etc&#x2F;passwd文件来检查UID为0的账户</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">awk -F:&#x27;($3==0)&#123;print $1&#125;&#x27;/etc/passwd</span><br></pre></td></tr></table></figure>\n\n<ol>\n<li><code>-F:</code>：这个选项设置了字段分隔符为冒号（<code>:</code>）。在 <code>/etc/passwd</code> 文件中，用户的账号信息是由冒号分隔的字段组成的。</li>\n<li><code>($3==0)</code>：这是一个条件表达式，它检查第三个字段（由冒号分隔）是否等于 <code>0</code>。在 <code>/etc/passwd</code> 文件中，第三个字段通常表示用户的 UID（用户 ID）。UID 为 <code>0</code> 的用户通常是超级用户（root）。</li>\n<li><code>&#123;print $1&#125;</code>：如果上述条件（第三个字段等于 <code>0</code>）为真，则执行这个动作，即打印第一个字段。在 <code>/etc/passwd</code> 文件中，第一个字段是用户名。</li>\n<li><code>/etc/passwd</code>：这是 <code>awk</code> 命令要处理的文件名。</li>\n</ol>\n<p><code>awk</code> 是一个强大的文本处理工具，常用于在 Linux 和 Unix 系统中进行模式扫描和文本&#x2F;数据提取。</p>\n<p>awk 的基本语法如下：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">awk <span class=\"string\">&#x27;pattern &#123; action &#125;&#x27;</span> file</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><code>pattern</code>：一个模式，用于匹配输入文本中的行。</li>\n<li><code>action</code>：当模式匹配成功时要执行的动作。</li>\n<li><code>file</code>：要处理的文件名。</li>\n</ul>\n<p>awk默认使用空格或制表符作为字段分隔符，但可以通过 <code>-F</code> 选项指定其他分隔符。字段可以通过 <code>$n</code> 访问，其中 n 是字段的编号（从 1 开始）。</p>\n<p>以下是一些 awk 命令的示例：</p>\n<ol>\n<li>打印文件的所有内容<br>awk ‘{ print }’ file.txt</li>\n<li>打印文件的第一列<br>awk ‘{ print $1 }’ file.txt</li>\n<li>打印文件的第二列和第三列<br>awk ‘{ print $2, $3 }’ file.txt</li>\n<li>打印文件的总行数<br>awk ‘END { print NR }’ file.txt</li>\n<li>使用自定义分隔符<br>awk -F: ‘{ print $1, $3 }’ &#x2F;etc&#x2F;passwd<br>这里 -F: 指定了冒号作为字段分隔符</li>\n</ol>\n<h2 id=\"课时六-root用户环境变量的安全性\"><a href=\"#课时六-root用户环境变量的安全性\" class=\"headerlink\" title=\"课时六 root用户环境变量的安全性\"></a>课时六 root用户环境变量的安全性</h2><p><code>/etc.profile文件</code></p>\n<p>当系统启动或用户登录时，该文件中的命令和脚本会被执行。&#x2F;etc&#x2F;profile 主要用于设置系统级的环境变量和启动脚本，这些设置会影响所有用户。</p>\n<p><code>~/.bash_profile文件</code></p>\n<p>~&#x2F;.bash_profile 文件是一个用户级别的 Bash Shell 配置文件，位于用户的主目录下（通常是 ~ 或 &#x2F;home&#x2F;username）。当用户登录时，该文件会被自动执行一次，用于配置用户的 shell 环境。该文件只对当前用户有效</p>\n<p><code>root用户环境变量的安全性</code></p>\n<p>$PATH环境变量内存着一张目录列表，当用户要执行某一程序时，系统就会按照列表中的内容去查找该程序的位置，如果恶意程序存放在$PATH变量所在的路径下，则很容易被执行。</p>\n<p>检查是否包含父目录，检查 $PATH 环境变量中是否包含某些特定的路径段，特别是以点（.）或冒号（:）开始的路径段，或者以点或冒号结束的路径段。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">echo $PATH | egrep &#x27;(^|:)(\\.|:|$)&#x27;</span><br></pre></td></tr></table></figure>\n\n<p>(^|:)(.|:|$): 这是 egrep 命令使用的正则表达式模式。</p>\n<p>^|: 匹配字符串的开始或冒号字符。这确保了我们在每个路径段的开始处查找。<br>.|:|$ 匹配点字符、冒号字符或字符串的结束。这确保了我们在每个路径段的结束处查找。</p>\n<p>检查是否包含组目录权限为777的目录</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">find `echo $PATH | tr &#x27;&#x27;:&#x27; &#x27;` -type d \\(-perm -002 -o -perm -020\\) -ls</span><br></pre></td></tr></table></figure>\n\n<p>1.echo $PATH: 如前所述，这会显示当前用户的 PATH 环境变量的值。</p>\n<p>2.tr ‘’:’\\n’: 这里的 tr 命令用于替换或删除字符。这里，它把 PATH 值中的冒号（:）替换为换行符（\\n）。这样做的目的是把 PATH 中的每个目录路径放到单独的一行，因为 find 命令通常期望路径列表是一行一个。</p>\n<p>3.find … -ls: 这是一个反引号（backticks）包裹的命令替换，它会执行其中的命令，并将输出（即每个目录路径）作为 find 命令的参数。</p>\n<p>4.find … -type d: find 命令用于在目录树中查找文件，并可以根据各种条件进行过滤。-type d 参数指定只查找目录。</p>\n<p>5.\\(-perm -002 -o -perm -020\\): 这是一个复合权限条件，用于匹配具有特定权限设置的目录。</p>\n<p>-perm -002 匹配所有其他用户有写权限的目录（即权限位中的第2位是1）。<br>-perm -020 匹配所有组有写权限的目录（即权限位中的第5位是1）。<br>-o 是逻辑“或”操作符，用于组合上述两个条件。因此，这个复合条件会匹配所有其他用户或组有写权限的目录。</p>\n<h2 id=\"课时七-远程连接的安全性配置\"><a href=\"#课时七-远程连接的安全性配置\" class=\"headerlink\" title=\"课时七 远程连接的安全性配置\"></a>课时七 远程连接的安全性配置</h2><p><code>.netrc文件</code></p>\n<p>.netrc文件中包含了登录和初始化的信息，常被用来自动化登录，一般存放在用户的主目录下，也需要用户对此文件具有可访问的权限</p>\n<p>创建.netrc文件，设置自动登录ftp脚本，内容示例如下</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">default login andrew password 123456</span><br></pre></td></tr></table></figure>\n\n<p>当用户执行ftp 192168.18.100登录ftp服务器时，无需再输入密码</p>\n<p><code>.rhosts文件</code></p>\n<p>.rhosts 文件包含主机—用户组合列表，可以授予指定用户从指定主机登录而不必提供口令的权限</p>\n<p>1.修改／etc／xinetd.d／rsh｜rlogin｜rexec文件，将disable＝yes 改 为 disable＝no</p>\n<p>2.在.rhosts文件中加入远程登录的主机的计算机名，如Shiny</p>\n<p>3.在Shiny这台主机上使用rsh 192.168.18.130 进行远程登录，登录过程中发现无需密码</p>\n<p><code>安全配置策略</code></p>\n<p>查找.netrc和.rhosts文件，并删除这些文件</p>\n<p>find&#x2F;-name .netrc</p>\n<p>find &#x2F;-name .rhosts </p>\n<h2 id=\"课时八-用户的umask安全配置\"><a href=\"#课时八-用户的umask安全配置\" class=\"headerlink\" title=\"课时八 用户的umask安全配置\"></a>课时八 用户的umask安全配置</h2><p><code>umask</code></p>\n<p>​      umask用来设置限制新文件权限的掩码。 当新文件被创建时，其最初的权限由文件创建掩码决定。 用户每次注册进入系统时，umask命令都被执行，并自动设置掩码改变默认值，新的权限将会把旧的覆盖</p>\n<p>   umask命令是在&#x2F;etc&#x2F;profile等文件中设置的， 登录时引用这个文件，改变所有用户的umask<br>    如果希望永久性地设置自己的umask值，那么就把它放在自己$HOME<br>目录下的.profile或.bash_profile或.bashrc等文件中</p>\n<p>常见umask值与权限对应关系，建议设置用户的默认umask值为077</p>\n<table>\n<thead>\n<tr>\n<th>umask值</th>\n<th>文件</th>\n<th>目录</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>002</td>\n<td>664</td>\n<td>775</td>\n</tr>\n<tr>\n<td>022</td>\n<td>644</td>\n<td>755</td>\n</tr>\n</tbody></table>\n<p>​                                                                     </p>\n<p><code>检查umask值</code><br>检查含有umask设置的文件；</p>\n<p>more &#x2F;etc&#x2F;profile<br>more &#x2F;etc&#x2F;bashrc<br>more &#x2F;etc&#x2F;csh.login<br>more &#x2F;etc&#x2F;csh.cshrc<br>more $HOME&#x2F;.profile<br>more $HOME&#x2F;.bashrc<br>more $HOME&#x2F;.bash_profile</p>\n<h2 id=\"课时九-重要目录和文件的权限设置\"><a href=\"#课时九-重要目录和文件的权限设置\" class=\"headerlink\" title=\"课时九 重要目录和文件的权限设置\"></a>课时九 重要目录和文件的权限设置</h2><p>Linux系统中的重要目录列表</p>\n<p><code>/etc/     </code>            系统管理和配置文件</p>\n<p><code>/etc/rc.d/init.d/  </code>   系统启动自动运行的脚本</p>\n<p><code>/tmp</code>          公共的临时文件存储点</p>\n<p><code>/etc/inetd.conf </code>    &#x2F;usr&#x2F;sbin&#x2F;inetd的初始化文件，需要监听的inet服务及有关信息</p>\n<p><code>/etc/passwd</code>    用户数据库</p>\n<p><code>/etc/shadow  </code>  影子口令文件</p>\n<p><code>/etc/group </code>      组的信息。</p>\n<p><code>/etc/security</code>    对每个pam模块的具体的配置</p>\n<p><code>/etc/services </code>   网络服务名和它们对应使用的端口号及协议</p>\n<p><code>/etc/rc*.d </code>      启动的配置文件和脚本</p>\n<h2 id=\"课时十-查找未授权的SUID-SGID文件\"><a href=\"#课时十-查找未授权的SUID-SGID文件\" class=\"headerlink\" title=\"课时十 查找未授权的SUID SGID文件\"></a>课时十 查找未授权的SUID SGID文件</h2><p>SUID：当s权限在所有者的x时，类似-r-s–x–x<br>SGID：当s权限在用户组的x时，类似-r-x–s–x<br>S是一种特殊权限，设置了suid的程序文件，在用户执行该程序时，用户的权限是该程序文件属主的权限<br>sgid与suid类似，只是执行程序时获得的是文件属组的权限。</p>\n<p>​\tSUID（Set User ID）和SGID（Set Group ID）是Unix和Linux操作系统中的两种特殊权限，它们分别影响执行文件和目录的行为。</p>\n<p><code>SUID权限：</code><br>当文件具有SUID权限时，执行该文件的用户将暂时获得文件所有者的权限。这意味着，即使执行文件的用户不是文件的所有者，他们也可以以文件所有者的身份执行该文件。SUID权限仅对可执行文件有效。例如，&#x2F;bin&#x2F;su 和 &#x2F;usr&#x2F;bin&#x2F;passwd 这两个命令的所有者的x权限上都使用了SUID权限。</p>\n<p><code>SGID权限：</code><br>当文件或目录具有SGID权限时，执行文件或在其中创建新文件的用户将暂时获得文件或目录所属组的权限。对于文件，SGID的作用与SUID类似，即执行文件时以文件所属组的身份执行。对于目录，SGID权限确保在该目录中创建的新文件将继承该目录的所属组，而不是创建者的主组。</p>\n<p>可用下面的命令查找系统中所有的SUID和SGID程序：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">for PART in `grep -v ^# /etc/fstab | awk &#x27;($6!=&quot;0&quot;&#123;print $2&#125;)&#x27;`;do find $PART -xdev \\(-perm -04000 -o -perm -02000\\) -type f -print done</span><br></pre></td></tr></table></figure>\n\n<p>让我们逐步分析这个命令：</p>\n<p>1.<code>grep -v ^# /etc/fstab:</code></p>\n<p>grep -v ^#: 这个命令会从 &#x2F;etc&#x2F;fstab 文件中过滤掉所有以 # 开头的行（即注释行）。<br>&#x2F;etc&#x2F;fstab: 是一个系统文件，它包含了关于磁盘分区、交换空间和其他文件系统的挂载信息。</p>\n<p>2.<code>awk &#39;($6!=&quot;0&quot;&#123;print $2&#125;)&#39;:</code></p>\n<p>awk: 是一个文本处理工具，用于模式扫描和文本&#x2F;数据提取。<br>($6!&#x3D;”0”{print $2}): 这是一个 awk 脚本，它会检查每一行的第六个字段（在 &#x2F;etc&#x2F;fstab 中通常是文件系统检查的顺序）是否不等于 “0”。如果不等于 “0”，则打印该行的第二个字段（通常是挂载点的路径）。</p>\n<p>3.<code>for PART in ...; do ... done:</code></p>\n<p>这是一个 shell 循环，它会遍历 awk 命令输出的每一个挂载点路径，并将每个路径存储在变量 PART 中。</p>\n<p>4.<code>find $PART -xdev \\(-perm -04000 -o -perm -02000\\) -type f -print:</code></p>\n<p>find: 是一个命令，用于在目录树中查找文件。<br>$PART: 是循环中当前迭代的挂载点路径。<br>-xdev: 这个选项确保 find 命令只在同一个文件系统上搜索，不会跨越设备边界。<br>\\(-perm -04000 -o -perm -02000\\): 这是一个复合条件，用于匹配具有 SUID (-perm -04000) 或 SGID (-perm -02000) 权限的文件。<br>-perm: 在find命令中，-perm选项用于检查文件的权限模式，以确定哪些文件与指定的权限模式匹配。这个选项通常与八进制或符号表示法一起使用，以指定要搜索的权限。<br>-type f: 这个选项限制 find 命令只搜索普通文件。<br>-print: 这个动作会打印出匹配的文件路径。</p>\n<h2 id=\"课时十一-检查任何人都有写权限的目录\"><a href=\"#课时十一-检查任何人都有写权限的目录\" class=\"headerlink\" title=\"课时十一 检查任何人都有写权限的目录\"></a>课时十一 检查任何人都有写权限的目录</h2><p>用下面的命令查找任何人都有写权限的目录：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">for PART in `awk&#x27;($3==&quot;ext2&quot;||$3==&quot;ext3&quot;)&#123;print $2&#125;&#x27; /etc/fstab`;do find $PART -xdev -type d \\(-perm -0002 -a ! -perm -1000\\) -print done</span><br></pre></td></tr></table></figure>\n\n<p>这段命令是一个组合的命令，用于在Linux系统中查找特定文件系统的特定目录权限设置。让我们逐步分析这个命令：</p>\n<ol>\n<li><strong>awk</strong> 命令：</li>\n</ol>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">awk <span class=\"string\">&#x27;($3==&quot;ext2&quot;||$3==&quot;ext3&quot;)&#123;print $2&#125;&#x27;</span> /etc/fstab</span><br><span class=\"line\">* `awk` 是一个强大的文本处理工具，常用于格式化文本数据。  </span><br><span class=\"line\">* 这个命令在 `/etc/fstab` 文件中搜索，这个文件通常包含文件系统的挂载信息。  </span><br><span class=\"line\">* `(<span class=\"variable\">$3</span>==<span class=\"string\">&quot;ext2&quot;</span>||<span class=\"variable\">$3</span>==<span class=\"string\">&quot;ext3&quot;</span>)`：这是一个条件，检查第三列（在 `awk` 中列从1开始计数）是否等于 <span class=\"string\">&quot;ext2&quot;</span> 或 <span class=\"string\">&quot;ext3&quot;</span>。在 `/etc/fstab` 中，第三列通常表示文件系统的类型。  </span><br><span class=\"line\">* `&#123;<span class=\"built_in\">print</span> <span class=\"variable\">$2</span>&#125;`：如果上述条件为真，则打印第二列的内容，即文件系统的挂载点或挂载路径。</span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li><strong>for</strong> 循环：</li>\n</ol>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> PART <span class=\"keyword\">in</span> `...awk命令...`; <span class=\"keyword\">do</span> ... <span class=\"keyword\">done</span></span><br><span class=\"line\">* 这是一个bash shell循环，它会遍历 `awk` 命令的输出结果（即所有满足条件的挂载点）。  </span><br><span class=\"line\">* 对于每一个 `PART`（挂载点），它都会执行 `<span class=\"keyword\">do</span>` 和 `<span class=\"keyword\">done</span>` 之间的命令。</span><br></pre></td></tr></table></figure>\n\n<ol start=\"3\">\n<li><strong>find</strong> 命令：</li>\n</ol>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">find <span class=\"variable\">$PART</span> -xdev -<span class=\"built_in\">type</span> d \\(-perm -0002 -a ! -perm -1000\\) -<span class=\"built_in\">print</span></span><br><span class=\"line\">* `find` 命令用于在文件系统中搜索文件。  </span><br><span class=\"line\">* `<span class=\"variable\">$PART</span>`：这是循环中的变量，代表每一个挂载点。  </span><br><span class=\"line\">* `-xdev`：这个选项告诉 `find` 命令只在同一个设备（或文件系统）中搜索，不跨越其他设备。  </span><br><span class=\"line\">* `-<span class=\"built_in\">type</span> d`：只搜索目录。  </span><br><span class=\"line\">* `(-perm -0002 -a ! -perm -1000)`：这是一个复杂的权限检查。  </span><br><span class=\"line\">  </span><br><span class=\"line\">  </span><br><span class=\"line\">\t+ `-perm -0002`：搜索所有设置了“其他用户有写权限”的目录。  </span><br><span class=\"line\">\t+ `-a`：逻辑AND，确保两个条件都为真。  </span><br><span class=\"line\">\t+ `! -perm -1000`：排除所有设置了“用户有执行权限且其他用户和组没有任何权限”的目录。这通常用于排除设置了SGID位（<span class=\"built_in\">set</span> group ID）的目录。  </span><br><span class=\"line\">* `-<span class=\"built_in\">print</span>`：对于每一个满足条件的目录，打印其路径。</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"课时十二-查找任何人都有写权限的文件\"><a href=\"#课时十二-查找任何人都有写权限的文件\" class=\"headerlink\" title=\"课时十二 查找任何人都有写权限的文件\"></a>课时十二 查找任何人都有写权限的文件</h2><p>用下面的命令查找任何人都有写权限的文件：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">for PART in `grep -v ^# /etc/fstab | awk &#x27;($6!=&quot;0&quot;)&#123;print $2&#125;&#x27;`;do find $PART -xdev -type f \\(-perm -0002 -a ! -perm -1000\\) -print done</span><br></pre></td></tr></table></figure>\n\n<p>这个命令组合的目的是在系统中查找所有在 <code>/etc/fstab</code> 中定义的非注释且 <code>fs_passno</code> 不为 <code>0</code> 的挂载点，并在这些挂载点中搜索所有设置了“其他用户有写权限”但没有设置SGID位的文件，并打印这些文件的路径。这通常用于安全审计，以确保没有敏感文件被设置为可以被任何用户写入。</p>\n<p>1.<strong>grep</strong> 命令：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">grep -v ^<span class=\"comment\"># /etc/fstab</span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><code>grep</code> 是一个文本搜索工具，用于搜索文件中的文本模式。</li>\n<li><code>-v</code> 选项告诉 <code>grep</code> 排除（或反转）匹配的行。</li>\n<li><code>^#</code> 是一个正则表达式，匹配以 <code>#</code> 符号开头的行。在 <code>/etc/fstab</code> 文件中，<code>#</code> 通常用于注释行。因此，<code>grep -v ^# /etc/fstab</code> 会输出所有非注释行的内容。</li>\n</ul>\n<p>2.<strong>awk</strong> 命令：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">awk <span class=\"string\">&#x27;($6!=&quot;0&quot;)&#123;print $2&#125;&#x27;</span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>这个 <code>awk</code> 命令检查第六列（字段）是否不等于 <code>&quot;0&quot;</code>。在 <code>/etc/fstab</code> 文件中，第六列通常表示文件系统检查的顺序（<code>fs_passno</code>），其中 <code>0</code> 表示不检查。</li>\n<li>如果第六列不等于 <code>&quot;0&quot;</code>，则打印第二列（即文件系统挂载点）</li>\n</ul>\n<p>3.<strong>for</strong> 循环：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> PART <span class=\"keyword\">in</span> `...grep和awk命令...`; <span class=\"keyword\">do</span> ... <span class=\"keyword\">done</span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>这是一个 <code>for</code> 循环，它会遍历 <code>grep</code> 和 <code>awk</code> 命令的输出结果（即所有非注释且 <code>fs_passno</code> 不为 <code>0</code> 的挂载点）。</li>\n<li>对于每一个 <code>PART</code>（挂载点），它都会执行 <code>do</code> 和 <code>done</code> 之间的命令。</li>\n</ul>\n<p>4.<strong>find</strong> 命令：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">find <span class=\"variable\">$PART</span> -xdev -<span class=\"built_in\">type</span> f \\(-perm -0002 -a ! -perm -1000\\) -<span class=\"built_in\">print</span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><code>find</code> 命令用于在文件系统中搜索文件。</li>\n<li><code>-type f</code>：这次搜索的是文件（而不是目录）。</li>\n<li>权限检查 <code>(-perm -0002 -a ! -perm -1000)</code> 与之前的命令相同：搜索所有设置了“其他用户有写权限”的文件，并排除设置了SGID位（<code>set group ID</code>）的文件。</li>\n<li><code>-print</code>：对于每一个满足条件的文件，打印其路径。</li>\n</ul>\n<h2 id=\"课时十三-检查没有属主的文件\"><a href=\"#课时十三-检查没有属主的文件\" class=\"headerlink\" title=\"课时十三 检查没有属主的文件\"></a>课时十三 检查没有属主的文件</h2><p>发现没有属主的文件往往就意味着有黑客入侵你的系统了。不能允许没有主人的文件存在。如果在系统中发现了没有主人的文件或目录，先查看它的完整性，如果一切正常，给它一个主人。有时候卸载程序可能会出现一些没有主人的文件或目录，在这种情况下可以把这些文件和目录删除掉。</p>\n<p>用下面的命令查找没有属主的文件</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">for PART in `grep -v ^# /etc/fstab | awk &#x27;($6!=&quot;0&quot;)&#123;print $2&#125;&#x27;`;do find $PART -nouser -o -nogroup -print done</span><br></pre></td></tr></table></figure>\n\n<p>这个命令组合使用了 <code>grep</code>、<code>awk</code> 和 <code>find</code> 命令来搜索文件系统中可能存在的没有关联用户或组的文件。我们来逐步分析这个命令：</p>\n<p>1.<strong>grep</strong> 命令：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">grep -v ^<span class=\"comment\"># /etc/fstab</span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>如同之前，<code>grep -v ^# /etc/fstab</code> 用来过滤掉 <code>/etc/fstab</code> 文件中的注释行。</li>\n</ul>\n<p>2.<strong>awk</strong> 命令：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">awk <span class=\"string\">&#x27;($6!=&quot;0&quot;)&#123;print $2&#125;&#x27;</span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>这个 <code>awk</code> 命令依然检查 <code>/etc/fstab</code> 文件的第六列（<code>fs_passno</code>），确保它不等于 <code>&quot;0&quot;</code>。</li>\n<li>如果第六列不等于 <code>&quot;0&quot;</code>，则打印第二列（文件系统挂载点）。</li>\n</ul>\n<p>3.<strong>for</strong> 循环：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> PART <span class=\"keyword\">in</span> `...grep和awk命令...`; <span class=\"keyword\">do</span> ... <span class=\"keyword\">done</span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>这是一个 <code>for</code> 循环，它会遍历所有由 <code>grep</code> 和 <code>awk</code> 命令输出的非注释且 <code>fs_passno</code> 不为 <code>0</code> 的挂载点。</li>\n</ul>\n<p>4.<strong>find</strong> 命令：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">find <span class=\"variable\">$PART</span> -nouser -o -nogroup -<span class=\"built_in\">print</span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><code>find</code> 命令在指定的挂载点 <code>$PART</code> 中搜索文件。</li>\n<li><code>-nouser</code>：搜索没有关联用户的文件。这些文件通常是因为文件的所有者被删除，但文件依然存在。</li>\n<li><code>-o</code>：逻辑 OR，表示接下来的条件也是搜索的一部分。</li>\n<li><code>-nogroup</code>：搜索没有关联组的文件。这些文件通常是因为文件的组被删除，但文件依然存在。</li>\n<li><code>-print</code>：打印满足条件的文件的路径。</li>\n</ul>\n<h2 id=\"课时十四-检查异常隐含文件\"><a href=\"#课时十四-检查异常隐含文件\" class=\"headerlink\" title=\"课时十四 检查异常隐含文件\"></a>课时十四 检查异常隐含文件</h2><p>异常隐藏文件可能是隐藏的黑客工具或者其它一些信息（口令破解程序、其它系统的口令文件，等等）。常用的技术就是用一些特殊的名，如：“…”、“..”或“..＾G”，来隐含文件或目录。</p>\n<p>用下面的命令检查异常隐含文件</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">find / -xdev -name <span class=\"string\">&quot;..*&quot;</span> -<span class=\"built_in\">print</span></span><br><span class=\"line\">find / -xdev -name <span class=\"string\">&quot;...*&quot;</span> -<span class=\"built_in\">print</span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><code>/</code>：从文件系统的根目录开始搜索。</li>\n<li><code>-xdev</code>：限制搜索到同一文件系统内，不会跨越到其他设备或挂载点。</li>\n<li><code>-name &quot;..*&quot;</code>：搜索文件名以 <code>..</code> 开头的文件。在UNIX和Linux文件系统中，<code>..</code> 通常表示上一级目录，但这里它被用作文件名的一部分。因此，这个命令将匹配所有以 <code>..</code> 开头的文件名。</li>\n<li><code>-print</code>：打印找到的文件路径。</li>\n</ul>\n<h2 id=\"课时十五-登录超时设置\"><a href=\"#课时十五-登录超时设置\" class=\"headerlink\" title=\"课时十五 登录超时设置\"></a>课时十五 登录超时设置</h2><p>设置登录超时时间为5分钟：</p>\n<p>编辑／etc／profile文件，添加以下内容（单位为秒）</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">export TMOUT=300</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"课时十六-syslog登录事件记录\"><a href=\"#课时十六-syslog登录事件记录\" class=\"headerlink\" title=\"课时十六 syslog登录事件记录\"></a>课时十六 syslog登录事件记录</h2><p><code>/etc/syslog.conf文件</code></p>\n<p>syslog采用可配置的、统一的系统登记程序，随时从系统各处接受log请求，然后根据／etc／syslog.conf中的预先设定把log信息写入相应文件中、邮寄给特定用户或者直接以消息的方式发往控制台。</p>\n<p>syslog.conf文件是一个传统的 Unix&#x2F;Linux 系统日志配置文件，用于定义哪些类型的消息应该被记录到哪些日志文件，以及如何将消息发送到其他机器上的 syslog 服务。</p>\n<p>syslog.conf的格式：</p>\n<p>一项配置记录：“选项”（selector）和“动作”（action），Tab制表符进行分隔（空格间隔无效）。</p>\n<p>“选项”又由一个或多个形如“类型.级别”格式的保留字段组合而成，各保留字段间用分号分隔。</p>\n<p>例：mail.* &#x2F;var&#x2F;log&#x2F;mail.log </p>\n<p><strong>级别：</strong><br>emerg     紧急，通常应广播到所有用户；<br>alert      告警，当前状态必须立即进行纠正；<br>crit        关键状态的警告。例如，硬件故障；<br>err        其它错误；<br>Warn      警告；</p>\n<p><strong>级别：代表信息的重要性</strong><br>notice     注意；非错误状态的报告，但应特别处理；<br>info       通报信息；<br>debug      调试程序时的信息；<br>none       通常调试程序时用，指示带有none级别的类型产生的信息无需送出</p>\n<p><strong>动作：</strong><br>&#x2F;filename   日志文件。 由绝对路径指出的文件名，此文件必须事先建立<br>@host     远程主机；@符号后面可以是IP也可以是域名；<br>useruser2指定用户。女如果指定用户已登录，那么他们将收到信息；所有用户，所有已登录的用户都将收到信息</p>\n<p><code>syslog.conf登录事件记录</code></p>\n<p>利用syslog登录事件记录</p>\n<p>查看&#x2F;etc&#x2F;syslog.conf文件，是否包含authpriv，存在authpriv即启用了事件记录，并且后面就是日志文件的位置</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">more /etc/syslog.conf</span><br></pre></td></tr></table></figure>\n\n\n\n<ol>\n<li><p><strong>确定日志文件的位置</strong>：</p>\n<ul>\n<li>对于传统的<code>syslog</code>，登录事件通常记录在<code>/var/log/secure</code>或<code>/var/log/auth.log</code>中。</li>\n<li>对于<code>rsyslog</code>，你可能需要查看<code>/var/log/syslog</code>或<code>/var/log/auth.log</code>，具体取决于你的配置。</li>\n<li>对于<code>syslog-ng</code>，日志文件的位置可能会有所不同，取决于你的配置。</li>\n</ul>\n</li>\n<li><p><strong>查看日志文件</strong>：<br>你可以使用<code>cat</code>、<code>tail</code>、<code>less</code>或<code>grep</code>等命令来查看和搜索日志文件。例如，要查看<code>/var/log/secure</code>文件中的登录事件，你可以使用：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo <span class=\"built_in\">cat</span> /var/log/secure</span><br></pre></td></tr></table></figure>\n\n<p>或者，如果你只想查看最近的登录事件，可以使用：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo <span class=\"built_in\">tail</span> -f /var/log/secure</span><br></pre></td></tr></table></figure>\n\n<p>要搜索特定的登录事件，例如用户”john”的登录尝试，可以使用：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo grep <span class=\"string\">&quot;john&quot;</span> /var/log/secure</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong>检查syslog配置文件</strong>：<br>要确定哪些登录事件被记录到syslog，你需要查看syslog的配置文件。对于<code>rsyslog</code>，这通常是<code>/etc/rsyslog.conf</code>或<code>/etc/rsyslog.d/</code>目录下的文件。对于<code>syslog-ng</code>，配置文件通常是<code>/etc/syslog-ng/syslog-ng.conf</code>。</p>\n<p>在配置文件中，你可能会找到类似于以下的行，这些行定义了哪些消息应该被记录到哪个文件或远程主机：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">auth,authpriv.*                 /var/log/secure</span><br></pre></td></tr></table></figure>\n\n<p>这表示所有与认证相关的消息（<code>auth</code>和<code>authpriv</code>设施）都被记录到<code>/var/log/secure</code>文件中。</p>\n</li>\n<li><p><strong>重启syslog服务</strong>：<br>如果你对配置文件进行了更改，记得重启syslog服务以应用更改。对于<code>rsyslog</code>，可以使用以下命令：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo systemctl restart rsyslog</span><br></pre></td></tr></table></figure>\n\n<p>对于<code>syslog-ng</code>，使用：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo systemctl restart syslog-ng</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong>使用日志分析工具</strong>：<br>对于大量的日志数据，手动搜索可能不太高效。你可以考虑使用日志分析工具，如<code>logwatch</code>、<code>multitail</code>、<code>journalctl</code>（对于使用systemd的系统）等，来帮助你更有效地分析和查看日志。</p>\n</li>\n</ol>\n<p>syslog 登录事件记录主要用于以下几个目的：</p>\n<ol>\n<li><strong>安全审计</strong>：syslog 可以记录所有与登录相关的事件，包括成功的登录尝试、失败的登录尝试、账户锁定等。这些记录可以用于分析系统中是否存在未经授权的访问尝试或其他安全事件。</li>\n<li><strong>故障排查</strong>：当系统出现问题或用户报告无法登录时，syslog 登录事件记录可以帮助管理员快速定位问题。例如，如果多个用户报告无法登录，管理员可以查看syslog记录来查找是否有任何相关的错误或警告消息。</li>\n<li><strong>合规性和监管</strong>：在某些行业或地区，法规可能要求保留特定的日志记录以满足合规性要求。syslog 登录事件记录可以作为这些合规性审计的一部分。</li>\n<li><strong>系统监控</strong>：通过实时监控syslog登录事件记录，管理员可以及时发现任何可疑的活动或异常行为，从而采取适当的措施来应对潜在的安全威胁。</li>\n<li><strong>用户行为分析</strong>：通过分析syslog登录事件记录，管理员可以了解用户的行为模式，例如登录时间、登录频率、登录来源等。这有助于识别异常的用户行为或潜在的安全风险。</li>\n</ol>\n<p>总之，syslog 登录事件记录是系统安全和管理的重要工具，它提供了关于用户登录活动的详细信息，有助于管理员维护系统的安全性和稳定性。</p>\n<h2 id=\"课时十七-syslog-conf的配置审核\"><a href=\"#课时十七-syslog-conf的配置审核\" class=\"headerlink\" title=\"课时十七 syslog.conf的配置审核\"></a>课时十七 syslog.conf的配置审核</h2><p>如何审核系统的syslog.con的的配置满足要求呢？<br>执行more&#x2F;etc&#x2F;syslog.conf，查看是否包含下列项目：<br>Kern.*@host<br><em>.err@host<br>authpriv. @host<br>.info@host<br>mail.none@host<br>cron.none @host<br>.emerg@host<br>local7.</em>@host</p>\n<h2 id=\"课时十八-Web\"><a href=\"#课时十八-Web\" class=\"headerlink\" title=\"课时十八 Web\"></a>课时十八 Web</h2><p><code>隐藏Apache版本信息</code>，web服务器默认可以暴露apache版本信息<br><code>修改Apache配置文件/etc/httpd.conf，设置以下参数：</code></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ServerSignatureff  //禁止服务器端生成文档的页脚！</span><br><span class=\"line\">ServerTokensProd    //不包含OS类型和编译进的模块描述信息</span><br></pre></td></tr></table></figure>\n\n\n\n<p><code>禁止访问指定类型文件</code><br><code>修改Apache配置文件/etc/httpd.conf，设置以下参数：</code></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;FilesMatch &quot;.(htaccess|htpasswd|ini|conf|jpg|gif|png|bmp|sh)&gt;</span><br><span class=\"line\">Order allow,deny</span><br><span class=\"line\">Deny from all</span><br><span class=\"line\">&lt;/FilesMatch&gt;</span><br></pre></td></tr></table></figure>\n\n<p>&lt;FilesMatch “.(htaccess|htpasswd|ini|conf|jpg|gif|png|bmp|sh）&gt;: 这是一个<FilesMatch>指令，它用于匹配文件名模式。在这里，它匹配任何以.htaccess、.htpasswd、.ini、.conf、.jpg、.gif、.png、.bmp、或.sh结尾的文件。</FilesMatch></p>\n<p>Order allow,deny: 这个指令定义了允许和拒绝访问的顺序。allow指令在前，deny在后。这意味着，如果一个用户匹配到allow规则，他们将被允许访问；否则，他们将匹配deny规则。</p>\n<p>Deny from all: 这个指令告诉服务器拒绝所有用户的访问。由于Order指令设置了先允许后拒绝的顺序，这条规则实际上会拒绝所有尝试访问匹配文件类型的用户，因为没有任何allow规则在前面允许他们的访问。</p>\n<p>: 这是<FilesMatch>指令的结束标签。</FilesMatch></p>\n<p>在更现代的Apache配置中，<code>Order</code>, <code>Allow</code>, 和 <code>Deny</code> 指令已被 <code>Require</code> 指令取代，用于更简洁和安全地控制访问权限。例如：</p>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"section\">&lt;FilesMatch <span class=\"string\">&quot;.(htaccess|htpasswd|ini|conf|sh)$&quot;</span>&gt;</span>  </span><br><span class=\"line\">    <span class=\"attribute\">Require</span> <span class=\"literal\">all</span> denied  </span><br><span class=\"line\"><span class=\"section\">&lt;/FilesMatch&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>这将达到同样的效果，即禁止所有用户访问匹配的文件类型。</p>\n<h2 id=\"课时十九-FTP\"><a href=\"#课时十九-FTP\" class=\"headerlink\" title=\"课时十九 FTP\"></a>课时十九 FTP</h2><p>FTP（File Transfer Protocol，文件传输协议）的匿名用户的名称账号通常是“anonymous”。这是大多数提供公共资料的FTP服务器都提供的匿名服务，允许Internet用户随时访问这些服务器而不需要预先向服务器申请账号。在匿名FTP服务中，用户可以使用“anonymous”作为账号，而密码通常是“guest”或者用户的电子邮箱地址。</p>\n<p>为了保证FTP服务器的安全，几乎所有匿名服务器都只允许用户从服务器上下载文件，而不能上传或修改服务器上的内容。这是因为匿名用户没有经过身份验证，服务器无法确认其身份和权限，因此只能提供有限的访问权限。</p>\n<p><code>禁止匿名用户访问及上传</code><br><code>修改vsftpd配置文件/etc/vsftpd/vsftpd.conf</code>，设置以下参数：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">anonymous_enable=NO           //禁止匿名访问</span><br><span class=\"line\">anon_upload_enable=NO          //禁止匿名用户上传文件</span><br><span class=\"line\">anon_mkdir_write_enable=NO  \t//禁止匿名用户的写和创建目录的权限</span><br><span class=\"line\">anon_other_write_enable=NO    //禁止匿名用户进行删除或者改名等操作</span><br></pre></td></tr></table></figure>\n\n\n\n<p><code>限制服务器链接数</code></p>\n<p><code>修改vsftpd配置文件/etc/vsftpd/vsftpd.conf</code>，设置以下参数：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">maxclients=10             //最大链接数</span><br><span class=\"line\">max_per_ip=5              //每个IP的最大链接数</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"课时二十-SSH\"><a href=\"#课时二十-SSH\" class=\"headerlink\" title=\"课时二十 SSH\"></a>课时二十 SSH</h2><p><code>禁止root用户登录</code></p>\n<p><code>修改ssh配置文件/etc/ssh/sshd_config</code>，设置以下参数：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">PermitRootLogin no</span><br></pre></td></tr></table></figure>\n\n\n\n<p><code>禁止空密码用户登录</code></p>\n<p><code>修改ssh配置文件/etc/ssh/sshd_config</code>，设置以下参数:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">PermitEmptyPasswords no</span><br></pre></td></tr></table></figure>\n\n\n\n<p>SSH禁止root用户和空密码用户登录具有以下几个重要作用：</p>\n<ol>\n<li><strong>安全性增强</strong>：<ul>\n<li><strong>禁止root用户登录</strong>：root用户拥有系统的最高权限，可以执行任何操作。如果root账户被恶意用户获取，那么整个系统都可能面临被完全控制的风险。通过禁止root用户直接通过SSH登录，可以大大降低这种风险。</li>\n<li><strong>禁止空密码用户登录</strong>：空密码意味着没有设置密码，这意味着任何知道该用户名的人都可以无需任何验证即可登录。这显然是一个巨大的安全隐患。禁止空密码用户登录可以防止这种情况发生。</li>\n</ul>\n</li>\n<li><strong>权限控制</strong>：<ul>\n<li>通过禁止root用户直接登录，可以强制用户使用普通用户账户登录，然后通过sudo或其他机制提升权限。这样可以更好地控制和管理用户的权限。</li>\n</ul>\n</li>\n<li><strong>审计和日志记录</strong>：<ul>\n<li>当系统被攻击或发生问题时，审计和日志记录是非常重要的。如果允许root用户直接登录，那么攻击者可能会迅速隐藏其踪迹。通过禁止root登录，可以确保所有操作都通过普通用户账户进行，从而更容易追踪和审计。</li>\n</ul>\n</li>\n<li><strong>遵循最佳实践</strong>：<ul>\n<li>在系统管理和网络安全领域，禁止root用户和空密码用户直接通过SSH登录被广泛认为是最佳实践之一。这有助于确保系统的安全性和稳定性。</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"课时二十一-iptables\"><a href=\"#课时二十一-iptables\" class=\"headerlink\" title=\"课时二十一 iptables\"></a>课时二十一 iptables</h2><p>iptables是一个网络包过滤器，用于在Linux系统中控制和过滤网络流量。包过滤防火墙（pack filtering）在网络层对数据包进行选择过滤，采用访问控制列表（AccesscontroltableACL）检查数据流的源地址，目的地址，源和目的端口，IP等信息。</p>\n<p><code>iptables基础</code></p>\n<p>1.规则（rules）：网络管理员预定义的条件<br>2.链（chains）：数据包传播的路径<br>3.表（tables）：内置3个表：filter表，nat表，mangle表</p>\n<p>4.iptables命令格式：<br>    iptables[-t表]命令匹配动作<br>      动作选项：<br>     （1）ACCEPT      接收数据包（2）DROP        去弃数据包</p>\n<p><code>iptables实例</code><br>1.查看filter表所有链的规则列表</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">iptables -t filter -nL</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><code>iptables</code>: 调用 iptables 工具。</li>\n<li><code>-t filter</code>: 指定表（table）为 <code>filter</code>。<code>filter</code> 表是 iptables 中最常用的表，它包含用于处理数据包过滤的规则。</li>\n<li><code>-n</code>: 使用数字格式显示地址和端口，而不是尝试解析主机名、网络名或服务名。</li>\n<li><code>L</code>: 列出（List）规则。</li>\n</ul>\n<p>执行这个命令后，你会看到 <code>filter</code> 表中定义的所有规则。这通常包括 <code>INPUT</code>、<code>OUTPUT</code> 和 <code>FORWARD</code> 这三个链（chain）的规则，这些链分别用于处理进入、离开和转发通过系统的数据包。</p>\n<p>2.清除已有iptables规则</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">iptables -F</span><br><span class=\"line\">iptables -X</span><br></pre></td></tr></table></figure>\n\n<p>iptables -F这个命令用于清空（Flush）指定链上的所有规则。如果不指定链名，该命令将清空所有链上的规则。</p>\n<p>ptables -X这个命令用于删除（Delete）指定的用户自定义链。如果链中存在任何规则或引用，该命令会失败，除非使用 -f 选项强制删除链及其规则。</p>\n<p>3.禁止IP为10.10.8.5的主机从eth0访问本机</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">iptables -t filter -A INPUT -s 10.10.8.5 -i eth0 -j DROP</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><code>iptables</code>: 调用 iptables 工具。</li>\n<li><code>-t filter</code>: 指定表（table）为 <code>filter</code>。<code>filter</code> 表用于处理数据包的过滤。</li>\n<li><code>-A INPUT</code>: 在 <code>INPUT</code> 链（chain）中添加（Append）一条规则。<code>INPUT</code> 链用于处理进入系统的数据包。</li>\n<li><code>-s 10.10.8.5</code>: 指定源 IP 地址为 <code>10.10.8.5</code>。这意味着规则仅适用于从该 IP 地址发出的数据包。</li>\n<li><code>-i eth0</code>: 指定网络接口为 <code>eth0</code>。这意味着规则仅适用于通过该接口接收到的数据包。</li>\n<li><code>-j DROP</code>: 指定目标动作为 <code>DROP</code>。这意味着匹配该规则的数据包将被丢弃，不会被传递或处理。</li>\n</ul>\n<p>4.禁止子网172.16.0.0&#x2F;16访问Web服务</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">iptables-t filter -A INPUT -s 172.16.0.0/16 -p tcp --dport 80 -j DROP</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><code>-s 172.16.0.0/16</code>: 指定源 IP 地址范围为 <code>172.16.0.0</code> 到 <code>172.16.255.255</code>。CIDR 表示法 <code>/16</code> 表示前 16 位是网络地址，后 16 位是主机地址。这意味着规则适用于从 <code>172.16.0.0</code> 到 <code>172.16.255.255</code> 范围内的所有 IP 地址发出的数据包。</li>\n<li><code>-p tcp</code>: 指定协议类型为 TCP。</li>\n<li><code>--dport 80</code>: 指定目标端口为 80，即 HTTP 服务的默认端口。</li>\n<li><code>-j DROP</code>: 指定动作为 <code>DROP</code>，即丢弃匹配该规则的数据包。</li>\n</ul>\n<p>综合以上各个部分，这条命令的作用是：在 filter 表的 INPUT 链中添加一条规则，该规则将丢弃所有来自 172.16.0.0&#x2F;16的 IP 地址范围，且目标端口为 80（HTTP 服务）的 TCP 数据包。</p>\n",
            "tags": [
                "原创",
                "转载",
                "信息安全"
            ]
        },
        {
            "id": "https://w-sqrt7.github.io/2024/02/27/eNSP/%E7%BD%91%E5%9F%BA%E5%AE%9E%E8%B7%B5%E9%A2%98-%E5%8F%82%E8%80%83%E5%91%BD%E4%BB%A4/",
            "url": "https://w-sqrt7.github.io/2024/02/27/eNSP/%E7%BD%91%E5%9F%BA%E5%AE%9E%E8%B7%B5%E9%A2%98-%E5%8F%82%E8%80%83%E5%91%BD%E4%BB%A4/",
            "title": "网基实践题-参考命令",
            "date_published": "2024-02-27T07:18:09.227Z",
            "content_html": "<h1 id=\"网基实践题-参考命令\"><a href=\"#网基实践题-参考命令\" class=\"headerlink\" title=\"网基实践题-参考命令\"></a>网基实践题-参考命令</h1><h2 id=\"ENSP关闭模拟终端提示\"><a href=\"#ENSP关闭模拟终端提示\" class=\"headerlink\" title=\"ENSP关闭模拟终端提示\"></a>ENSP关闭模拟终端提示</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">undo terminal monitor\t#关闭模拟终端提示</span><br><span class=\"line\">undo info-center enable\t#关闭终端的告警或日志显示</span><br><span class=\"line\">undo info enable\t#关闭信息提示</span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"配置Access接口，并加入对应的VLAN\"><a href=\"#配置Access接口，并加入对应的VLAN\" class=\"headerlink\" title=\"配置Access接口，并加入对应的VLAN\"></a>配置Access接口，并加入对应的VLAN</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[SW1]interface GigabitEthernet 0/0/1\t//进入g0/0/1接口</span><br><span class=\"line\">[SW1-GigabitEthernet0/0/1]port link-type access\t//设置连接方式为access</span><br><span class=\"line\">[SW1-GigabitEthernet0/0/1]port default vlan 10\t//设置默认vlan10 </span><br><span class=\"line\">[SW1-GigabitEthernet0/0/1]quit</span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"配置Trunk接口，并创建对应的允许通过列表\"><a href=\"#配置Trunk接口，并创建对应的允许通过列表\" class=\"headerlink\" title=\"配置Trunk接口，并创建对应的允许通过列表\"></a>配置Trunk接口，并创建对应的允许通过列表</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[SW1]interface GigabitEthernet 0/0/3\t</span><br><span class=\"line\">[SW1-GigabitEthernet0/0/3]port link-type trunk\t//设置连接方式为trunk，常用于和上层连接的端口</span><br><span class=\"line\">[SW1-GigabitEthernet0/0/3]port trunk allow-pass vlan 10 20\t//设置允许vlan10和vlan20的数据通过，可设值vlan all</span><br><span class=\"line\">[SW1-GigabitEthernet0/0/3]quit</span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"配置接口IP\"><a href=\"#配置接口IP\" class=\"headerlink\" title=\"配置接口IP\"></a>配置接口IP</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[Huawei]interface GigabitEthernet 0/0/1</span><br><span class=\"line\">[Huawei-GigabitEthernet 0/0/1]ip address 192.168.50.1 24</span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"配置子接口IP，动态dot1q封装\"><a href=\"#配置子接口IP，动态dot1q封装\" class=\"headerlink\" title=\"配置子接口IP，动态dot1q封装\"></a>配置子接口IP，动态dot1q封装</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;Huawei&gt;sys</span><br><span class=\"line\">[Huawei]interface GigabitEthernet 0/0/0.1\t//进入g0/0/0.1子接口</span><br><span class=\"line\">[Huawei-GigabitEthernet 0/0/0.1]ip address 192.168.10.1 24\t//配置子接口IP地址</span><br><span class=\"line\">[Huawei-GigabitEthernet 0/0/0.1]dot1q termination vid 10\t//给子接口封装dot1q协议，允许vlan10 通过</span><br><span class=\"line\">[Huawei-GigabitEthernet 0/0/0.1]arp broadcast enable\t//启动arp广播功能功能</span><br><span class=\"line\">[Huawei-GigabitEthernet 0/0/0.1]quit</span><br><span class=\"line\">[Huawei]int g0/0/0.2</span><br><span class=\"line\">[Huawei-GigabitEthernet 0/0/0.2]dot1q termination vid 20</span><br><span class=\"line\">[Huawei-GigabitEthernet 0/0/0.2]ip address 192.168.20.1 24</span><br><span class=\"line\">[Huawei-GigabitEthernet 0/0/0.2]arp broadcast enable</span><br><span class=\"line\">[Huawei-GigabitEthernet 0/0/0.2]quit</span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"创建vlan-配置vlanip\"><a href=\"#创建vlan-配置vlanip\" class=\"headerlink\" title=\"创建vlan,配置vlanip\"></a>创建vlan,配置vlanip</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[Huawei]vlan batch 100 200\t//创vlan 100 和vlan 200</span><br><span class=\"line\">[Huawei]vlan batch 100 to 200</span><br><span class=\"line\">[Huawei]vlan 100</span><br><span class=\"line\"></span><br><span class=\"line\">[Huawei]int Vlanif 1 //配置vlan的ip地址</span><br><span class=\"line\">[Huawei-Vlanif 1]ip address 172.16.50.1 24</span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"配置DHCP\"><a href=\"#配置DHCP\" class=\"headerlink\" title=\"配置DHCP\"></a>配置DHCP</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;Huawei&gt;sys</span><br><span class=\"line\">[Huawei]sysname AR3</span><br><span class=\"line\">[AR3]dhcp enable\t//启用DHCP功能</span><br><span class=\"line\">[AR3]ip pool testpool\t//设置地址池，testpool为自定的地址池名称</span><br><span class=\"line\">[AR3-ip-pool-testpool]gateway-list 192.168.10.1\t//配置网关</span><br><span class=\"line\">[AR3-ip-pool-testpool]network 192.168.10.0 mask 255.255.255.0\t//配置网段</span><br><span class=\"line\">[AR3-ip-pool-testpool]excluded-ip-address 192.168.10.2 192.168.10.100\t//禁用某个段的IP</span><br><span class=\"line\">[AR3-ip-pool-testpool]excluded-ip-address 192.168.10.201 192.168.10.254</span><br><span class=\"line\">[AR3-ip-pool-testpool]dns-list 114.114.114.114\t//配置dns</span><br><span class=\"line\">[AR3-ip-pool-testpool]lease day 2 hour 5 minute 30\t//配置逾期时间</span><br><span class=\"line\">[AR3-ip-pool-testpool]quit</span><br><span class=\"line\">[AR3]int g0/0/0\t\t//配置连接的接口</span><br><span class=\"line\">[AR3-GigabitEthernet0/0/0]ip address 192.168.10.1 24 //给端口设置ip地址，即网关地址</span><br><span class=\"line\">[AR3-GigabitEthernet0/0/0]dhcp select global\t//选择全局模式</span><br><span class=\"line\">[AR3-GigabitEthernet0/0/0]quit</span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"配置telnet远程登录\"><a href=\"#配置telnet远程登录\" class=\"headerlink\" title=\"配置telnet远程登录\"></a>配置telnet远程登录</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;AR 1&gt;sys</span><br><span class=\"line\">[AR 1]telnet server enable\t\t//启用Telnet服务器</span><br><span class=\"line\">[AR 1]user-interface vty 0 4\t//选择虚拟终端接口范围，从0到4。VTY（Virtual Teletype）接口通常用于远程登录，如Telnet或SSH。0到4即最多同时5个虚拟终端会话</span><br><span class=\"line\">[AR 1-ui-vty0-4]authentication-mode  aaa\t\t//设置认证模式为AAA（Authentication, Authorization, and Accounting）。这意味着远程用户登录时，将使用AAA框架进行身份验证、授权和计费。即需要用户名和密码，设为password时，只需要密码</span><br><span class=\"line\">[AR 1-ui-vty0-4](user privilege level 3)\t\t//设置用户权限级别为3,可进入aaa配置单个用户的权限</span><br><span class=\"line\">[AR 1-ui-vty0-4]quit</span><br><span class=\"line\">[AR 1]aaa\t\t//进入AAA配置模式。从这里开始，您可以配置与AAA相关的各种参数，如用户、角色、权限等。</span><br><span class=\"line\">[AR 1-aaa]local-user service-type telnet\t//用于指定本地用户的接入类型为 Telnet</span><br><span class=\"line\">[AR 1-aaa]local-user sqrt password cipher abcd (privilege level 3)\t\t//在AAA模式下，创建一个本地用户名为“sqrt”，并为其设置加密密码“abcd”。cipher 指的是密码是以加密方式存储的，可使用simple，即明文方式</span><br></pre></td></tr></table></figure>\n\n\n\n\n\n<h2 id=\"常用命令总结（转载）\"><a href=\"#常用命令总结（转载）\" class=\"headerlink\" title=\"常用命令总结（转载）\"></a>常用命令总结（转载）</h2><p>原文链接：<a href=\"https://blog.csdn.net/qq_43085848/article/details/121679021\">https://blog.csdn.net/qq_43085848/article/details/121679021</a></p>\n<h4 id=\"一、华为设备命令视图\"><a href=\"#一、华为设备命令视图\" class=\"headerlink\" title=\"一、华为设备命令视图\"></a>一、华为设备命令视图</h4><p>以下是华为设备的常用命令视图：<br>用户视图：&lt; Huawei&gt;<br>系统视图：&lt; Huawei&gt;system-view&#x2F;sys [Huawei]<br>接口视图：<br>&lt; Huawei&gt;system-view&#x2F;sys<br>[Huawei]interface&#x2F;int Ethernet0&#x2F;0&#x2F;1<br>[Huawei- Ethernet0&#x2F;0&#x2F;1]<br>路由协议视图：[Huawei]isis<br>[Huawei- isis-1]</p>\n<h4 id=\"二、设置设备名称\"><a href=\"#二、设置设备名称\" class=\"headerlink\" title=\"二、设置设备名称\"></a>二、设置设备名称</h4><p>sysname&#x2F;sy命令设置设备的名称<br>&lt; Huawei&gt; system-view<br>[Huawei] sysname Switch 更改设备名称<br>[Switch]</p>\n<h4 id=\"三、常用基本命令\"><a href=\"#三、常用基本命令\" class=\"headerlink\" title=\"三、常用基本命令\"></a>三、常用基本命令</h4><p>1、quit 命令 返回上一级视图<br>2、return 命令 直接返回&lt; Huawei&gt;用户视图<br>3、save 命令 在&lt; Huawei&gt;用户视图使用，保存配置<br>4、reboot 命令 重启设备<br>5、shutdown 命令 关闭端口<br>undo shutdown 命令 激活端口<br>6、undo 命令，有以下：<br>（1）用于恢复缺省情况（例如设置设备的名称）<br>&lt; Huawei&gt; system-view<br>[Huawei] sysname Switch<br>[Switch] undo sysname 恢复缺省情况<br>[Huawei]<br>（2）用于禁用某个功能（例如ftp）<br>&lt; Huawei&gt; system-view<br>[Huawei] ftp server enable<br>[Huawei] undo ftp server 禁用设备的ftp功能<br>（3）用于删除某项设置<br>undo后跟某项命令的设置信息即可删除相关的某项配置</p>\n<h4 id=\"四、关闭泛洪信息\"><a href=\"#四、关闭泛洪信息\" class=\"headerlink\" title=\"四、关闭泛洪信息\"></a>四、关闭泛洪信息</h4><p>&lt; Huawei&gt;undo ter mon 关闭终端显示信息中心发送信息</p>\n<h4 id=\"五、设置设备接口的ip地址和子网掩码\"><a href=\"#五、设置设备接口的ip地址和子网掩码\" class=\"headerlink\" title=\"五、设置设备接口的ip地址和子网掩码\"></a>五、设置设备接口的ip地址和子网掩码</h4><p>[Huawei] interface 接口 进入接口视图<br>[Huawei- Ethernet0&#x2F;0&#x2F;1]ip address ip地址 子网掩码 配置ip地址和子网掩码<br>[Huawei- Ethernet0&#x2F;0&#x2F;1]undo shutdown 启动接口<br>[Huawei- Ethernet0&#x2F;0&#x2F;1]display interface 接口 查看接口状态</p>\n<h4 id=\"六、交换机的登陆\"><a href=\"#六、交换机的登陆\" class=\"headerlink\" title=\"六、交换机的登陆\"></a>六、交换机的登陆</h4><p>(一)设置Console接口密码<br>[Huawei]user-interface console 0 进入控制台接口<br>[Huawei-ui-console0]authentication-mode password 设置认证方式为密码认证<br>[Huawei-ui-console0]set authentication password cipher&#x2F;simple 密码<br>配置密文&#x2F;明文密码<br>[Huawei-ui-console0]user privilege level 级别 配置用户级别，级别可为0-15</p>\n<p>(二)设置Telnet接口密码<br>[Huawei]user-interface vty 0 4 进入VTY接口，最多允许5个用户同时登陆<br>[Huawei-ui-vty0-4]authentication-mode aaa 认证方式为aaa模式<br>[Huawei]aaa 进入aaa配置<br>[Huawei-aaa]local-user 用户名 password cipher&#x2F;simple 密码<br>设置用户的密码<br>[Huawei-aaa]local-user 用户名 service-type telnet<br>设置用户的服务类型协议为telnet，也可以为其它协议，比如http即使用Web界面<br>[Huawei-aaa]local-user 用户名 privilege level 级别 配置用户级别</p>\n<h4 id=\"七、VLAN配置\"><a href=\"#七、VLAN配置\" class=\"headerlink\" title=\"七、VLAN配置\"></a>七、VLAN配置</h4><p>(一)单独和批次创建VLAN<br>&lt; Huawei&gt;system-view<br>[Huawei]vlan 10 创建或进入VLAN10<br>[Huawei]vlan batch 10 to 20 创建VLAN10到VLAN20，共创建11个VLAN<br>batch to表示创建连续的VLAN，若省略to则创建或进入指定号码的VLAN</p>\n<p>(二)进入VLAN视图<br>[Huawei]vlan 10 若已创建vlan，则进入该VLAN视图；若没有则创建VLAN10<br>[Huawei-vlan10]name huawei 配置vlan10的名称为huawei<br>[Huawei]vlan vlan-name huawei 通过更改的VLAN名称进入VLAN视图</p>\n<p>(三)将端口指定到VLAN<br>1、单一端口指定VLAN<br>[Huawei]interface GigabitEthernet 0&#x2F;0&#x2F;1<br>[Huawei-GigabitEthernet 0&#x2F;0&#x2F;1]port link-type access<br>配置接口类型为access<br>[Huawei-GigabitEthernet 0&#x2F;0&#x2F;1]port default vlan ID号<br>配置端口的缺省的VLAN并将接口加入到指定vlan</p>\n<p>2、多个端口指定VLAN<br>[Huawei]vlan 10 进入相关VLAN的视图，这里表示进入vlan10<br>[Huawei-vlan10]port GigabitEthernet 0&#x2F;0&#x2F;1 to 0&#x2F;0&#x2F;10 将多个端口一并设置为相关VLAN，这里是将1~10号接口全部设置为VLAN10</p>\n<p>(四)查看配置情况<br>[Huawei]dislay vlan ID号</p>\n<p>[Huawei]display current-configuration 显示当前配置</p>\n<h4 id=\"八、交换机端口工作模式\"><a href=\"#八、交换机端口工作模式\" class=\"headerlink\" title=\"八、交换机端口工作模式\"></a>八、交换机端口工作模式</h4><p>(一)Access模式(接入模式)<br>Access端口只属于单个VLAN，一般用于连接计算机的端口，即只运行设置一个VLAN，丢弃其它VLAN。<br>[Huawei]interface GigabitEthernet 0&#x2F;0&#x2F;1 进入接口视图<br>[Huawei-GigabitEthernet 0&#x2F;0&#x2F;1]port link-type access 设<br>置端口工作模式为access<br>[Huawei-GigabitEthernet 0&#x2F;0&#x2F;1]port default vlan ID号 配置端口的缺省的VLAN并将接口加入到指定vlan</p>\n<p>(二)Trunk模式<br>Trunk端口允许多个VLAN通过，可以接收和发送多个VLAN报文，一般用于交换机之间端口，只允许默认VLAN报文发送时不打标签，带有标签的数据被转发至另一个交换机Trunk端口。<br>[Huawei]interface GigabitEthernet 0&#x2F;0&#x2F;1<br>[Huawei-GigabitEthernet 0&#x2F;0&#x2F;1]port link-type trunk 设置端口工作模式为trunk<br>[Huawei-GigabitEthernet 0&#x2F;0&#x2F;1]port trunk pvid vlan ID号 指定端口的PVID值<br>[Huawei-GigabitEthernet 0&#x2F;0&#x2F;1]port trunk allow-pass vlan all&#x2F;ID号<br>允许所有或部分VLAN通过trunk口</p>\n<p>(三)Hybrid模式<br>Hybrid端口和Trunk端口一样，不过它既能用于交换机也能用于计算机，允许多个VLAN报文发送时不打标签。<br>[Huawei]interface GigabitEthernet 0&#x2F;0&#x2F;1<br>[Huawei-GigabitEthernet 0&#x2F;0&#x2F;1]port link-type hybrid 设置端口工作模式为hybrid<br>[Huawei-GigabitEthernet 0&#x2F;0&#x2F;1]port hybrid pvid vlan ID号 指定端口的PVID值<br>[Huawei-GigabitEthernet 0&#x2F;0&#x2F;1]port hybrid tagged vlan ID号<br>指定相关VLAN的数据发送时添加Tag<br>[Huawei-GigabitEthernet 0&#x2F;0&#x2F;1]port hybrid tagged(untagged) vlan all&#x2F;ID号<br>允许hybrid端口对所有或部分VLAN添加(不添加）Tag</p>\n<h4 id=\"九、QinQ技术\"><a href=\"#九、QinQ技术\" class=\"headerlink\" title=\"九、QinQ技术\"></a>九、QinQ技术</h4><p>QinQ技术用于解决公网VLAN ID的资源紧缺问题，在IEEE 802.1Q协议标签前再次封装IEEE802.1Q协议标签，其中一层标识用户系统网络，另一层标识网络业务。<br>[Huawei]interface GigabitEthernet 0&#x2F;0&#x2F;1<br>[Huawei-GigabitEthernet0&#x2F;0&#x2F;1]port link-type dot1q-tunnel 设置交换机端口类型为QinQ端口</p>\n<h4 id=\"十、VCMP（VLAN集中管理协议）\"><a href=\"#十、VCMP（VLAN集中管理协议）\" class=\"headerlink\" title=\"十、VCMP（VLAN集中管理协议）\"></a>十、VCMP（VLAN集中管理协议）</h4><p>VLAN集中管理协议可实现在一台交换机上创建、删除VLAN，提供一种在二层网络中传播VLAN配置信息（域内所有指定的其他交换机自动同步创建、删除相应的VLAN），简单的来说，只需在一台交换机上进行创建、删除VLAN的操作，这些操作会同步至指定的所以交换机，从而大大地减少了工作量，并保证了各修改的一致性。</p>\n<p>1、配置交换机接口的链路类型<br>在VCMP管理域中，通过Trunk或Hybrid链路接口连接的同组域名相同的交换机，所以执行命令port link-type { trunk | hybrid }指定接口的链路类型为Trunk或Hybrid，即在进入相应接口后，输入命令port link-type类型，指定配置接口类型。<br>2、配置VCMP角色</p>\n<p>配置角色为服务器角色，缺省时，VCMP管理域中的角色是client。<br>&lt; Huawei&gt;system-view<br>[Huawei]vcmp role server&#x2F;client&#x2F;silent&#x2F;transparent<br>3、配置管理域的域名和管理域认证密码</p>\n<p>在同一VCMP管理域内的每台交换机的域名必须是相同的；管理域认证密码这一步是可选的，即也可以不配置认证密码，缺省情况下，没有配置认证密码，VCMP报文直接认证通过。要注意若设置了认证密码，则Server与所有Client上的密码是要保持一致的，执行命令vcmp authentication sha2-256 password 认证密码，配置VCMP管理域的认证密码。<br>[Huawei]vcmp 设备ID号 设备名称 配置相应域名<br>[Huawei]vcmp authentication 设备名称 password 密码<br>[Huawei]interface GigabitEthernet 0&#x2F;0&#x2F;1 进入需要使能VCMP功能的以太网接口视图，在二层以太网接口上使能，比如这里就是进入GigabitEthernet 0&#x2F;0&#x2F;1接口<br>4、使能VCMP功能的接口</p>\n<p>通过interface命令后跟接口名称，进入需要使能VCMP功能的接口视图，使二层以太网处于使能状态，通过执行undo vcmp disable使基于接口使能VCMP功能，缺省情况下，交换机上的所有接口的VCMP功能处于使能状态。<br>[Huawei-GigabitEthernet0&#x2F;0&#x2F;1]undo vcmp disable 基于该接口使能VCMP功能，缺省情况时则交换机上所有接口的VCMP功能处于使能状态</p>\n<h4 id=\"十一、GVRP-VLAN注册协议\"><a href=\"#十一、GVRP-VLAN注册协议\" class=\"headerlink\" title=\"十一、GVRP(VLAN注册协议)\"></a>十一、GVRP(VLAN注册协议)</h4><p>GVRP协议用于注册和注销VLAN属性，手工配置的VLAN称为静态VLAN，而通过GVRP协议创建的VLAN称为动态VLAN。</p>\n<p>&lt; Huawei&gt;system-view<br>[Huawei]vcmp role silent 配置GVRP之前必须要将VCMP角色设置为Silent或Transparent<br>[Huawei]gvrp 全局使能GVRP功能<br>[Huawei]interface GigabitEthernet 0&#x2F;0&#x2F;1 进入相关接口<br>[Huawei-GigabitEthernet0&#x2F;0&#x2F;1]port link-type trunk 配置接口为trunk类型<br>[Huawei-GigabitEthernet0&#x2F;0&#x2F;1]port trunk allow-pass vlan all 允许所有的VLAN通过该接口<br>[Huawei-GigabitEthernet0&#x2F;0&#x2F;1]gvrp 在接口下执行命令使能接口GVRP功能<br>[Huawei-GigabitEthernet0&#x2F;0&#x2F;1]gvrp registration normal 设置GVRP接口注册模式为normal，简化配置</p>\n<p>[Huawei]display gvrp statistics 在交换机上查看接口的GVRP统计信息</p>\n<h4 id=\"十二、STP（生成树协议）\"><a href=\"#十二、STP（生成树协议）\" class=\"headerlink\" title=\"十二、STP（生成树协议）\"></a>十二、STP（生成树协议）</h4><p>生成树协议是一种链路管理协议，为网络提供路径冗余，同时防止产生环路。</p>\n<p>&lt; Huawei&gt;system-view<br>[Huawei]stp enable 启动生成树协议<br>[Huawei]stp root primary 配置本桥为根桥</p>\n<p>[Huawei]display stp brief 在交换机上查看端口状态和端口的保护类型</p>\n<h4 id=\"十三、VRRP-虚拟路由冗余协议\"><a href=\"#十三、VRRP-虚拟路由冗余协议\" class=\"headerlink\" title=\"十三、VRRP(虚拟路由冗余协议)\"></a>十三、VRRP(虚拟路由冗余协议)</h4><p>虚拟路由冗余协议用于解决局域网中配置静态网关出现单点失效现象的路由协议，可以配置一个交换机群集，通过该协议能实现主设备和备用设备共同分担用户业务的配置。</p>\n<p>&lt; Huawei&gt;system-view<br>[Huawei]interface Ethernet0&#x2F;0&#x2F;1<br>[Huawei- Ethernet0&#x2F;0&#x2F;1]ip addres ip地址 子网掩码</p>\n<p>[Huawei]interface Ethernet0&#x2F;0&#x2F;2<br>[Huawei- Ethernet0&#x2F;0&#x2F;2]ip addres ip地址 子网掩码 配置连接主机的接口IP地址<br>[Huawei- Ethernet0&#x2F;0&#x2F;2]vrrp vrid 1 virtual-ip ip地址 配置备份组1的虚拟网关地址<br>[Huawei- Ethernet0&#x2F;0&#x2F;2]vrrp vrid 1 priority 优先级 配置路由器在备份组1中的优先级[Huawei- Ethernet0&#x2F;0&#x2F;2]vrrp vrid 2 virtual-ip ip地址 配置备份组2的虚拟网关地址</p>\n<p>[Huawei]display vrrp 查看路由器的VRRP状态</p>\n<h4 id=\"十四、BFD（双向转发检测）\"><a href=\"#十四、BFD（双向转发检测）\" class=\"headerlink\" title=\"十四、BFD（双向转发检测）\"></a>十四、BFD（双向转发检测）</h4><p>BFD是一种快速检测、监控网络中链路或IP路由的转发连通状况的全网统一的检测机制。</p>\n<p>&lt; Huawei&gt;system-view<br>[Huawei]bfd 使能全局BFD功能并进入BFD视图<br>*[Huawei]default-ip-address 组播ip地址 配置BFD缺省组播IP地址，缺省情况下，使用组播地址224.0.0.184</p>\n<p>[Huawei]bfd 会话设备名称 bind peer-ip ip地址 interface端口类型 端口号 若有IP地址的三层接口时，创建BFD会话的绑定信息<br>&#x2F;<br>[Huawei]bfd 会话设备名称 bind peer-ip default-ip interface 端口类型 端口号 若为二或无IP的三层接口时，创建组播BFD<br>[Huawei]discriminator local 标识符值 配置BFD会话的本地标识符<br>[Huawei]discriminator remote 标识符值 配置BFD会话的远端标识符<br>[Huawei]commit 提交配置</p>\n<h4 id=\"十五、显示路由器的路由\"><a href=\"#十五、显示路由器的路由\" class=\"headerlink\" title=\"十五、显示路由器的路由\"></a>十五、显示路由器的路由</h4><p>&lt; Huawei&gt;display ip routing-table 显示路由器的路由<br>&lt; Huawei&gt;display ip routing-table verbos 显示路由表的详细信息<br>&lt; Huawei&gt;display ip routing-table acl 编号值 显示通过ACL编号为某值过滤的激活路由的概要信息<br>&lt; Huawei&gt;display ip routing-table 目标网络的网络地址 子网掩码 网关 根据下一跳显示某目的地址的路由</p>\n<h4 id=\"十六、静态路由、默认路由的配置\"><a href=\"#十六、静态路由、默认路由的配置\" class=\"headerlink\" title=\"十六、静态路由、默认路由的配置\"></a>十六、静态路由、默认路由的配置</h4><p>静态路由指定某一网络访问所需要经过的路径，而默认路由是一种特殊的静态路由，当路由表中与包的目的地址之间没有匹配的表项时，路由器做出选择。</p>\n<p>&lt; Huawei&gt;system-view<br>[Huawei]ip routing-static 0.0.0.0 0.0.0.0 默认网关地址 配置默认路由，从而简化配置，提高网络性能</p>\n<p>[Huawei]ip routing-static 目标网络的网络地址 子网掩码 网关 配置静态路由，其中网关处的IP地址说明了路由下一站</p>\n<h4 id=\"十七、向当前路由表中添加一条新的路由表条目\"><a href=\"#十七、向当前路由表中添加一条新的路由表条目\" class=\"headerlink\" title=\"十七、向当前路由表中添加一条新的路由表条目\"></a>十七、向当前路由表中添加一条新的路由表条目</h4><p>[Huawei]route add 210.43.230.33 mask 255.255.255.224 202.103.123.7 metric 5<br>&#x2F;&#x2F;设定一个到目的网络210.43.230.33的路由，中间经过5个路由器网段，首先经过本地网络上的一个路由器IP为202.103.123.7，子网掩码为255.255.255.224</p>\n<h4 id=\"十八、DHCP（动态主机配置协议）\"><a href=\"#十八、DHCP（动态主机配置协议）\" class=\"headerlink\" title=\"十八、DHCP（动态主机配置协议）\"></a>十八、DHCP（动态主机配置协议）</h4><p>动态主机配置协议是基于BOOTP上的改进所来的主机配置协议，通过该协议，DHCP服务器为DHCP客户端进行动态IP地址分配，即不必指明DHCP服务器的IP地址就能获得DHCP服务。</p>\n<p>&lt; Huawei&gt;system-view<br>[Huawei]dhcp option template template1 设置分配的分配的启动配置文件<br>[Huawei-dhcp-option-template-template1]gateway-list 网关地址 配置网关地址<br>[Huawei-dhcp-option-template-template1]bootfile configuration.ini 获取配置文件<br>[Huawei-dhcp-option-template-template1]next-server 配置文件地址 配置获取配置文件地址</p>\n<p>(一)接口模式的DHCP命令<br>[Huawei]dhcp enable 开启DHCP配置功能<br>[Huawei]int g0&#x2F;0&#x2F;1 进入相关接口进行接口模式的DHCP配置<br>[Huawei-GigabitEthernet0&#x2F;0&#x2F;1]ip address ip地址 子网掩码<br>[Huawei-GigabitEthernet0&#x2F;0&#x2F;1]dhcp select interface 开启接口的DHCP功能<br>[Huawei-GigabitEthernet0&#x2F;0&#x2F;1]dhcp server excluded-ip-address 单个要排除的ip地址或两个ip地址即范围<br>[Huawei-GigabitEthernet0&#x2F;0&#x2F;1]dhcp server lease day 天 hour 时 minute 分 设置地址池ip租用有效期<br>&#x2F;*[Huawei- GigabitEthernet0&#x2F;0&#x2F;1]lease unlimited 租期无限制<br>[Huawei-GigabitEthernet0&#x2F;0&#x2F;1]dhcp server dns-list 主要DNS 备用DNS 设置DNS<br>[Huawei-GigabitEthernet0&#x2F;0&#x2F;1]dhcp select interface 开启接口的DHCP功能使其从接口地址池分配地址</p>\n<p>(二)全局模式的DHCP命令<br>[Huawei]dhcp enable<br>[Huawei]ip pool HUAWEI 创建全局地址池，pool后跟名称，这里是HUAWEI<br>[Huawei-ip-pool-HUAWEI]network ip地址 mask 子网掩码 设置全局地址池的范围<br>[Huawei-ip-pool-HUAWEI]getway-list 网关地址 设置分配的网关地址<br>[Huawei-ip-pool-HUAWEI]excluded-ip-address ip地址 ip地址 设置不参与动态分配的地址，可以是一个范围<br>[Huawei-ip-pool-HUAWEI]dhcp server dns-list 主要DNS 备用DNS 设置DNS<br>[Huawei-ip-pool-HUAWEI]lease day 天 hour 时 minute 分 设置地址池ip租用有效期<br>&#x2F;*[Huawei-ip-pool-HUAWEI]lease unlimited 租期无限制<br>[Huawei-ip-pool-HUAWEI]static-bind ip-address ip地址 mac-address MAC地址 option- template template1 对某个MAC地址进行绑定，给该MAC地址分配固定的IP地址<br>[Huawei]int g0&#x2F;0&#x2F;1 进入相关接口<br>[Huawei-GigabitEthernet0&#x2F;0&#x2F;1]dhcp select global 指定该接口采用全局地址池为客户端分配ip地址<br>&lt; Huawei&gt;dis ip pool name 全局地址池名称 all 查看全局地址池的分配信息</p>\n<p>原文链接：<a href=\"https://blog.csdn.net/qq_43085848/article/details/121679021\">https://blog.csdn.net/qq_43085848/article/details/121679021</a></p>\n",
            "tags": [
                "网基",
                "eNSP",
                "转载"
            ]
        }
    ]
}